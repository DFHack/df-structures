<data-definition>
    <enum-type type-name='creature_raw_flags'>
        <enum-item name='unk_wagon'/>
        <enum-item name='EQUIPMENT_WAGON'/>
        <enum-item name='MUNDANE'/>
        <enum-item name='VERMIN_EATER'/>
        <enum-item name='VERMIN_GROUNDER'/>
        <enum-item name='VERMIN_ROTTER'/>
        <enum-item name='VERMIN_SOIL'/>
        <enum-item name='VERMIN_SOIL_COLONY'/>

        <enum-item name='LARGE_ROAMING'/>
        <enum-item name='VERMIN_FISH'/>
        <enum-item name='LOOSE_CLUSTERS'/>
        <enum-item name='FANCIFUL'/>
        <enum-item name='BIOME_MOUNTAIN'/>
        <enum-item name='BIOME_GLACIER'/>
        <enum-item name='BIOME_TUNDRA'/>
        <enum-item name='BIOME_SWAMP_TEMPERATE_FRESHWATER'/>

        <enum-item name='BIOME_SWAMP_TEMPERATE_SALTWATER'/>
        <enum-item name='BIOME_MARSH_TEMPERATE_FRESHWATER'/>
        <enum-item name='BIOME_MARSH_TEMPERATE_SALTWATER'/>
        <enum-item name='BIOME_SWAMP_TROPICAL_FRESHWATER'/>
        <enum-item name='BIOME_SWAMP_TROPICAL_SALTWATER'/>
        <enum-item name='BIOME_SWAMP_MANGROVE'/>
        <enum-item name='BIOME_MARSH_TROPICAL_FRESHWATER'/>
        <enum-item name='BIOME_MARSH_TROPICAL_SALTWATER'/>

        <enum-item name='BIOME_FOREST_TAIGA'/>
        <enum-item name='BIOME_FOREST_TEMPERATE_CONIFER'/>
        <enum-item name='BIOME_FOREST_TEMPERATE_BROADLEAF'/>
        <enum-item name='BIOME_FOREST_TROPICAL_CONIFER'/>
        <enum-item name='BIOME_FOREST_TROPICAL_DRY_BROADLEAF'/>
        <enum-item name='BIOME_FOREST_TROPICAL_MOIST_BROADLEAF'/>
        <enum-item name='BIOME_GRASSLAND_TEMPERATE'/>
        <enum-item name='BIOME_SAVANNA_TEMPERATE'/>

        <enum-item name='BIOME_SHRUBLAND_TEMPERATE'/>
        <enum-item name='BIOME_GRASSLAND_TROPICAL'/>
        <enum-item name='BIOME_SAVANNA_TROPICAL'/>
        <enum-item name='BIOME_SHRUBLAND_TROPICAL'/>
        <enum-item name='BIOME_DESERT_BADLAND'/>
        <enum-item name='BIOME_DESERT_ROCK'/>
        <enum-item name='BIOME_DESERT_SAND'/>
        <enum-item name='BIOME_OCEAN_TROPICAL'/>

        <enum-item name='BIOME_OCEAN_TEMPERATE'/>
        <enum-item name='BIOME_OCEAN_ARCTIC'/>
        <enum-item name='BIOME_SUBTERRANEAN_WATER'/>
        <enum-item name='BIOME_SUBTERRANEAN_CHASM'/>
        <enum-item name='BIOME_SUBTERRANEAN_LAVA'/>
        <enum-item name='BIOME_POOL_TEMPERATE_FRESHWATER'/>
        <enum-item name='BIOME_POOL_TEMPERATE_BRACKISHWATER'/>
        <enum-item name='BIOME_POOL_TEMPERATE_SALTWATER'/>

        <enum-item name='BIOME_POOL_TROPICAL_FRESHWATER'/>
        <enum-item name='BIOME_POOL_TROPICAL_BRACKISHWATER'/>
        <enum-item name='BIOME_POOL_TROPICAL_SALTWATER'/>
        <enum-item name='BIOME_LAKE_TEMPERATE_FRESHWATER'/>
        <enum-item name='BIOME_LAKE_TEMPERATE_BRACKISHWATER'/>
        <enum-item name='BIOME_LAKE_TEMPERATE_SALTWATER'/>
        <enum-item name='BIOME_LAKE_TROPICAL_FRESHWATER'/>
        <enum-item name='BIOME_LAKE_TROPICAL_BRACKISHWATER'/>

        <enum-item name='BIOME_LAKE_TROPICAL_SALTWATER'/>
        <enum-item name='BIOME_RIVER_TEMPERATE_FRESHWATER'/>
        <enum-item name='BIOME_RIVER_TEMPERATE_BRACKISHWATER'/>
        <enum-item name='BIOME_RIVER_TEMPERATE_SALTWATER'/>
        <enum-item name='BIOME_RIVER_TROPICAL_FRESHWATER'/>
        <enum-item name='BIOME_RIVER_TROPICAL_BRACKISHWATER'/>
        <enum-item name='BIOME_RIVER_TROPICAL_SALTWATER'/>
        <enum-item name='GOOD'/>

        <enum-item name='EVIL'/>
        <enum-item name='SAVAGE'/>
        <enum-item name='NOT_ASEXUAL'/>
        <enum-item name='unk_43'/>
        <enum-item name='unk_44'/>
        <enum-item name='unk_45'/>
        <enum-item name='any_vermin'/>
        <enum-item name='CASTE_CAN_LEARN'/>

        <enum-item name='CASTE_VERMIN_HATEABLE'/>
        <enum-item name='unk_49'/>
        <enum-item name='CASTE_LARGE_PREDATOR'/>
        <enum-item name='CASTE_CURIOUSBEAST'/>
        <enum-item name='CASTE_BENIGN'/>
        <enum-item name='CASTE_NATURAL'/>
        <enum-item name='CASTE_MEGABEAST'/>
        <enum-item name='CASTE_SEMIMEGABEAST'/>

        <enum-item name='CASTE_POWER'/>
        <enum-item name='CASTE_VERMIN_MICRO'/>
        <enum-item name='CASTE_NOT_FIREIMMUNE'/>
        <enum-item name='CASTE_MUST_BREATHE_AIR'/>
        <enum-item name='CASTE_MUST_BREATHE_WATER'/>
        <enum-item name='unk_55'/>
        <enum-item name='CASTE_SWIMS_LEARNED'/>
        <enum-item name='CASTE_COMMON_DOMESTIC'/>

        <enum-item name='CASTE_UTTERANCES'/>
        <enum-item name='CASTE_CAN_SPEAK'/>
        <enum-item name='CASTE_FEATURE_BEAST'/>
        <enum-item name='GENERATED'/>
        <enum-item name='CASTE_TITAN'/>
        <enum-item name='CASTE_UNIQUE_DEMON'/>
        <enum-item name='DOES_NOT_EXIST'/>
        <enum-item name='CASTE_unk_9e'/>

        <enum-item name='CASTE_MISCHIEVOUS'/>
        <enum-item name='CASTE_FLIER'/>
        <enum-item name='CASTE_DEMON'/>
        <enum-item name='CASTE_NIGHT_CREATURE_ANY'/>
        <enum-item name='CASTE_NIGHT_CREATURE_HUNTER'/>
        <enum-item name='CASTE_NIGHT_CREATURE_BOGEYMAN'/>
        <enum-item name='CASTE_CARNIVORE'/>
        <enum-item name='ARTIFICIAL_HIVEABLE'/>

        <enum-item name='UBIQUITOUS'/>
        <enum-item name='unk_69'/>
        <enum-item name='CASTE_unk_2b'/>
        <enum-item name='CASTE_BLOOD'/>
        <enum-item name='CASTE_GRAZER'/>
        <enum-item name='CASTE_unk_31'/>
        <enum-item name='unk_6e'/>
        <enum-item name='unk_6f'/>
    </enum-type>

    <enum-type type-name='caste_raw_flags'>
        <enum-item name='AMPHIBIOUS'/>
        <enum-item name='AQUATIC'/>
        <enum-item name='LOCKPICKER'/>
        <enum-item name='MISCHIEVOUS'/>
        <enum-item name='PATTERNFLIER'/>
        <enum-item name='CURIOUSBEAST_ANY'/>
        <enum-item name='CURIOUSBEAST_ITEM'/>
        <enum-item name='CURIOUSBEAST_GUZZLER'/>

        <enum-item name='FLEEQUICK'/>
        <enum-item name='AT_PEACE_WITH_WILDLIFE'/>
        <enum-item name='SWIMS_LEARNED'/>
        <enum-item name='OPPOSED_TO_LIFE'/>
        <enum-item name='CURIOUSBEAST_EATER'/>
        <enum-item name='NO_EAT'/>
        <enum-item name='NO_DRINK'/>
        <enum-item name='NO_SLEEP'/>

        <enum-item name='COMMON_DOMESTIC'/>
        <enum-item name='WAGON_PULLER'/>
        <enum-item name='PACK_ANIMAL'/>
        <enum-item name='FLIER'/>
        <enum-item name='LARGE_PREDATOR'/>
        <enum-item name='MAGMA_VISION'/>
        <enum-item name='FIREIMMUNE'/>
        <enum-item name='FIREIMMUNE_SUPER'/>

        <enum-item name='WEBBER'/>
        <enum-item name='WEBIMMUNE'/>
        <enum-item name='FISHITEM'/>
        <enum-item name='IMMOBILE_LAND'/>
        <enum-item name='IMMOLATE'/>
        <enum-item name='MILKABLE'/>
        <enum-item name='NO_SPRING'/>
        <enum-item name='NO_SUMMER'/>

        <enum-item name='NO_AUTUMN'/>
        <enum-item name='NO_WINTER'/>
        <enum-item name='BENIGN'/>
        <enum-item name='VERMIN_NOROAM'/>
        <enum-item name='VERMIN_NOTRAP'/>
        <enum-item name='VERMIN_NOFISH'/>
        <enum-item name='HAS_NERVES'/>
        <enum-item name='NO_DIZZINESS'/>

        <enum-item name='NO_FEVERS'/>
        <enum-item name='NO_PROFESSION_COLOR' comment='guessed from use'/>
        <enum-item name='unk_2a'/>
        <enum-item name='unk_2b'/>
        <enum-item name='AMBUSHPREDATOR'/>
        <enum-item name='unk_2d'/>
        <enum-item name='NOT_BUTCHERABLE'/>
        <enum-item name='COOKABLE_LIVE'/>

        <enum-item name='unk_30'/>
        <enum-item name='unk_31'/>
        <enum-item name='unk_32'/>
        <enum-item name='MEANDERER'/>
        <enum-item name='THICKWEB'/>
        <enum-item name='TRAINABLE_HUNTING'/>
        <enum-item name='PET'/>
        <enum-item name='PET_EXOTIC'/>

        <enum-item name='unk_38'/>
        <enum-item name='CAN_SPEAK'/>
        <enum-item name='CAN_LEARN'/>
        <enum-item name='UTTERANCES'/>
        <enum-item name='BONECARN'/>
        <enum-item name='CARNIVORE'/>
        <enum-item name='UNDERSWIM'/>
        <enum-item name='NOEXERT'/>

        <enum-item name='NOPAIN'/>
        <enum-item name='EXTRAVISION'/>
        <enum-item name='NOBREATHE'/>
        <enum-item name='NOSTUN'/>
        <enum-item name='NONAUSEA'/>
        <enum-item name='BLOOD'/>
        <enum-item name='TRANCES'/>
        <enum-item name='NOEMOTION'/>

        <enum-item name='SLOW_LEARNER'/>
        <enum-item name='NOSTUCKINS'/>
        <enum-item name='PUS'/>
        <enum-item name='NOSKULL'/>
        <enum-item name='NOSKIN'/>
        <enum-item name='NOBONES'/>
        <enum-item name='NOMEAT'/>
        <enum-item name='PARALYZEIMMUNE'/>

        <enum-item name='NOFEAR'/>
        <enum-item name='CANOPENDOORS'/>
        <enum-item name='unk_52'/>
        <enum-item name='GETS_WOUND_INFECTIONS'/>
        <enum-item name='NOSMELLYROT'/>
        <enum-item name='REMAINS_UNDETERMINED'/>
        <enum-item name='HASSHELL'/>
        <enum-item name='PEARL'/>

        <enum-item name='TRAINABLE_WAR'/>
        <enum-item name='NO_THOUGHT_CENTER_FOR_MOVEMENT'/>
        <enum-item name='ARENA_RESTRICTED'/>
        <enum-item name='LAIR_HUNTER'/>
        <enum-item name='LIKES_FIGHTING'/>
        <enum-item name='VERMIN_HATEABLE'/>
        <enum-item name='VEGETATION'/>
        <enum-item name='MAGICAL'/>

        <enum-item name='NATURAL'/>
        <enum-item name='BABY'/>
        <enum-item name='CHILD'/>
        <enum-item name='MULTIPLE_LITTER_RARE'/>
        <enum-item name='MOUNT'/>
        <enum-item name='MOUNT_EXOTIC'/>
        <enum-item name='FEATURE_ATTACK_GROUP'/>
        <enum-item name='VERMIN_MICRO'/>

        <enum-item name='EQUIPS'/>
        <enum-item name='LAYS_EGGS'/>
        <enum-item name='GRAZER'/>
        <enum-item name='NOTHOUGHT'/>
        <enum-item name='TRAPAVOID'/>
        <enum-item name='CAVE_ADAPT'/>
        <enum-item name='MEGABEAST'/>
        <enum-item name='SEMIMEGABEAST'/>

        <enum-item name='ALL_ACTIVE'/>
        <enum-item name='DIURNAL'/>
        <enum-item name='NOCTURNAL'/>
        <enum-item name='CREPUSCULAR'/>
        <enum-item name='MATUTINAL'/>
        <enum-item name='VESPERTINE'/>
        <enum-item name='LIGHT_GEN'/>
        <enum-item name='LISP'/>

        <enum-item name='GETS_INFECTIONS_FROM_ROT'/>
        <enum-item name='unk_79'/>
        <enum-item name='ALCOHOL_DEPENDENT'/>
        <enum-item name='SWIMS_INNATE'/>
        <enum-item name='POWER'/>
        <enum-item name='unk_7d'/>
        <enum-item name='unk_7e'/>
        <enum-item name='unk_7f'/>

        <enum-item name='CASTE_COLOR'/>
        <enum-item name='unk_81'/>
        <enum-item name='unk_82'/>
        <enum-item name='FEATURE_BEAST'/>
        <enum-item name='TITAN'/>
        <enum-item name='UNIQUE_DEMON'/>
        <enum-item name='DEMON'/>
        <enum-item name='MANNERISM_LAUGH'/>

        <enum-item name='MANNERISM_SMILE'/>
        <enum-item name='MANNERISM_WALK'/>
        <enum-item name='MANNERISM_SIT'/>
        <enum-item name='MANNERISM_BREATH'/>
        <enum-item name='MANNERISM_POSTURE'/>
        <enum-item name='MANNERISM_STRETCH'/>
        <enum-item name='MANNERISM_EYELIDS'/>
        <enum-item name='NIGHT_CREATURE_ANY'/>

        <enum-item name='NIGHT_CREATURE_HUNTER'/>
        <enum-item name='NIGHT_CREATURE_BOGEYMAN'/>
        <enum-item name='CONVERTED_SPOUSE'/>
        <enum-item name='SPOUSE_CONVERTER'/>
        <enum-item name='SPOUSE_CONVERSION_TARGET'/>
        <enum-item name='DIE_WHEN_VERMIN_BITE'/>
        <enum-item name='REMAINS_ON_VERMIN_BITE_DEATH'/>
        <enum-item name='COLONY_EXTERNAL'/>

        <enum-item name='LAYS_UNUSUAL_EGGS'/>
        <enum-item name='RETURNS_VERMIN_KILLS_TO_OWNER'/>
        <enum-item name='HUNTS_VERMIN'/>
        <enum-item name='ADOPTS_OWNER'/>
        <enum-item name='SOUND_ALERT'/>
        <enum-item name='SOUND_PEACEFUL_INTERMITTENT'/>
        <enum-item name='unk_9e'/>
        <enum-item name='unk_9f'/>

        <enum-item name='unk_a0'/>
        <enum-item name='CRAZED'/>
        <enum-item name='BLOODSUCKER'/>
    </enum-type>

    <enum-type type-name='body_part_raw_flags'>
        <enum-item name='HEAD'/>
        <enum-item name='UPPERBODY'/>
        <enum-item name='LOWERBODY'/>
        <enum-item name='SIGHT'/>
        <enum-item name='EMBEDDED'/>
        <enum-item name='INTERNAL'/>
        <enum-item name='CIRCULATION'/>
        <enum-item name='SKELETON'/>

        <enum-item name='LIMB'/>
        <enum-item name='GRASP'/>
        <enum-item name='STANCE'/>
        <enum-item name='GUTS'/>
        <enum-item name='BREATHE'/>
        <enum-item name='SMALL'/>
        <enum-item name='THROAT'/>
        <enum-item name='JOINT'/>

        <enum-item name='THOUGHT'/>
        <enum-item name='NERVOUS'/>
        <enum-item name='RIGHT'/>
        <enum-item name='LEFT'/>
        <enum-item name='HEAR'/>
        <enum-item name='SMELL'/>
        <enum-item name='FLIER'/>
        <enum-item name='DIGIT'/>

        <enum-item name='MOUTH'/>
        <enum-item name='APERTURE'/>
        <enum-item name='SOCKET'/>
        <enum-item name='TOTEMABLE'/>
        <enum-item/>
        <enum-item/>
        <enum-item name='UNDER_PRESSURE'/>
        <enum-item/>
        <enum-item name='VERMIN_BUTCHER_ITEM'/>
        <enum-item name='CONNECTOR'/>
    </enum-type>

    <enum-type type-name='appearance_modifier_type' base-type='int16_t'>
        <enum-item name='HEIGHT'/>
        <enum-item name='BROADNESS'/>
        <enum-item name='LENGTH'/>
        <enum-item name='CLOSE_SET'/>
        <enum-item name='DEEP_SET'/>
        <enum-item name='HIGH_POSITION'/>
        <enum-item name='LARGE_IRIS'/>
        <enum-item name='WRINKLY'/>

        <enum-item name='CURLY'/>
        <enum-item name='CONVEX'/>
        <enum-item name='DENSE'/>
        <enum-item name='THICKNESS'/>
        <enum-item name='UPTURNED'/>
        <enum-item name='SPLAYED_OUT'/>
        <enum-item name='HANGING_LOBES'/>
        <enum-item name='GAPS'/>

        <enum-item name='HIGH_CHEEKBONES'/>
        <enum-item name='BROAD_CHIN'/>
        <enum-item name='JUTTING_CHIN'/>
        <enum-item name='SQUARE_CHIN'/>
        <enum-item name='ROUND_VS_NARROW'/>
        <enum-item name='GREASY'/>
        <enum-item name='DEEP_VOICE'/>
        <enum-item name='RASPY_VOICE'/>
    </enum-type>

    <enum-type type-name='body_part_layer_flags'>
        <enum-item name='CONNECTS'/>
    </enum-type>

    <struct-type type-name='body_part_layer_raw'>
        <stl-string name='layer_name'/>

        <code-helper name='describe'>$.layer_name</code-helper>

        <int32_t name='tissue_id'/>

        <df-flagarray name='flags' index-enum='body_part_layer_flags'/>

        <int32_t name='part_fraction' comment='total 1000'/>

        <int32_t name='healing_rate'/>
        <int32_t name='vascular'/>
        <int32_t name='pain_receptors'/>

        <int32_t name='unk6'/>
        <int16_t name='unk7'/>

        <stl-vector name='bp_modifiers' type-name='int32_t'
                    refers-to='$$._global._upglobal._upglobal._upglobal.bp_appearance.modifier_idx[$].refers-to'/>

        <int32_t name='layer_id' comment='across all body parts'/>

        For subordinate layers:
        <int32_t name='parent_idx' refers-to='$$._global._upglobal.layers[$]'/>
        <int32_t name='parent_layer_id'/>

        <int32_t name='layer_depth' comment='-1 for skin and internal organs'/>
        <int32_t name='unk13'/>
        <int32_t name='unk14'/>
        <int32_t name='styleable_id'/>
    </struct-type>

    <struct-type type-name='body_part_raw'>
        <stl-string name='token'/>
        <stl-string name='category'/>

        <code-helper name='describe'>$.token</code-helper>

        <int16_t name='con_part_id'/>

        <df-flagarray name='flags' index-enum='body_part_raw_flags'/>

        <stl-vector name='layers'>
            <pointer type-name='body_part_layer_raw'/>
        </stl-vector>

        <int32_t name='fraction_total'/>
        <int32_t name='fraction_base'/>
        <int32_t name='fraction_fat'/>
        <int32_t name='fraction_muscle'/>

        <int32_t name='relsize'/>
        <int32_t name='number'/>

        <int16_t name='unk7b'/>

        <stl-vector name='name_singular'>
            <pointer type-name='stl-string'/>
        </stl-vector>
        <stl-vector name='name_plural'>
            <pointer type-name='stl-string'/>
        </stl-vector>

        <pointer name='bp_relation_part_id'>
            <stl-vector type-name='int16_t'/>
        </pointer>
        <pointer name='bp_relation_code'>
            <stl-vector type-name='int16_t'/> // 0 around of, 1 around by
        </pointer>
        <pointer name='bp_relation_coverage'>
            <stl-vector type-name='int16_t'/>
        </pointer>

        <uint16_t name='min_temp'/>
        <uint16_t name='max_temp'/>
        <uint16_t name='temp_factor'/>

        <int32_t name='numbered_idx' comment='defined only if number field nonzero'
                 refers-to='$$._global._upglobal.numbered_masks[$]'/>

        <int16_t name='insulation_fat'/>
        <int16_t name='insulation_muscle'/>
        <int16_t name='insulation_base'/>

        <int32_t name='clothing_item_id' init-value='-1' comment='v0.34.06'/>
    </struct-type>

    <struct-type type-name='color_modifier_raw' key-field='id'>
        <code-helper name='describe'> $.part </code-helper>

        <stl-vector type-name='int32_t' name='pattern_index' ref-target='descriptor_pattern'/>
        <stl-vector type-name='int32_t' name='pattern_frequency'/>

        <stl-vector name='body_part_id' type-name='int16_t'
                    refers-to='$$._global._upglobal.body_info.body_parts[$]'/>
        <stl-vector name='tissue_layer_id' type-name='int16_t'
                    refers-to='$$._global.body_part_id[$$._key].refers-to.layers[$]'
                    index-refers-to='$$._global.body_part_id[$].refers-to'/>

        <int16_t name='unk5' />
        <int32_t name='start_date'/>
        <int32_t name='end_date'/>
        <int32_t name='unk6' />
        <stl-string name="part" />
        <int16_t name="unk_6c"/>
        <int16_t name="unk_6e"/>
        <int32_t name="unk_70"/>
        <int32_t name="id"/>
        <stl-vector name="unk_78">
            <pointer/>
        </stl-vector>
        <stl-vector name="unk_88">
            <pointer/>
        </stl-vector>
    </struct-type>

    <struct-type type-name='body_appearance_modifier' key-field='id'>
        <code-helper name='describe'> $.type </code-helper>
        <enum type-name='appearance_modifier_type' base-type='int16_t' name='type'/>
        <static-array type-name='int32_t' count='7' name='ranges'/>
        <static-array type-name='int32_t' count='6' name='desc_range'/>
        <int32_t/>
        <int16_t/>
        <int32_t comment='0'/>
        <int32_t comment='10000'/>
        <int32_t comment='0'/>
        <int32_t comment='-1'/>
        <int32_t name='importance'/>
        <stl-string name='noun'/>
        <int16_t/>
        <int16_t/>
        <int32_t name='id'/>
        <int32_t name='id2' comment='same as id'/>
    </struct-type>

    <struct-type type-name='bp_appearance_modifier' key-field='id'>
        <code-helper name='describe'> $.type </code-helper>
        <enum type-name='appearance_modifier_type' base-type='int16_t' name='type'/>
        <static-array type-name='int32_t' count='7' name='ranges'/>
        <static-array type-name='int32_t' count='6' name='desc_range'/>
        <int32_t/>
        <int16_t/>
        <int32_t comment='0'/>
        <int32_t comment='10000'/>
        <int32_t comment='0'/>
        <int32_t comment='-1'/>
        <int32_t name='importance'/>
        <stl-string name='noun'/>
        <int16_t name='single_plural'/>
        <int16_t name='unk1'/>
        <int32_t name='id1'/>
        <stl-vector name='body_parts'>
            <int16_t refers-to='$$._global._parent._global.body_info.body_parts[$]'/>
        </stl-vector>
        <stl-vector name='tissue_layer'>
            <int16_t refers-to='$$._parent._parent.body_parts[$$._key].refers-to.layers[$]'/>
        </stl-vector>
        <int32_t name='id'/>
    </struct-type>

    <struct-type type-name='caste_clothing_item'>
        <int16_t name="body_part_id"/>
        <int32_t name="unk_4"/>

        <!-- This stuff appears to be used as temporaries
             during claim selection or whatever. -->
        <static-array name='item' count='3' comment='under, over, cover'>
            <pointer type-name="item"/>
        </static-array>
        <static-array name="unk_14" count='3' type-name='int32_t'/>
        <static-array name="size" count='3' type-name='int32_t'/>
        <static-array name="permit" count='3' type-name='int32_t'/>
        <static-array name="unk_38" count='3' type-name='int32_t'/>
    </struct-type>

    <struct-type type-name='caste_body_info'>
        <stl-vector name='body_parts'>
            <pointer type-name='body_part_raw'/>
        </stl-vector>

        <stl-vector name='attacks'>
            <pointer/>
        </stl-vector>

        <stl-vector name='interactions' comment='v0.34.01'>
            <pointer/>
        </stl-vector>

        <stl-vector name='extra_butcher_objects' comment='v0.34.01'>
            <pointer/>
        </stl-vector>

        <int32_t name='total_relsize' comment='unless INTERNAL or EMBEDDED'/>

        <stl-vector name='layer_part' index-refers-to='$$._global.layer_idx[$].refers-to'>
            <int16_t refers-to='$$._global.body_parts[$]'/>
        </stl-vector>
        <stl-vector name='layer_idx'>
            <int16_t refers-to='$$._global.layer_part[$$._key].refers-to.layers[$]'/>
        </stl-vector>

        <stl-vector type-name='uint32_t' name='numbered_masks'
                    comment='1 bit per instance of a numbered body part'/>

        <stl-vector name='layer_nonsolid' index-refers-to='$$._global.layer_part[$].refers-to'>
            Index in nonsolid_layers if applicable
            <int32_t refers-to='$$._global.nonsolid_layers[$].refers-to'/>
        </stl-vector>

        <stl-vector name='nonsolid_layers'>
            For blood, magma, iron men etc, lists BLOOD/MAGMA/GAS layers.
            For other titans and FBs, lists all layers. For ordinary, empty.
            <int32_t refers-to='$$._global.layer_part[$].refers-to'/>
        </stl-vector>

        <int32_t comment='v0.34.01'/>

        <compound name='materials' type-name='material_vec_ref'/>

        Sums of values in the parts:
        <int32_t name='fraction_total'/>
        <int32_t name='fraction_base'/>
        <int32_t name='fraction_fat'/>
        <int32_t name='fraction_muscle'/>

        <pointer name='clothing_items' comment='v0.34.06'>
            <stl-vector>
                <pointer type-name='caste_clothing_item'/>
            </stl-vector>
        </pointer>
    </struct-type>

    <struct-type type-name='caste_raw'>
        <stl-string name='caste_id'/>

        <code-helper name='describe'>(fmt "~:(~A ~A~)" $.caste_id $.caste_name[0])</code-helper>
        <code-helper name='find-instance'>$global.world.raws.creatures.all[$$].caste[$]</code-helper>

        <static-array type-name='stl-string' name='caste_name' count='3'/>

        <stl-string name='vermin_bite_txt'/>
        <stl-string name='gnawer_txt'/>

        <static-array type-name='stl-string' name='baby_name' count='2'/>
        <static-array type-name='stl-string' name='child_name' count='2'/>
        <static-array type-name='stl-string' name='itemcorpse_str' count='5'/> // temporary
        <static-array type-name='stl-string' name='remains' count='2'/>
        <stl-string name='description'/>
        <static-array type-name='stl-string' name='mannerisms' count='17'>
            <comment>fingers[2], nose, ear, head, eyes, mouth, hair, knuckles, lips, cheek, nails, f eet, arms, hands, tongue, leg</comment>
        </static-array>

        <uint8_t name='caste_tile'/>
        <uint8_t name='caste_soldier_tile'/>
        <uint8_t name='caste_alttile'/>
        <uint8_t name='caste_soldier_alttile'/>
        <uint8_t name='caste_glowtile'/>

        <uint16_t name='homeotherm'/>
        <uint16_t name='min_temp'/>
        <uint16_t name='max_temp'/>
        <uint16_t name='fixed_temp'/>

        <static-array type-name='int16_t' name='caste_color' count='3'/>

        <compound name='misc'>
            <int16_t name='litter_size_min'/>
            <int16_t name='litter_size_max'/>
            <int16_t name='penetratepower'/>
            <int16_t name='vermin_bite_chance'/>
            <int16_t name='grasstrample'/>
            <int16_t name='buildingdestroyer'/>
            <enum base-type='int16_t' name='itemcorpse_itemtype' type-name='item_type'/>
            <int16_t name='itemcorpse_itemsubtype'/>
            <int16_t name='itemcorpse_materialtype'
                     ref-target='material' aux-value='$$.itemcorpse_materialindex'/>
            <int16_t name='itemcorpse_materialindex'/> // NOT 32-bit!
            <int16_t name='itemcorpse_quality'/>
            <static-array type-name='int16_t' name='remains_color' count='3'/>
            <int16_t name='difficulty'/>
            <static-array type-name='int16_t' name='caste_glowcolor' count='3'/>
            <int16_t name='beach_frequency'/>
            <int16_t name='clutch_size_min'/>
            <int16_t name='clutch_size_max'/>
            <int32_t name='speed'/>
            <int32_t name='modvalue'/>
            <int32_t name='petvalue'/>
            <int32_t name='milkable'/>
            <int32_t name='viewrange'/>
            <int32_t name='maxage_min'/>
            <int32_t name='maxage_max'/>
            <int32_t name='baby_age'/>
            <int32_t name='child_age'/>
            <int32_t name='swim_speed'/>
            <int32_t name='trade_capacity'/>
            <int32_t name='unk4'/>
            <int32_t name='pop_ratio'/>
            <int32_t name='adult_size'/>
            <int32_t name='bone_mat' ref-target='material' aux-value='$$.bone_matidx'/>
            <int32_t name='bone_matidx'/>
            <int32_t name='fish_mat_index' refers-to='(food-mat-by-idx $Fish $)'/>
            <int32_t name='egg_mat_index' refers-to='(food-mat-by-idx $Eggs $)'/>
            <static-array type-name='int32_t' name='attack_trigger' count='3'/>
            <int32_t name='egg_size'/>
            <int32_t name='grazer'/>
            <int32_t name='petvalue_divisor'/>
            <int32_t name='prone_to_rage'/>
            <static-array type-name='int32_t' name='unk6' count='29'/>
        </compound>

        <compound name='personality'>
            <static-array type-name='int16_t' name='a' count='30' index-enum='personality_facet_type'/>
            <static-array type-name='int16_t' name='b' count='30' index-enum='personality_facet_type'/>
            <static-array type-name='int16_t' name='c' count='30' index-enum='personality_facet_type'/>
        </compound>

        <df-flagarray name='flags' index-enum='caste_raw_flags'/>

        <int32_t name='index' comment='global across creatures'/>

        <compound name='body_info' type-name='caste_body_info'/>

        <stl-vector name='caste_speech_1'/>
        <stl-vector name='caste_speech_2'/>

        <static-array name='skill_rates' count='4'>
            <static-array type-name='int32_t' count='116' index-enum='job_skill'/>
        </static-array>

        <compound name='attributes'>
            <static-array name='phys_att_range' count='6' index-enum='physical_attribute_type'>
                <static-array type-name='int32_t' count='7'/>
            </static-array>
            <static-array name='ment_att_range' count='13' index-enum='mental_attribute_type'>
                <static-array type-name='int32_t' count='7'/>
            </static-array>
            <static-array name='phys_att_rates' count='6' index-enum='physical_attribute_type'>
                <static-array type-name='int32_t' count='4'/>
            </static-array>
            <static-array name='ment_att_rates' count='13' index-enum='mental_attribute_type'>
                <static-array type-name='int32_t' count='4'/>
            </static-array>
            <static-array type-name='int32_t' name='phys_att_cap_perc' count='6' index-enum='physical_attribute_type'/>
            <static-array type-name='int32_t' name='ment_att_cap_perc' count='13' index-enum='mental_attribute_type'/>
        </compound>

        <int8_t name='gender'/>

        <stl-vector type-name='int32_t' name='body_size_1'/>
        <stl-vector type-name='int32_t' name='body_size_2'/>

        <stl-vector name='body_appearance_modifiers' pointer-type='body_appearance_modifier'/>

        <compound name='bp_appearance'>
            <stl-vector name='modifiers' pointer-type='bp_appearance_modifier'/>

            <stl-vector name='modifier_idx' type-name='int32_t'
                        refers-to='$$._parent._parent.modifiers[$]'
                        index-refers-to='$$._parent.part_idx[$].refers-to'/>
            <stl-vector name='part_idx' type-name='int16_t'
                        refers-to='$$._global.body_info.body_parts[$]'/>
            <stl-vector name='layer_idx' type-name='int16_t'
                        refers-to='$$._parent._parent.part_idx[$$._key].refers-to.layers[$]'
                        index-refers-to='$$._parent.part_idx[$].refers-to'/>

            -- Subset of modifiable layers, i.e. where layer_idx != -1
            <stl-vector name='style_part_idx' type-name='int16_t'
                        refers-to='$$._global.body_info.body_parts[$]'/>
            <stl-vector name='style_layer_idx' type-name='int16_t'
                        refers-to='$$._parent._parent.style_part_idx[$$._key].refers-to.layers[$]'
                        index-refers-to='$$._parent.style_part_idx[$].refers-to'/>
            <stl-vector name='style_list_idx' type-name='int32_t'
                        refers-to='$$._parent._parent.modifier_idx[$].refers-to'
                        index-refers-to='$$._parent.style_layer_idx[$].refers-to'/>
        </compound>

        <stl-vector name='color_modifiers'>
            <pointer type-name='color_modifier_raw'/>
        </stl-vector>
        <stl-vector name='tissue_styles' pointer-type='tissue_style_raw'/>
        <stl-vector name='unk_1204'/>

        <static-array name='unk16a' count='4'>
            <stl-vector/>
        </static-array>
        <static-array name='unk16b' count='4'>
            <stl-vector/>
        </static-array>

        <static-array type-name='int32_t' name='unk18' count='2'/>

        <stl-vector type-name='int16_t' name='natural_skill_id'/>
        <stl-vector type-name='int32_t' name='natural_skill_exp'/>
        <stl-vector type-name='int32_t' name='natural_skill_lvl'/>

        <compound name='caste_profession_name'>
            <static-array type-name='stl-string' name='singular' count='106' index-enum='profession'/>
            <static-array type-name='stl-string' name='plural' count='106' index-enum='profession'/>
        </compound>

        <compound name='extracts'>
            <stl-vector type-name='int16_t' name='extract_mat'/>
            <stl-vector type-name='int32_t' name='extract_matidx'/>
            <static-array name='extract_str' count='3'>
                <stl-vector>
                    <pointer type-name='stl-string'/>
                </stl-vector>
            </static-array>

            <int16_t name='milkable_mat'/>
            <int32_t name='milkable_matidx'/>
            <static-array name='milkable_str' count='3'>
                <stl-string/>
            </static-array>

            <int16_t name='webber_mat'/>
            <int32_t name='webber_matidx'/>
            <static-array name='webber_str' count='3'>
                <stl-string/>
            </static-array>

            <int16_t name='vermin_bite_mat'/>
            <int32_t name='vermin_bite_matidx'/>
            <int16_t name='vermin_bite_chance'/>
            <static-array name='vermin_bite_str' count='3'>
                <stl-string/>
            </static-array>

            <int16_t name='tendons_mat'/>
            <int32_t name='tendons_matidx'/>
            <static-array name='tendons_str' count='3'>
                <stl-string/>
            </static-array>
            <int32_t name='tendons_heal'/>

            <int16_t name='ligaments_mat'/>
            <int32_t name='ligaments_matidx'/>
            <static-array name='ligaments_str' count='3'>
                <stl-string/>
            </static-array>
            <int32_t name='ligaments_heal'/>

            <int16_t name='blood_state'/>
            <int16_t name='blood_mat'/>
            <int32_t name='blood_matidx'/>
            <static-array name='blood_str' count='3'>
                <stl-string/>
            </static-array>

            <int16_t name='pus_state'/>
            <int16_t name='pus_mat'/>
            <int32_t name='pus_matidx'/>
            <static-array name='pus_str' count='3'>
                <stl-string/>
            </static-array>

            <stl-vector type-name='int16_t' name='egg_material_mattype'/>
            <stl-vector type-name='int32_t' name='egg_material_matindex'/>
            <static-array name='egg_material_str' count='3'>
                <stl-vector>
                    <pointer type-name='stl-string'/>
                </stl-vector>
            </static-array>

            <stl-vector name='lays_unusual_eggs_itemtype'>
                <enum base-type='int16_t' type-name='item_type'/>
            </stl-vector>
            <stl-vector name='lays_unusual_eggs_itemsubtype'/>
            <stl-vector type-name='int16_t' name='lays_unusual_eggs_mattype'/>
            <stl-vector type-name='int32_t' name='lays_unusual_eggs_matindex'/>
            <static-array name='lays_unusual_eggs_str' count='5'>
                <stl-vector>
                    <pointer type-name='stl-string'/>
                </stl-vector>
            </static-array>
        </compound>

        <stl-vector name='unk22'/>

        <stl-vector name='creature_class'>
            <pointer type-name='stl-string'/>
        </stl-vector>

        <compound name='unknown2'>
            <stl-vector name='unk23a' type-name='int32_t'/>
            <stl-vector name='unk23b' type-name='int32_t'/>
            <stl-vector name='unk23c' type-name='int32_t'/>
            <stl-vector type-name='int32_t' comment='v0.34.01'/>
            <stl-vector type-name='int32_t' comment='v0.34.01'/>
            <stl-vector type-name='int32_t' comment='v0.34.01'/>
            <stl-vector type-name='int32_t' comment='v0.34.01'/>

            <df-flagarray name='unk24_flags'/>
            <df-flagarray name='unk25_flags'/>

            <static-array name='armor_sizes' count='4' comment='index by UBSTEP'>
                <static-array type-name='int32_t' count='4' comment='index by LBSTEP'/>
            </static-array>
            <static-array type-name='int32_t' name='pants_sizes' count='4' comment='index by LBSTEP'/>
            <int32_t name='helm_size'/>
            <static-array type-name='int32_t' name='shield_sizes' count='4' comment='index by UPSTEP'/>
            <static-array type-name='int32_t' name='shoes_sizes' count='4' comment='index by UPSTEP'/>
            <static-array type-name='int32_t' name='gloves_sizes' count='4' comment='index by UPSTEP'/>

            <compound name='materials' type-name='material_vec_ref'/>
            <stl-vector name='unk_2f20' type-name='int16_t'/>
            <stl-vector name='unk_2f30' type-name='int8_t'/>
            <stl-vector name='unk_2f40' type-name='int32_t'/>
            <stl-vector name='unk_2f50' type-name='int16_t' comment='v0.34.01'/>

            muscle:
            <int16_t name='mat_type' ref-target='material' aux-value='$$.mat_index'/>
            <int32_t name='mat_index'/>
        </compound>

        <static-array type-name='int32_t' name='habit_num' count='2'/>
        <static-array name='habit' count='2'><stl-vector/></static-array>
        <static-array name='lair' count='2'><stl-vector/></static-array>
        <static-array name='lair_characteristic' count='2'><stl-vector/></static-array>
        <static-array name='lair_hunter_speech' count='2'><stl-vector/></static-array>
        <static-array name='unk29' count='2'><stl-vector/></static-array>
        <static-array name='specific_food' count='2'><stl-vector/></static-array>

        <stl-vector name='sound'><pointer/></stl-vector>
        <stl-vector type-name='int32_t' name='sound_alert'/>
        <stl-vector type-name='int32_t' name='sound_peaceful_intermittent'/>

        <stl-vector type-name='pointer' comment='v0.34.01'/>
    </struct-type>

    <enum-type type-name='creature_graphics_role'>
        <enum-item name='DEFAULT'/>
        <enum-item name='ADVENTURER'/>
        <enum-item name='GUARD'/>
        <enum-item name='ROYALGUARD'/>
        <enum-item name='ANIMATED'/>
        <enum-item name='GHOST'/>
    </enum-type>

    <struct-type type-name='creature_graphics_appointment' key-field='token'>
        <stl-string name='token'/>

        <static-array name='texpos' type-name='int32_t'
                      count='6' index-enum='creature_graphics_role'/>
        <static-array name='texpos_gs' type-name='int32_t'
                      count='6' index-enum='creature_graphics_role'/>
        <static-array name='add_color' type-name='bool'
                      count='6' index-enum='creature_graphics_role'/>
    </struct-type>

    <struct-type type-name='tissue_style_raw' key-field='id'>
        <stl-string name="token"/>
        <code-helper name='describe'>$.token</code-helper>

        <stl-vector name='part_idx' type-name='int16_t'
                    refers-to='$$._global._upglobal.body_info.body_parts[$]'/>
        <stl-vector name='layer_idx' type-name='int16_t'
                    refers-to='$$._parent._parent.part_idx[$$._key].refers-to.layers[$]'
                    index-refers-to='$$._parent.part_idx[$].refers-to'/>

        <stl-vector name="styles" type-name="int16_t"/>

        <stl-vector name="list_idx" type-name="int32_t"
                    refers-to='$$._global._upglobal.bp_appearance.style_layer_idx[$].refers-to'/>

        <int32_t name="id"/>

        <stl-string name="noun"/>
        <enum base-type='int16_t' type-name='part_of_speech'
              name="word_type" comment='0 singular, 1 plural'/>
    </struct-type>

    <struct-type type-name='creature_raw' instance-vector='$global.world.raws.creatures.all'>
        <stl-string name='creature_id'/>

        <code-helper name='describe'>$.creature_id</code-helper>

        <static-array type-name='stl-string' name='name' count='3'/>
        <static-array type-name='stl-string' name='general_baby_name' count='2'/>
        <static-array type-name='stl-string' name='general_child_name' count='2'/>

        <uint8_t name='creature_tile'/>
        <uint8_t name='creature_soldier_tile'/>
        <uint8_t name='alttile'/>
        <uint8_t name='soldier_alttile'/>
        <uint8_t name='glowtile'/>

        <uint16_t name='temperature1'/>
        <uint16_t name='temperature2'/>

        <int16_t name='frequency'/>
        <static-array type-name='int16_t' name='population_number' count='2'/>
        <static-array type-name='int16_t' name='cluster_number' count='2'/>
        <static-array type-name='int16_t' name='triggerable_group' count='2'/>
        <static-array type-name='int16_t' name='color' count='3'/>
        <static-array type-name='int16_t' name='glowcolor' count='3'/>

        <int32_t name='adultsize'/>

        <stl-vector name='prefstring'>
            <pointer type-name='stl-string'/>
        </stl-vector>

        <stl-vector type-name='int16_t' name='sphere'/>
        <stl-vector name='caste'>
            <pointer type-name='caste_raw'/>
        </stl-vector>

        <stl-vector type-name='int32_t' name='pop_ratio'/>

        <df-flagarray name='flags' index-enum='creature_raw_flags'/>

        <compound name='graphics'>
            <static-array name='texpos' type-name='int32_t'
                          count='6' index-enum='creature_graphics_role'/>
            <static-array name='texpos_gs' type-name='int32_t'
                          count='6' index-enum='creature_graphics_role'/>

            <static-array name='entity_link_texpos'
                          count='6' index-enum='creature_graphics_role'>
                <static-array count='13' type-name='int32_t' index-enum='histfig_entity_link_type'/>
            </static-array>
            <static-array name='entity_link_texpos_gs'
                          count='6' index-enum='creature_graphics_role'>
                <static-array count='13' type-name='int32_t' index-enum='histfig_entity_link_type'/>
            </static-array>

            <static-array name='site_link_texpos'
                          count='6' index-enum='creature_graphics_role'>
                <static-array count='7' type-name='int32_t' index-enum='histfig_site_link_type'/>
            </static-array>
            <static-array name='site_link_texpos_gs'
                          count='6' index-enum='creature_graphics_role'>
                <static-array count='7' type-name='int32_t' index-enum='histfig_site_link_type'/>
            </static-array>

            <static-array name='profession_texpos'
                          count='6' index-enum='creature_graphics_role'>
                <static-array count='106' type-name='int32_t' index-enum='profession'/>
            </static-array>
            <static-array name='profession_texpos_gs'
                          count='6' index-enum='creature_graphics_role'>
                <static-array count='106' type-name='int32_t' index-enum='profession'/>
            </static-array>

            <static-array name='add_color' type-name='bool'
                          count='6' index-enum='creature_graphics_role'/>

            <static-array name='entity_link_add_color'
                          count='6' index-enum='creature_graphics_role'>
                <static-array count='13' type-name='bool' index-enum='histfig_entity_link_type'/>
            </static-array>

            <static-array name='site_link_add_color'
                          count='6' index-enum='creature_graphics_role'>
                <static-array count='7' type-name='bool' index-enum='histfig_site_link_type'/>
            </static-array>

            <static-array name='profession_add_color'
                          count='6' index-enum='creature_graphics_role'>
                <static-array count='106' type-name='bool' index-enum='profession'/>
            </static-array>

            <stl-vector name='appointments' pointer-type='creature_graphics_appointment'/>
        </compound>

        <stl-vector name='speech1' type-name='int8_t'/>
        <stl-vector name='speech2' type-name='int32_t'/>
        <stl-vector name='speech3'/>

        <stl-vector name='material'>
            <pointer type-name='material'/>
        </stl-vector>
        <stl-vector type-name='pointer' name='tissue'/>

        <compound name='profession_name'>
            <static-array type-name='stl-string' name='singular' count='106' index-enum='profession'/>
            <static-array type-name='stl-string' name='plural' count='106' index-enum='profession'/>
        </compound>

        <int32_t name='underground_layer_min'/>
        <int32_t name='underground_layer_max'/>

        <stl-vector name='modifier_class'>
            <int32_t>
                <code-helper name='refers-to'>
                    (let* ((castes $$._global.caste.*)
                           (id $$._key)
                           (vectors (case $
                                      (0 $castes.body_appearance_modifiers)
                                      (1 $castes.bp_appearance.modifiers)
                                      (2 $castes.color_modifiers)
                                      (3 $castes.tissue_styles))))
                      (dolist (v vectors)
                        (awhen (find-by-id v $id id)
                          (return it))))
                </code-helper>
            </int32_t>
        </stl-vector>
        <stl-vector type-name='int32_t' name='modifier_num_patterns'
                    comment='for color modifiers, == number of items in their pattern_* vectors'
                    index-refers-to='$$._parent.modifier_class[$].refers-to'/>

        <stl-vector type-name='int32_t' name='hive_product_0'/>
        <stl-vector type-name='int32_t' name='hive_product_1'/>
        <stl-vector type-name='int16_t' name='hive_product_2'/>
        <stl-vector type-name='int16_t' name='hive_product_3'/>
        <stl-vector type-name='int16_t' name='hive_product_4'/>
        <stl-vector type-name='int32_t' name='hive_product_5'/>

        <static-array name='hive_product_tmpstr' count='5'>
            <stl-vector>
                <pointer type-name='stl-string'/>
            </stl-vector>
        </static-array>

        <int32_t name='next_modifier_id'/>

        <stl-vector name='raws'>
            <pointer type-name='stl-string'/>
        </stl-vector>
    </struct-type>

    <struct-type type-name='creature_variation_convert_tag'>
        <stl-string name='cvct_master'/>
        <stl-string name='cvct_target'/>
        <stl-string name='cvct_replacement'/>
    </struct-type>

    <struct-type type-name='creature_variation' instance-vector='$global.world.raws.creature_variations'>
        <stl-string name='id'/>
        <stl-vector name='cv_convert_tag'>
            <pointer type-name='creature_variation_convert_tag'/>
        </stl-vector>
        <stl-vector name='cv_new_tag'>
            <pointer type-name='stl-string'/>
        </stl-vector>
        <stl-vector name='cv_remove_tag'>
            <pointer type-name='stl-string'/>
        </stl-vector>
    </struct-type>

    <enum-type type-name='body_part_template_flags'>
        <enum-item name='HEAD'/>
        <enum-item name='UPPERBODY'/>
        <enum-item name='LOWERBODY'/>
        <enum-item name='SIGHT'/>
        <enum-item name='EMBEDDED'/>
        <enum-item name='INTERNAL'/>
        <enum-item name='CIRCULATION'/>
        <enum-item name='SKELETON'/>

        <enum-item name='LIMB'/>
        <enum-item name='GRASP'/>
        <enum-item name='STANCE'/>
        <enum-item name='GUTS'/>
        <enum-item name='BREATHE'/>
        <enum-item name='SMALL'/>
        <enum-item name='THROAT'/>
        <enum-item name='JOINT'/>

        <enum-item name='THOUGHT'/>
        <enum-item name='NERVOUS'/>
        <enum-item name='RIGHT'/>
        <enum-item name='LEFT'/>
        <enum-item name='HEAR'/>
        <enum-item name='SMELL'/>
        <enum-item name='FLIER'/>
        <enum-item name='DIGIT'/>

        <enum-item name='MOUTH'/>
        <enum-item name='APERTURE'/>
        <enum-item name='SOCKET'/>
        <enum-item name='TOTEMABLE'/>
        <enum-item name='UNDER_PRESSURE'/>
        <enum-item name='VERMIN_BUTCHER_ITEM'/>
        <enum-item name='CONNECTOR'/>
    </enum-type>

    <enum-type type-name='body_part_template_contype' base-type='int16_t'>
        <enum-item name='UPPERBODY'/>
        <enum-item name='LOWERBODY'/>
        <enum-item name='HEAD'/>
        <enum-item name='GRASP'/>
        <enum-item name='STANCE'/>
    </enum-type>

    <struct-type type-name='body_part_template'>
        <stl-string name='id'/>
        <stl-string name='con'/>
        <stl-string name='category'/>
        <stl-string name='con_cat'/>
        <enum type-name='body_part_template_contype' base-type='int16_t' name='contype'/>

        <df-flagarray name='flags' index-enum='body_part_template_flags'/>

        <int32_t name='default_relsize'/>
        <int32_t name='number'/>

        <stl-vector name='name_singular' comment='first comes from BP, rest come from INDIVIDUAL_NAME'>
            <pointer type-name='stl-string'/>
        </stl-vector>
        <stl-vector name='name_plural'>
            <pointer type-name='stl-string'/>
        </stl-vector>
    </struct-type>

    <struct-type type-name='body_template' instance-vector='$global.world.raws.body_templates'>
        <stl-string name='id'/>
        <stl-vector name='parts'>
            <pointer type-name='body_part_template'/>
        </stl-vector>
    </struct-type>

    <enum-type type-name='tissue_template_flags'>
        <enum-item name='THICKENS_ON_STRENGTH'/>
        <enum-item name='THICKENS_ON_ENERGY_STORAGE'/>
        <enum-item name='ARTERIES'/>
        <enum-item name='SCARS'/>
        <enum-item name='STRUCTURAL'/>
        <enum-item name='NERVOUS'/>
        <enum-item name='THOUGHT'/>
        <enum-item name='MUSCULAR'/>

        <enum-item name='SMELL'/>
        <enum-item name='HEAR'/>
        <enum-item name='FLIGHT'/>
        <enum-item name='BREATHE'/>
        <enum-item name='SIGHT'/>
        <enum-item name='COSMETIC'/>
        <enum-item name='CONNECTS'/>
        <enum-item name='FUNCTIONAL'/>

        <enum-item name='MAJOR_ARTERIES'/>
        <enum-item name='TISSUE_LEAKS'/>
        <enum-item name='STYLEABLE'/>
        <enum-item name='CONNECTIVE_TISSUE_ANCHOR'/>
        <enum-item name='SETTABLE'/>
        <enum-item name='SPLINTABLE'/>
    </enum-type>

    <struct-type type-name='tissue_template' instance-vector='$global.world.raws.tissue_templates'>
        <stl-string name='id'/>
        <df-flagarray name='flags' index-enum='tissue_template_flags'/>
        <stl-string name='tissue_name_singular'/>
        <stl-string name='tissue_name_plural'/>
        <static-array name='tissue_material_str' type-name='stl-string' count='3'/>
        <int16_t/>
        <int32_t/>
        <int32_t name='relative_thickness'/>
        <int32_t name='healing_rate'/>
        <int32_t name='vascular'/>
        <int32_t name='pain_receptors'/>
        <int16_t name='tissue_shape'/>
        <int32_t/>
        <int16_t name='insulation'/>
        <stl-string name='subordinate_to_tissue'/>
        <int16_t name='tissue_mat_state'/>
        <stl-string name='tissue_shape_str'/>
    </struct-type>

    <struct-type type-name='body_detail_plan' instance-vector='$global.world.raws.body_detail_plans'>
        <stl-string name='id'/>
        <stl-vector name='add_material_name'> <pointer type-name='stl-string'/> </stl-vector>
        <stl-vector name='add_material_template'> <pointer type-name='stl-string'/> </stl-vector>
        <stl-vector name='add_tissue_name'> <pointer type-name='stl-string'/> </stl-vector>
        <stl-vector name='add_tissue_template'> <pointer type-name='stl-string'/> </stl-vector>
        <stl-vector name='unk5c'/>
        <stl-vector name='unk6c'/>
        <stl-vector name='unk7c'/>
        <stl-vector name='bp_layers_selection'/>
        <stl-vector name='bp_layers_criteria'/>
        <stl-vector name='bp_layers_tissue'/>
        <stl-vector name='bp_layers_thickness'/>
        <stl-vector name='bp_layers_position'/>
        <stl-vector name='bp_layers_over_under'/>
        <stl-vector name='bp_relsize_selection'/>
        <stl-vector name='bp_relsize_criteria'/>
        <stl-vector name='bp_relsize_value'/>
        <stl-vector name='bp_position_selection'/>
        <stl-vector name='bp_position_criteria'/>
        <stl-vector name='bp_position_value'/>
        <stl-vector name='bp_relation_selection_1'/>
        <stl-vector name='bp_relation_criteria_1'/>
        <stl-vector name='bp_relation_value_1'/>
        <stl-vector name='bp_relation_selection_2'/>
        <stl-vector name='bp_relation_criteria_2'/>
        <stl-vector name='bp_relation_extent'/>
    </struct-type>
</data-definition>

<!--
Local Variables:
indent-tabs-mode: nil
nxml-child-indent: 4
End:
-->
