{"version":1,"ops":[{"type":1,"author":{"id":"d697a54965c18cff5be0f6cc8c1fae428be2de74"},"timestamp":1435282396,"metadata":{"github-id":"MDU6SXNzdWU5MTEyMTIyNg==","github-url":"https://github.com/DFHack/df-structures/issues/45","origin":"github"},"title":"New global - the type of building being linked to a lever/pressure plate","message":"I seem to have found a new global, it's a one byte value immediately following `ui_workshop_in_add` and specifies the type of building being linked to a lever/pressure plate. Interesting thing is that it takes not values from `building_type`, but character code of a key you use to initiate linkage, e.g. `b` for bridge, ... , `T` for track stop. It's set to `0xff` when not in the linkage mode.\n\nEDIT: Also it's set to `t` when choosing a mechanism for the target, and to `l` when choosing a mechanism for the lever/pressure plate (with `ui_building_assign_items` holding the list of choices).\n\nSince globals need to be updated manually for new DF versions, what's the procedure of adding a new one?","files":null}]}