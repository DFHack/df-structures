<data-definition>
    <struct-type type-name='file_compressorst' custom-methods='true'>
        Note: the assign operator is manually implemented

        <bool name='compressed'/>
        <stl-fstream name='f'/>

        <pointer name='in_buffer' type-name='uint8_t' is-array='true'/>
        <long name='in_buffersize'/>
        <long name='in_buffer_amount_loaded'/>
        <long name='in_buffer_position'/>

        <pointer name='out_buffer' type-name='uint8_t' is-array='true'/>
        <long name='out_buffersize'/>
        <int32_t name='out_buffer_amount_written'/>
    </struct-type>

    <enum-type type-name='interface_breakdown_types' base-type='int8_t'>
        <enum-item name='NONE'/>
        <enum-item name='QUIT'/>
        <enum-item name='STOPSCREEN'/>
        <enum-item name='TOFIRST'/>
    </enum-type>

    <enum-type type-name='interface_push_types'>
        <enum-item name='AS_PARENT'/>
        <enum-item name='AS_CHILD'/>
        <enum-item name='AT_BACK'/>
        <enum-item name='AT_FRONT'/>
    </enum-type>

    <class-type type-name='abstract_interfacest'>
        <virtual-methods>
            <vmethod name='get_rect' ret-type='extentst'/>
            <vmethod name='feed'>
                <pointer name='events'>
                    <stl-set>
                        <enum type-name='interface_key' base-type='long'/>
                    </stl-set>
                </pointer>
            </vmethod>
            <vmethod name='logic'/>
            <vmethod name='render'/>
            <vmethod name='arrange' since='v50.10'/>
            <vmethod name='remove_child'>
                <pointer name='w'/>
            </vmethod>
            <vmethod name='clear'/>
        </virtual-methods>
    </class-type>

    <class-type type-name='viewscreen' original-name='viewscreenst' inherits-from='abstract_interfacest' custom-methods='true'>
        <pointer name='child' type-name='viewscreen'/>
        <pointer name='parent' type-name='viewscreen'/>
        <enum base-type='int8_t' name='breakdown_level' type-name='interface_breakdown_types' init-value='NONE'/>
        <int8_t name='option_key_pressed'/>
        <compound type-name='widget_container' name='widgets'/>

        <virtual-methods>
            <vmethod name='resize'><int32_t name='w'/><int32_t name='h'/></vmethod>
            <vmethod name='set_port_flags'/>
            <vmethod is-destructor='true'/>
        </virtual-methods>

        <custom-methods>
            <cmethod name='feed_key'/>
        </custom-methods>
    </class-type>

    <struct-type type-name='interfacest'>
        <int32_t name='original_fps'/>

        <compound name='view' type-name='viewscreen'/>
        <uint32_t name='flag'/>
        <int32_t name='shutdown_interface_tickcount'/>
        <int32_t name='shutdown_interface_for_ms'/>
    </struct-type>

<!--
    <class-type type-name='layer_object' original-name='layer_objectst'>
        <bool name='enabled'/>
        <bool name='active'/>

        <virtual-methods>
            No destructor anywhere:
            <vmethod ret-type='int32_t' name='getFirstVisible'/>
            <vmethod ret-type='int32_t' name='getLastVisible'/>
            <vmethod ret-type='int32_t' name='getX1'/>
            <vmethod ret-type='int32_t' name='getY1'/>
            <vmethod ret-type='int32_t' name='getX2'/>

            <vmethod ret-type='int32_t' name='getY2'/>
            <vmethod ret-type='int32_t' comment='list 1; button,base -1'/>
            <vmethod ret-type='int32_t' name='getListCursor'/>
            <vmethod name='setListCursor'> <int32_t/> </vmethod>
            <vmethod name='feed'>
                <pointer name='events'> <stl-set>
                    <enum type-name='interface_key' base-type='int32_t'/>
                </stl-set> </pointer>
            </vmethod>

            <vmethod ret-type='bool' name='isSetMouseLRCur'/>
            <vmethod ret-type='bool' name='isSetMouseLCur'/>
            <vmethod ret-type='bool' name='isSetMouseRCur'/>
            <vmethod ret-type='int32_t' name='getMouseLCur'/>
            <vmethod ret-type='int32_t' name='getMouseRCur'/>

            <vmethod name='getMouseLClickPos'> <pointer type-name='int32_t' name='x'/> <pointer type-name='int32_t' name='y'/> </vmethod>
            <vmethod name='getMouseRClickPos'> <pointer type-name='int32_t' name='x'/> <pointer type-name='int32_t' name='y'/> </vmethod>
            <vmethod ret-type='int32_t' name='getListLength'/>
            <vmethod name='setListLength'> <int32_t/> </vmethod>
            <vmethod ret-type='int32_t' name='getMouseX'/>

            <vmethod ret-type='int32_t' name='getMouseY'/>
            <vmethod ret-type='int32_t' name='getMouseXOld'/>
            <vmethod ret-type='int32_t' name='getMouseYOld'/>
        </virtual-methods>
    </class-type>

    <class-type type-name='layer_object_listst' inherits-from='layer_object'>
        <int32_t name='cursor'/>
        <int32_t name='num_entries'/>
        <int32_t name='x1'/>
        <int32_t name='y1'/>
        <int32_t name='page_size'/>
        <int32_t name='x2'/>
        <int32_t name='y2'/>
        <int32_t name='mouse_l_cur'/>
        <int32_t name='mouse_r_cur'/>
        <bool name='rclick_scrolls'/>
        <int32_t name='flag' comment='for standardscrolling'/>
        <enum name='key_lclick' base-type='int32_t' type-name='interface_key'/>
        <enum name='key_rclick' base-type='int32_t' type-name='interface_key'/>
    </class-type>

    <class-type type-name='layer_object_buttonst' inherits-from='layer_object'>
        <int32_t name='x1'/>
        <int32_t name='y1'/>
        <int32_t name='x2'/>
        <int32_t name='y2'/>
        <int32_t name='has_mouse_lclick'/>
        <int32_t name='has_mouse_rclick'/>
        <int32_t name='mouse_lclick_x'/>
        <int32_t name='mouse_lclick_y'/>
        <int32_t name='mouse_rclick_x'/>
        <int32_t name='mouse_rclick_y'/>
        <int32_t name='mouse_x'/>
        <int32_t name='mouse_y'/>
        <int32_t name='mouse_x_old'/>
        <int32_t name='mouse_y_old'/>
        <int8_t name='handle_mouselbtndown'/>
        <int8_t name='handle_mouserbtndown'/>
    </class-type>
-->

    <struct-type type-name='scrollbarst'>
        <int32_t name='sel'/>
        <int32_t name='sel_min'/>
        <int32_t name='sel_max'/>
        <int32_t name='page_size'/>
        <int32_t name='print_sy'/>
        <int32_t name='print_ey'/>

        <int32_t name='scroller_sy'/>
        <int32_t name='scroller_ey'/>
    </struct-type>

    <struct-type type-name='extentst'>
        <int32_t name='x'/>
        <int32_t name='y'/>
        <int32_t name='w'/>
        <int32_t name='h'/>
    </struct-type>

    <class-type type-name='widget' original-name='widgets::widget'>
        <pointer name='parent'/>
        <compound type-name='extentst' name='rect'/>
        <stl-optional name='custom_feed'>
            <stl-function/>
        </stl-optional>
        <stl-string name='name'/>
        <bitfield name='visibility_flags' base-type='int8_t'>
            <flag-bit name='WIDGET_VISIBILITY_ACTIVE'/>
            <flag-bit name='WIDGET_VISIBILITY_ACTUALLY_VISIBLE'/>
        </bitfield>
        <int32_t name='offset_bottom'/>
        <int32_t name='offset_left'/>
        <int32_t name='offset_right'/>
        <int32_t name='offset_top'/>
        <s-float name='anchor_top'/>
        <s-float name='anchor_bottom'/>
        <s-float name='anchor_left'/>
        <s-float name='anchor_right'/>
        <int32_t name='min_w'/>
        <int32_t name='min_h'/>
        <stl-string name='tooltip'/>
        <enum name='tooltip_type' base-type='int8_t'>
            <enum-item name='NONE' value='-1'/>
            <enum-item name='REPLACE_MINIMAP'/>
            <enum-item name='ABOVE'/>
            <enum-item name='BELOW'/>
        </enum>
        <bool name='displaying_tooltip'/>
        <stl-string name='search_string'/>

        <virtual-methods>
            -- from abstract_interface
            <vmethod name='get_rect' ret-type='extentst'/>
            <vmethod name='feed'>
                <pointer name='events'> <stl-set>
                    <enum type-name='interface_key' base-type='int32_t'/>
                </stl-set> </pointer>
            </vmethod>
            <vmethod name='logic'/>
            <vmethod name='render'/>
            <vmethod name='arrange'/>
            <vmethod name='remove_child'> <pointer name='w'/> </vmethod>
            <vmethod name='clear'/>
            -- from widget itself
            <vmethod name='is_container' ret-type='bool'/>
            <vmethod is-destructor='true'/>
        </virtual-methods>
    </class-type>

    <class-type type-name='widget_text' original-name='widgets::text' inherits-from='widget'>
        <stl-string name='str'/>
        <int16_t name='fg'/>
        <int16_t name='bg'/>
        <bool name='bright'/>
    </class-type>

    <class-type type-name='widget_text_multiline' original-name='widgets::text_multiline' inherits-from='widget_text'>
        <stl-vector type-name='stl-string' name='strs'/>
    </class-type>

    <class-type type-name='widget_nineslice' original-name='widgets::nineslice' inherits-from='widget'>
        <pointer type-name='int32_t' name='selected_texpos'/>
    </class-type>

    <class-type type-name='widget_custom_render' original-name='widgets::custom_render' inherits-from='widget'>
        <stl-function name='callback'/>
    </class-type>

    <class-type type-name='widget_menu' original-name='widgets::menu' inherits-from='widget'>
        <stl-map name='lines'/>
        <int32_t name='selection'/>
        <int32_t name='last_displayheight'/>
        <bool name='bleached'/>
        <stl-map name='colors'/>
    </class-type>

    <class-type type-name='widget_textbox' original-name='widgets::textbox' inherits-from='widget'>
        <stl-string name='str'/>
        <compound type-name='widget_button' name='toggle'/>
        <int32_t name='flags'/>
        <stl-function name='callback' comment='arguments are textbox*'/>
        <int16_t name='fg'/>
        <int16_t name='bg'/>
        <int8_t name='bright'/>
        <bool name='input'/>
        <int32_t name='maxlen'/>
    </class-type>

    <class-type type-name='widget_button' original-name='widgets::button' inherits-from='widget'>
        <stl-function name='callback' comment='arguments are button*'/>
    </class-type>

    <class-type type-name='widget_container' original-name='widgets::container' inherits-from='widget'>
        <stl-map name='children_by_name' comment='std::map&lt;std::string,std::shared_ptr&lt;widget&gt;&gt;'/>
        <stl-vector name='children'>
            <stl-shared-ptr type-name='widget'/>
        </stl-vector>
    </class-type>

    <class-type type-name='widget_stack' original-name='widgets::widget_stack' inherits-from='widget_container'>
    </class-type>

    <class-type type-name='widget_rows_container' original-name='widgets::rows_container' inherits-from='widget_container'>
        <int32_t name='padding'/>
    </class-type>

    <class-type type-name='widget_columns_container' original-name='widgets::columns_container' inherits-from='widget_container'>
        <int32_t name='padding'/>
    </class-type>

    <class-type type-name='widget_tabs' original-name='widgets::tabs' inherits-from='widget_container'>
        <size_t name='cur_idx'/>
        <stl-vector name='tab_labels' pointer-type='stl-string'/>
        <stl-vector name='rows' comment='actually std::pair of size_t, size_t'/>
        <enum name='tab_type'>
            <enum-item name='DEFAULT'/>
            <enum-item name='SHORT'/>
            <enum-item name='SHORT_SUB'/>
            <enum-item name='SHORT_SUBSUB'/>
        </enum>
    </class-type>

    <class-type type-name='widget_scroll_rows' original-name='widgets::scroll_rows' inherits-from='widget_rows_container'>
        <int32_t name='scroll'/>
        <int32_t name='num_visible'/>
        <bool name='scrolling'/>
        <compound type-name='scrollbarst' name='scrollbar'/>
    </class-type>

    <class-type type-name='widget_params_container' original-name='widgets::params_container' inherits-from='widget_container'>
        <stl-shared-ptr type-name='widget_text' name='text'/>
        <stl-shared-ptr type-name='world_gen_param_valuest' name='param'/>
    </class-type>

    <class-type type-name='MacroScreenLoad' inherits-from='viewscreen'>
        <compound name='menu' type-name='widget_menu'/>
        <int32_t name='width'/>
        <int32_t name='height'/>
    </class-type>

    <class-type type-name='MacroScreenSave' inherits-from='viewscreen'>
        <compound name='id' type-name='widget_textbox'/>
    </class-type>

    <struct-type type-name='shared_world_headerst'>
        <int32_t name='id1' comment='based on tick at start of game'/>
        <int32_t name='id2' comment='based on tick at creation time'/>
        <stl-string name='world_name'/>
        <stl-string name='timeline_name'/>
        <stl-string name='manual_name'/>
        <enum base-type='int32_t' name='save_type'>
            <enum-item name='NONE' value='-1'/>
            <enum-item name='ACTIVE'/>
            <enum-item name='INACTIVE'/>
            <enum-item name='MANUAL'/>
            <enum-item name='AUTO'/>
        </enum>
        <int32_t name='year'/>
        <int32_t name='season_count'/>
        <int32_t name='forts_played'/>
        <int32_t name='advs_played'/>
    </struct-type>

    <struct-type type-name='region_headerst'>
        <compound type-name='language_name' name='name'/>
        <stl-string name='display_name'/>
        <static-array name='permission' count='15' type-name='int8_t' comment='same as the one at the top of world_data'/>
        <compound name='last_id' comment='when loading, DF sets *_next_id to these fields plus 1'>
            <int32_t name='unit'/>
            <int32_t name='soul'/>
            <int32_t name='item'/>
            <int32_t name='entity'/>
            <int32_t name='nemesis'/>
            <int32_t name='artifact'/>
            <int32_t name='building'/>
            <int32_t name='machine'/>
            <int32_t name='hist_figure'/>
            <int32_t name='hist_event'/>
            <int32_t name='hist_event_collection'/>
            <int32_t name='unit_chunk'/>
            <int32_t name='art_image_chunk'/>
            <int32_t name='task'/>
            <int32_t name='squad'/>
            <int32_t name='formation'/>
            <int32_t name='activity'/>
            <int32_t name='interaction_instance'/>
            <int32_t name='written_content'/>
            <int32_t name='identity'/>
            <int32_t name='incident'/>
            <int32_t name='crime'/>
            <int32_t name='vehicle'/>
            <int32_t name='army'/>
            <int32_t name='army_controller'/>
            <int32_t name='army_tracking_info'/>
            <int32_t name='cultural_identity'/>
            <int32_t name='agreement'/>
            <int32_t name='poetic_form' since='v0.42.01'/>
            <int32_t name='musical_form' since='v0.42.01'/>
            <int32_t name='dance_form' since='v0.42.01'/>
            <int32_t name='scale' since='v0.42.01'/>
            <int32_t name='rhythm' since='v0.42.01'/>
            <int32_t name='occupation' since='v0.42.01'/>
            <int32_t name='belief_system' since='v0.44.01'/>
            <int32_t name='image_set' since='v0.47.01'/>
            <int32_t name='divination_set' since='v0.47.01'/>
        </compound>
        <compound type-name='shared_world_headerst' name='world_header'/>
        <stl-string name='filename_noext'/>
    </struct-type>

    <class-type type-name='viewscreen_adopt_regionst' inherits-from='viewscreen'>
        <compound type-name='file_compressorst' name='compressor'/>
        <enum base-type='int32_t' name='cur_step'>
            <enum-item name='OpeningFile'/>
            <enum-item name='ProcessingRawData'/>
            <enum-item name='AllocatingSpace'/>
            <enum-item name='LoadingItems'/>
            <enum-item name='LoadingBuildings'/>
            <enum-item name='LoadingEntities'/>
            <enum-item name='LoadingCoinInformation'/>
            <enum-item name='LoadingMapData'/>
            <enum-item name='LoadingCivilizedPopulations'/>
            <enum-item name='LoadingHistory'/>
            <enum-item name='LoadingParameters'/>
            <enum-item name='LoadingArtifacts'/>
            <enum-item name='LoadingActiveHistoricalFigures'/>
            <enum-item name='LoadingSquads'/>
            <enum-item name='LoadingFormations'/>
            <enum-item name='LoadingActivities'/>
            <enum-item name='LoadingInteractions'/>
            <enum-item name='LoadingWrittenContent'/>
            <enum-item name='LoadingIdentities'/>
            <enum-item name='LoadingIncidents'/>
            <enum-item name='LoadingCrimes'/>
            <enum-item name='LoadingVehicles'/>
            <enum-item name='LoadingArmies'/>
            <enum-item name='LoadingArmyControllers'/>
            <enum-item name='LoadingTrackingInformation'/>
            <enum-item name='LoadingCulturalIdentities'/>
            <enum-item name='LoadingAgreements'/>
            <enum-item name='LoadingArtForms'/>
            <enum-item name='LoadingOccupations'/>
            <enum-item name='LoadingBeliefSystems'/>
            <enum-item name='LoadingImageSets'/>
            <enum-item name='LoadingDivinationSets'/>
            <enum-item name='ClosingFile'/>
            <enum-item name='RebuildingTemporaryInformation'/>
            <enum-item name='PreparingGame'/>
            <enum-item name='Failed'/>
        </enum>
        <enum type-name='save_version' name='save_version'/>
        <compound type-name='region_headerst' name='cur_save'/>
        <compound type-name='region_object_datast' name='rod'/>
        <int32_t name='progress' comment='0..35'/>
    </class-type>

    <enum-type type-name='embark_finder_option'>
        <enum-item name='DimensionX'/>
        <enum-item name='DimensionY'/>
        <enum-item name='Savagery'/>
        <enum-item name='Spirit'/>
        <enum-item name='Elevation'/>
        <enum-item name='Temperature'/>
        <enum-item name='Rain'/>
        <enum-item name='Drainage'/>
        <enum-item name='FluxStone'/>
        <enum-item name='AquiferLight'/>
        <enum-item name='AquiferHeavy'/>
        <enum-item name='River'/>
        <enum-item name='UndergroundRiver'/>
        <enum-item name='UndergroundPool'/>
        <enum-item name='MagmaPool'/>
        <enum-item name='MagmaPipe'/>
        <enum-item name='Chasm'/>
        <enum-item name='BottomlessPit'/>
        <enum-item name='OtherFeatures'/>
        <enum-item name='Soil'/>
        <enum-item name='Clay'/>
        <enum-item name='Sand'/>
    </enum-type>

    <struct-type type-name='embark_location' comment='starter_infost?'>
        <compound name='region_pos' type-name='coord2d'/>

        <int16_t name="reclaim_site" ref-target='world_site'/>
        <int16_t name="reclaim_idx"/>
<!--
        <compound name='biome_rgn' type-name='coord2d_path'/>
-->
        <compound name='embark_pos_min' type-name='coord2d'/>
        <compound name='embark_pos_max' type-name='coord2d'/>
<!--
        <compound name='embark_biome_rgn' type-name='coord2d'
                  comment='Valid only after e pressed.'/>
-->
    </struct-type>

    <class-type type-name='viewscreen_choose_start_sitest' inherits-from='viewscreen'>
        <enum base-type='int32_t' name='page'>
            <enum-item name='Biome'/>
            <enum-item name='Neighbors'/>
            <enum-item name='Civilization'/>
            <enum-item name='Elevation'/>
            <enum-item name='Cliffs'/>
            <enum-item name='Reclaim'/>
            <enum-item name='Reclaim2'/>
            <enum-item name='Find'/>
            <enum-item name='Notes'/>
        </enum>

        <compound name='location' type-name='embark_location'/>

        <int32_t name='animating_quick_start_timer'/>
        <int32_t name='setting_up_map_timer'/>

        <int32_t name='region_cent_x'/>
        <int32_t name='region_cent_y'/>
        <bool name='mouse_scrolling_map'/>
        <int32_t name='mouse_anchor_mx'/>
        <int32_t name='mouse_anchor_my'/>
        <int32_t name='mouse_anchor_pmx'/>
        <int32_t name='mouse_anchor_pmy'/>

        <int32_t name='neighbor_hover_ax'/>
        <int32_t name='neighbor_hover_ay'/>
        <int32_t name='neighbor_hover_mm_sx'/>
        <int32_t name='neighbor_hover_mm_sy'/>
        <int32_t name='neighbor_hover_mm_ex'/>
        <int32_t name='neighbor_hover_mm_ey'/>
        <stl-vector pointer-type='historical_entity' name='def_candidate'/>
        <stl-vector pointer-type='world_site' name='def_candidate_nearst'/>
        <stl-vector type-name='int32_t' name='def_candidate_mindist'/>
        <stl-vector type-name='int32_t' name='def_candidate_state'/>

        <bool name='zoomed_in'/>
        <int32_t name='zoom_cent_x'/>
        <int32_t name='zoom_cent_y'/>
        <bool name='show_cliffs'/>
        <bool name='show_elevation'/>

        <bool name='choosing_civilization'/>
        <int32_t name='scroll_position_civ'/>
        <bool name='scrolling_civ'/>

        <bool name='choosing_reclaim'/>
        <int32_t name='scroll_position_reclaim'/>
        <bool name='scrolling_reclaim'/>

        <bool name='choosing_embark'/>
        <int32_t name='embark_dx'/>
        <int32_t name='embark_dy'/>
        <int32_t name='warn_mm_startx'/>
        <int32_t name='warn_mm_endx'/>
        <int32_t name='warn_mm_starty'/>
        <int32_t name='warn_mm_endy'/>

        <bool name='doing_site_finder'/>
        <int32_t name='scroll_position_param'/>
        <bool name='scrolling_param'/>

        <int32_t name="biome_idx"/>
        <bool name="biome_highlighted"/>

        <bool name='in_embark_light_aquifer'/>
        <bool name='in_embark_heavy_aquifer'/>
        <bool name='in_embark_salt'/>
        <bool name='in_embark_large'/>
        <bool name='in_embark_narrow'/>
        <bool name='in_embark_only_warning'/>
        <bool name='in_embark_civ_dying'/>

        <int32_t name='selected_reclaim'/>
        <int32_t name='selected_civ'/>
        <stl-vector pointer-type='historical_entity' name='start_civ'/>
        <stl-vector type-name='int32_t' name='start_civ_nem_num'/>
        <stl-vector type-name='int32_t' name='start_civ_entpop_num'/>
        <stl-vector type-name='int32_t' name='start_civ_site_num'/>

        <stl-vector name='reclaim_detail_box' pointer-type='stl-string' since='v0.40.01'/>
        <pointer name="reclaim_detail_he" type-name="history_event" has-bad-pointers='true' since='v0.40.01'/>
        <pointer name="reclaim_detail_she" type-name="history_event" has-bad-pointers='true' since='v0.40.01'/>
        <int32_t name="reclaim_detail_box_last_processing_dimx" since='v0.40.01'/>

        <int32_t name="find_cur_best_value"/>
        <int32_t name="find_block_x"/>
        <int32_t name="find_block_y"/>
        <int32_t name="find_block_dx" init-value='-1' comment='to world width / 16'/>
        <int32_t name="find_block_dy" comment='to world height / 16'/>
        <int32_t name="find_select" refers-to='$$._parent.enabled_options[$]'/>
        <static-array type-name='int32_t' name="find_param"
                      count="22" index-enum='embark_finder_option'/>
        <static-array type-name='bool' name="find_missed_param"
                      count="22" index-enum='embark_finder_option'/>

        <stl-vector type-name='int16_t' name='find_missed_metal_ore'/>
        <stl-vector type-name='int32_t' name='find_param_list'/>
        <stl-vector type-name='int16_t' name='find_metal_ore'/>
        <stl-vector type-name='int16_t' name='skip_metal_ore'/>

        <enum name='find_results' base-type='int16_t'>
            <enum-item name='None' value='-1'/>
            <enum-item name='NoResult'/>
            <enum-item name='Partial'/>
            <enum-item name='Suitable'/>
        </enum>

        <int16_t name='find_ax'/>
        <int16_t name='find_ay'/>
        <int16_t name='find_mm_sx'/>
        <int16_t name='find_mm_ex'/>
        <int16_t name='find_mm_sy'/>
        <int16_t name='find_mm_ey'/>

        <stl-vector name="note_index" type-name='int32_t' refers-to='$global.world.world_data.embark_notes[$]'/>
        <stl-vector name="text_box" pointer-type='stl-string'/>
        <bool name='notes_entering_text'/>
        <int32_t name='notes_list_select'/>
        <int16_t name="notes_cur_sym"/>
        <int16_t name="notes_sym_select_1"/>
        <int16_t name="notes_sym_select_2"/>
        <int16_t name="notes_sym_select_3"/>
        <int32_t name="notes_selected_note"/>
    </class-type>

    <struct-type type-name='mission'>
        <int32_t name='army_controller' ref-target='army_controller'/>
        <int32_t name='entity' ref-target='historical_entity'/>
        <int32_t name='target_site' ref-target='world_site'/>
        <int32_t name='unk_2'/> -1
        <int32_t name='target_x'/>
        <int32_t name='target_y'/>
        <int32_t name='unk_3'/>
        <int32_t name='unk_4'/>
        <int32_t name='unk_5'/>
        <int32_t name='unk_6'/>
        <int32_t name='unk_7'/>
        <int32_t name='unk_8'/>
        <int32_t name='unk_9'/>
        <int32_t name='unk_10'/>
        <int32_t name='year'/>
        <int32_t name='year_tick'/>
        <int32_t name='unk_12'/> -1
        <int32_t name='army_controller2' ref-target='army_controller'/>
        <int32_t name='histfig' ref-target='historical_figure'/>
        <int32_t name='unk_14'/> -1
        <int32_t name='unk_16'/>
        <int32_t name='unk_17'/>
        <int32_t name='unk_18'/>
        <int32_t name='unk_19'/>
        <int32_t name='unk_20'/>
        <int32_t name='unk_21'/>
        <int32_t name='unk_15'/>
        <int32_t name='unk_22'/>
        <stl-vector name='squads' type-name='int32_t' ref-target='squad'/>
        <stl-vector name='messengers' type-name='int32_t' ref-target='occupation'/>

        <int32_t name='unk_23'/>
        <int32_t name='unk_24'/>

        <compound name='details' is-union='true'>
            <pointer name='raid'>
                <enum name='raid_type' base-type='int32_t'>
                    <enum-item name='Raze' value='0'/>
                    <enum-item name='TakeOver' value='1'/>
                    <enum-item name='Occupy' value='2'/>
                    <enum-item name='DemandTribute' value='3'/>
                    <enum-item name='Raid' value='4'/>
                    <enum-item name='Explore' value='5'/>
                    <enum-item name='Pillage' value='6'/>
                </enum>
                <int32_t name='unk_2'/>

                <int32_t name='unk_5'/>
                <int32_t name='unk_6'/>
                <int32_t name='unk_7'/>
                <int32_t name='unk_8'/>
                <int32_t name='unk_9'/>
                <int32_t name='unk_10'/>
                <int32_t name='unk_11'/>
                <int32_t name='unk_12'/>
                <int32_t name='unk_13'/>
                <int32_t name='unk_14'/>
                <int32_t name='unk_15'/>
                <int32_t name='unk_16'/>
                <int32_t name='unk_17'/>
                <int32_t name='unk_18'/>
                <int32_t name='unk_19'/>
                <int32_t name='unk_20'/>
                <int32_t name='unk_21'/>
                <int32_t name='unk_22'/>
                <int32_t name='unk_23'/>
                <int32_t name='unk_24'/>
                <bitfield base-type='uint32_t' name='raid_flags'>
                    <flag-bit name='Unknown1'/>
                    <flag-bit name='OneTimeTribute'/>
                    <flag-bit name='OngoingTribute'/>
                    <flag-bit name='FreeCaptives'/>
                    <flag-bit name='ReleaseOtherPrisoners'/>
                    <flag-bit name='TakeImportantTreasures'/>
                    <flag-bit name='LootOtherItems'/>
                    <flag-bit name='StealLivestock'/>
                    <flag-bit name='Unknown256'/>
                    <flag-bit name='DemandSurrender'/>
                </bitfield>
                <int32_t name='unk_3'/>
                <int32_t name='unk_4'/>
                <int32_t name='unk_25'/>
                <int32_t name='unk_26'/>
                <int32_t name='unk_27'/>
                <int32_t name='unk_28'/>
                <int32_t name='unk_29'/>
                <int32_t name='unk_30'/>
                <int32_t name='unk_31'/>
            </pointer>
            <pointer name='recovery'>
                <int32_t name='artifact' ref-target='artifact_record'/>
                <int32_t name='unk_2'/>
            </pointer>
            <pointer name='rescue'>
                <int32_t name='histfig' ref-target='historical_figure'/>
                <int32_t name='unk_2'/>
            </pointer>
            <pointer name='request'>
                <stl-vector name='workers' type-name='int32_t' ref-target='historical_figure'/>
                <int32_t name='unk_1'/>
                <int32_t name='unk_2'/>
                <int32_t name='unk_3'/>
                <int32_t name='unk_4'/>
            </pointer>
        </compound>

        <enum name='type' base-type='int32_t'>
            <enum-item name='Raid' value='2'/>
            <enum-item name='RecoverArtifact' value='17'/>
            <enum-item name='RescuePerson' value='18'/>
            <enum-item name='RequestWorkers' value='19'/>
        </enum>
        <int32_t name='unk_25'/>
    </struct-type>

    <class-type type-name='viewscreen_dwarfmodest' inherits-from='viewscreen'>
        <int8_t name='shown_site_name'/> display site name next frame

        <int16_t name='jeweler_mat_count'/> jewelers workshop orders
        <stl-vector type-name='int32_t' name='jeweler_cutgem'  index-refers-to='(material-by-id 0 $)'/> number of free items for job
        <stl-vector type-name='int32_t' name='jeweler_encrust' index-refers-to='(material-by-id 0 $)'/> index list +3 (green/clear/crystal glass)

        <stl-vector name='unit_labors_sidemenu'> For sidemenu unit/prefs/labor
            <enum type-name='unit_labor' base-type='int32_t'/> When negative, labor category
        </stl-vector>
        <stl-vector name='unit_labors_sidemenu_uplevel'>
            <enum type-name='unit_labor' base-type='int32_t'/>
        </stl-vector>
        <int32_t name='unit_labors_sidemenu_uplevel_idx'/>
        <int8_t name='sideSubmenu'/> determine if ESC is Done or Back

        <int8_t name='keyRepeat'/>

        <stl-vector name='trained_animals' pointer-type='unit'/>
        <int32_t name='trained_animal_idx'/>
        <int32_t name='number_assigned_hunt'/> for current unit
        <int32_t name='number_assigned_war'/>
    </class-type>

    <class-type type-name='viewscreen_export_regionst' inherits-from='viewscreen'>
        <bool name='play_now'/>
        <enum base-type='int32_t' name='state'>
            <enum-item name='Initializing'/>
            <enum-item name='PreliminaryCleaning'/>
            <enum-item name='OffloadingUnits'/>
            <enum-item name='OffloadingArtImages'/>
            <enum-item name='OffloadingFile'/>
            <enum-item name='CharacterizingRawData'/>
            <enum-item name='SortingWorldInformation'/>
            <enum-item name='AllocatingSpace'/>
            <enum-item name='SavingItems'/>
            <enum-item name='SavingBuildings'/>
            <enum-item name='SavingEntities'/>
            <enum-item name='SavingCoinInformation'/>
            <enum-item name='SavingMapData'/>
            <enum-item name='SavingCivilizedPopulations'/>
            <enum-item name='SavingHistory'/>
            <enum-item name='SavingParameters'/>
            <enum-item name='SavingArtifacts'/>
            <enum-item name='SavingActiveHistoricalFigures'/>
            <enum-item name='SavingSquads'/>
            <enum-item name='SavingFormations'/>
            <enum-item name='SavingActivities'/>
            <enum-item name='SavingInteractions'/>
            <enum-item name='SavingWrittenContent'/>
            <enum-item name='SavingIdentities'/>
            <enum-item name='SavingIncidents'/>
            <enum-item name='SavingCrimes'/>
            <enum-item name='SavingVehicles'/>
            <enum-item name='SavingArmies'/>
            <enum-item name='SavingArmyControllers'/>
            <enum-item name='SavingTrackingInfo'/>
            <enum-item name='SavingCulturalIdentities'/>
            <enum-item name='SavingAgreements'/>
            <enum-item name='SavingArtForms'/>
            <enum-item name='SavingOccupations'/>
            <enum-item name='SavingBeliefSystems'/>
            <enum-item name='SavingImageSets'/>
            <enum-item name='SavingDivinationSets'/>
            <enum-item name='ClosingFile'/>
            <enum-item name='SynchronizingFolders'/>
        </enum>
        <int32_t name='progress' comment='0..40'/>
        <compound name='units_progress'>
            <stl-vector type-name='int32_t' name='save_file_id'/>
            <stl-vector type-name='int16_t' name='save_file_member_idx'/>
            <stl-vector pointer-type='unit' name='units'/>
            <pointer type-name='unit_chunk' name='current_chunk'/>
            <int32_t name='current_save_file_id'/>
            <int32_t name='offloaded_units'/>
        </compound>
        <compound type-name='file_compressorst' name='compressor'/>
        <stl-string name='folder_name'/>
        <stl-string name='timeline_name'/>
    </class-type>

    <class-type type-name='viewscreen_game_cleanerst' inherits-from='viewscreen'>
        <enum base-type='int32_t' name='state'>
            <enum-item name='CleaningGameObjects'/>
            <enum-item name='CleaningStrandedObjects'/>
            <enum-item name='CleaningPlayObjects'/>
        </enum>
    </class-type>

    <class-type type-name='viewscreen_initial_prepst' inherits-from='viewscreen'>
        <int32_t name='render_count'/>
        <int32_t name='logic_step'/>
        <stl-future name='unk_90'/>
    </class-type>

    <class-type type-name='world_gen_param_basest'>
        <stl-string name='text'/>
        <virtual-methods>
            <vmethod name='get_text'><pointer name='num' type-name='stl-string'/></vmethod>
            <vmethod ret-type='bool' name='has_string_entry'/>
            <vmethod ret-type='bool' name='nullifiable'/>
            <vmethod ret-type='bool' name='togglealble'/>
            <vmethod ret-type='bool' name='has_max_min'/>
            <vmethod ret-type='bool' name='has_increase_decrease'/>
            <vmethod ret-type='int32_t' name='get_min'/>
            <vmethod ret-type='int32_t' name='get_max'/>

            <vmethod name='set_value'><pointer name='value_str' type-name='stl-string'/></vmethod>
            <vmethod name='nullify'/>
            <vmethod name='toggle'/>
            <vmethod name='decrease'/>
            <vmethod name='increase'/>
            <vmethod is-destructor='true'/>
        </virtual-methods>
    </class-type>

    <class-type type-name='world_gen_param_seedst' inherits-from='world_gen_param_basest'>
        <pointer name='val_ptr' type-name='stl-string'/>
    </class-type>

    <class-type type-name='world_gen_param_valuest' inherits-from='world_gen_param_basest'>
        <stl-string name='null_text'/>
        <bool name='can_be_nullified'/>
        <stl-vector pointer-type='stl-string' name='value_text'/>
    </class-type>

    <class-type type-name='world_gen_param_charst' inherits-from='world_gen_param_valuest'>
        <pointer type-name='int8_t' name='val_ptr'/>
        <int8_t name='min'/>
        <int8_t name='max'/>
        <int8_t name='null_value'/>
        <stl-vector type-name='int8_t' name='value_val'/>
        <bool name='can_toggle'/>
    </class-type>

    <class-type type-name='world_gen_param_memberst' inherits-from='world_gen_param_valuest'>
        <pointer type-name='int32_t' name='val_ptr'/>
        <int32_t name='min'/>
        <int32_t name='max'/>
        <int32_t name='null_value'/>
        <stl-vector type-name='int32_t' name='value_val'/>
        <bool name='does_have_min_max'/>
    </class-type>

    <class-type type-name='world_gen_param_flagst' inherits-from='world_gen_param_valuest'>
        <pointer type-name='uint32_t' name='val_ptr'/>
        <uint32_t name='bit'/>
        <stl-vector type-name='uint32_t' name='value_val'/>
    </class-type>

    <class-type type-name='world_gen_param_flagarrayst' inherits-from='world_gen_param_valuest'>
        <pointer name='val_ptr'><df-flagarray/></pointer>
        <int32_t name='flag'/>
        <stl-vector type-name='int32_t' name='value_val'/>
    </class-type>

    <struct-type type-name='legend_pagest'>
        <stl-string name='header'/>
        <enum name='mode' base-type='int32_t'>
            <enum-item name='NONE' value='-1'/>
            <enum-item name='MAIN'/>
            <enum-item name='HFS'/>
            <enum-item name='SITES'/>
            <enum-item name='ARTIFACTS'/>
            <enum-item name='BOOKS'/>
            <enum-item name='SUBREGIONS'/>
            <enum-item name='ENTITIES'/>
            <enum-item name='ART'/>
            <enum-item name='ABS'/>
            <enum-item name='ERA'/>
            <enum-item name='HEC'/>
            <enum-item name='MAPS'/>
            <enum-item name='FEATURE_LAYERS'/>
            <enum-item name='POPULATIONS'/>
        </enum>
        <int32_t name='index'/>
        <compound type-name='markup_text_boxst' name='text_box'/>

        <int32_t name='scroll_position_list'/>
        <bool name='scrolling_list'/>
        <pointer name='lptr'><stl-vector type-name='int32_t'/></pointer>

        <int32_t name='scroll_position_text'/>
        <bool name='scrolling_text'/>

        <stl-string name='filter_str'/>
        <bool name='entering_filter'/>
    </struct-type>

    <class-type type-name='viewscreen_legendsst' inherits-from='viewscreen'>
        <int32_t name='unhid_sum'/>
        <int32_t name='init_stage'/>
        <int32_t name='init_cur_era'/>
        <int32_t name='init_cur_era_num'/>
        <int32_t name='init_cur_era_denom'/>
        <int32_t name='init_sub_stage'/>
        <stl-vector type-name='int32_t' name='histfigs' ref-target='historical_figure'/>
        <stl-vector type-name='int32_t' name='sites' ref-target='world_site'/>
        <stl-vector type-name='int32_t' name='artifacts' ref-target='artifact_record'/>
        <stl-vector type-name='int32_t' name='codices'/>
        <stl-vector type-name='int32_t' name='regions'/>
        <stl-vector type-name='int32_t' name='layers'/>
        <stl-vector type-name='int32_t' name='entities' ref-target='historical_entity'/>
        <stl-vector type-name='int32_t' name='structure_sites' ref-target='world_site'/>
        <stl-vector type-name='int32_t' name='structures_indices'/> index into world_site.buildings
        <stl-vector type-name='int32_t' name='entity_population'/>

        <stl-vector type-name='int16_t' name='main_choice'/>
        <stl-vector type-name='int32_t' name='era_choice_index'/>
        <stl-vector type-name='int32_t' name='era_choice_num'/>
        <stl-vector type-name='int32_t' name='era_choice_denom'/>
        <stl-vector type-name='int32_t' name='hec_id'/>

        <int8_t name='showing_all_era_collections'/>

        <stl-vector name='region_snapshot'>
            <pointer>
                <int32_t name='unk_1'/>
                <int32_t name='unk_2'/>
                <pointer name='unk_3'>
                    <pointer name='unk_1'/>
                    <pointer name='unk_2'/>
                    <pointer name='unk_3'/>
                    <pointer name='unk_4'/>
                    <pointer name='unk_5'/>
                </pointer>
                <int16_t name='unk_4'/>
                <int16_t name='unk_5'/>
                <int32_t name='unk_6'/>
                <stl-vector name='unk_7' type-name='int32_t'/>
            </pointer>
        </stl-vector>
        <int16_t name='region_view_x'/>
        <int16_t name='region_view_y'/>
        <int16_t name='region_view_mode'/>
        <int16_t name='civ_site_view'/>
        <int16_t name='region_view_snapshot_index'/>

        <stl-vector name='histfigs_filtered' type-name='int32_t' comment='index into histfigs'/>
        <stl-vector name='sites_filtered' type-name='int32_t' comment='index into sites'/>
        <stl-vector name='artifacts_filtered' type-name='int32_t' comment='index into artifacts'/>
        <stl-vector name='codices_filtered' type-name='int32_t'  comment='index into codices'/>
        <stl-vector name='regions_filtered' type-name='int32_t' comment='index into regions'/>
        <stl-vector name='layers_filtered' type-name='int32_t' comment='index into layers'/>
        <stl-vector name='entity_populations_filtered' type-name='int32_t'/>
        <stl-vector name='entities_filtered' type-name='int32_t' comment='index into entities'/>
        <stl-vector name='structures_filtered' type-name='int32_t' comment='index into structures'/>

        <int32_t name='total_codices'/>
        <int32_t name='total_artifacts'/>

        <stl-vector pointer-type='legend_pagest' name='page'/>
        <int32_t name='active_page_index'/>
        <int32_t name='page_scroll'/>
        <stl-future name='unk_338'/>
        <int8_t name='unk_348'/>
    </class-type>

    <struct-type type-name='savegame_headerst'>
        almost the same, but not quite the same, as region_headerst's list
        <int32_t name='max_unit_id'/>
        <int32_t name='max_soul_id'/>
        <int32_t name='max_item_id'/>
        <int32_t name='max_civ_id'/>
        <int32_t name='max_nem_id'/>
        <int32_t name='max_artifact_id'/>
        <int32_t name='max_job_id'/>
        <int32_t name='max_schedule_id'/>
        <int32_t name='max_proj_id'/>
        <int32_t name='max_building_id'/>
        <int32_t name='max_machine_id'/>
        <int32_t name='max_flow_guide_id'/>
        <int32_t name='max_histfig_id'/>
        <int32_t name='max_histevent_id'/>
        <int32_t name='max_histeventcol_id'/>
        <int32_t name='max_unitchunk_id'/>
        <int32_t name='max_art_imagechunk_id'/>
        <int32_t name='max_task_id'/>
        <int32_t name='max_squad_id'/>
        <int32_t name='max_formation_id'/>
        <int32_t name='max_activity_id'/>
        <int32_t name='max_interaction_instance_id'/>
        <int32_t name='max_written_content_id'/>
        <int32_t name='max_identity_id'/>
        <int32_t name='max_incident_id'/>
        <int32_t name='max_crime_id'/>
        <int32_t name='max_vehicle_id'/>
        <int32_t name='max_army_id'/>
        <int32_t name='max_army_controller_id'/>
        <int32_t name='max_army_tracking_info_id'/>
        <int32_t name='max_cultural_identity_id'/>
        <int32_t name='max_agreement_id'/>
        <int32_t name='max_poetic_form_id'/>
        <int32_t name='max_musical_form_id'/>
        <int32_t name='max_dance_form_id'/>
        <int32_t name='max_scale_id'/>
        <int32_t name='max_rhythm_id'/>
        <int32_t name='max_occupation_id'/>
        <int32_t name='max_belief_system_id'/>
        <int32_t name='max_image_set_id'/>
        <int32_t name='max_divination_set_id'/>

        <enum type-name='game_type' name='gametype' comment='only 0 (fort) 1 (adv) 3(reclaim) are valid'/>
        <stl-string name='fort_name'/>
        <stl-string name='world_name'/>
        <int32_t name='year'/>

        <compound type-name='shared_world_headerst' name='world_header'/>

        <stl-string name='filename_noext'/>
    </struct-type>

    <struct-type type-name='random_object_batchst'>
        <int32_t name='start_inorganic_number'/>
        <int32_t name='end_inorganic_number'/>
        <int32_t name='start_plant_number'/>
        <int32_t name='end_plant_number'/>
        <int32_t name='start_item_number'/>
        <int32_t name='end_item_number'/>
        <int32_t name='start_creature_number'/>
        <int32_t name='end_creature_number'/>
        <int32_t name='start_entity_number'/>
        <int32_t name='end_entity_number'/>
        <int32_t name='start_reaction_number'/>
        <int32_t name='end_reaction_number'/>
        <int32_t name='start_interaction_number'/>
        <int32_t name='end_interaction_number'/>
        <int32_t name='start_language_translation_number'/>
        <int32_t name='end_language_translation_number'/>
    </struct-type>

    <struct-type type-name='region_object_datast'>
        <stl-vector pointer-type='random_object_batchst' name='batch'/>
        <stl-vector name='custom_inorganic'>
            <pointer>
                <stl-vector pointer-type='stl-string' name='raws'/>
            </pointer>
        </stl-vector>
        <stl-vector name='generated_plants'>
            <pointer>
                <stl-vector pointer-type='stl-string' name='raws'/>
            </pointer>
        </stl-vector>
        <stl-vector name='generated_items'>
            <pointer>
                <stl-vector pointer-type='stl-string' name='raws'/>
            </pointer>
        </stl-vector>
        <stl-vector name='generated_creatures'>
            <pointer>
                <stl-vector pointer-type='stl-string' name='raws'/>
            </pointer>
        </stl-vector>
        <stl-vector name='generated_entities'>
            <pointer>
                <stl-vector pointer-type='stl-string' name='raws'/>
            </pointer>
        </stl-vector>
        <stl-vector name='generated_reactions'>
            <pointer>
                <stl-vector pointer-type='stl-string' name='raws'/>
            </pointer>
        </stl-vector>
        <stl-vector name='generated_interactions'>
            <pointer>
                <stl-vector pointer-type='stl-string' name='raws'/>
            </pointer>
        </stl-vector>
        <stl-vector name='generated_languages'>
            <pointer>
                <stl-vector pointer-type='stl-string' name='raws'/>
            </pointer>
        </stl-vector>
        <stl-vector name='inorganics' pointer-type='stl-string'/>
        <stl-vector name='plants' pointer-type='stl-string'/>
        <stl-vector name='bodies' pointer-type='stl-string'/>
        <stl-vector name='bodyglosses' pointer-type='stl-string'/>
        <stl-vector name='creatures' pointer-type='stl-string'/>
        <stl-vector name='items' pointer-type='stl-string'/>
        <stl-vector name='buildings' pointer-type='stl-string'/>
        <stl-vector name='entities' pointer-type='stl-string'/>
        <stl-vector name='words' pointer-type='stl-string'/>
        <stl-vector name='symbols' pointer-type='stl-string'/>
        <stl-vector name='translations' pointer-type='stl-string'/>
        <stl-vector name='colors' pointer-type='stl-string'/>
        <stl-vector name='shapes' pointer-type='stl-string'/>
        <stl-vector name='patterns' pointer-type='stl-string'/>
        <stl-vector name='reactions' pointer-type='stl-string'/>
        <stl-vector name='material_templates' pointer-type='stl-string'/>
        <stl-vector name='tissue_templates' pointer-type='stl-string'/>
        <stl-vector name='body_detail_plans' pointer-type='stl-string'/>
        <stl-vector name='creature_variations' pointer-type='stl-string'/>
        <stl-vector name='interactions' pointer-type='stl-string'/>
        <stl-vector name='text_sets' pointer-type='stl-string'/>
        <stl-vector name='musics' pointer-type='stl-string'/>
        <stl-vector name='sounds' pointer-type='stl-string'/>
        <stl-vector name='mod_ids' pointer-type='stl-string'/>
        <stl-vector name='mod_versions' type-name='int32_t'/>
        <stl-vector name='mod_compatible_versions' type-name='int32_t'/>
        <stl-vector name='mod_folder_paths' pointer-type='stl-string'/>
        <stl-vector name='mod_names' pointer-type='stl-string'/>
        <stl-vector name='mod_display_versions' pointer-type='stl-string'/>
    </struct-type>

    <class-type type-name='viewscreen_loadgamest' inherits-from='viewscreen'>
        <enum name='cur_step' comment='After the on-screen text shown while loading.'>
            <enum-item name='OpeningFile'/>
            <enum-item name='ProcessingRawData'/>
            <enum-item name='AllocatingSpace'/>
            <enum-item name='LoadingItems'/>
            <enum-item name='LoadingUnits'/>
            <enum-item name='LoadingJobs'/>
            <enum-item name='LoadingSchedules'/>
            <enum-item name='LoadingProjectiles'/>
            <enum-item name='LoadingBuildings'/>
            <enum-item name='LoadingMachines'/>
            <enum-item name='LoadingFlowGuides'/>
            <enum-item name='LoadingEffects'/>
            <enum-item name='LoadingEntities'/>
            <enum-item name='LoadingLocalAnimalPopulations'/>
            <enum-item name='LoadingEvents'/>
            <enum-item name='LoadingMandates'/>
            <enum-item name='LoadingWorkQuotas'/>
            <enum-item name='LoadingWorldEvents'/>
            <enum-item name='LoadingCoinInformation'/>
            <enum-item name='LoadingSquads'/>
            <enum-item name='LoadingFormations'/>
            <enum-item name='LoadingActivities'/>
            <enum-item name='LoadingInteractions'/>
            <enum-item name='LoadingWrittenContent'/>
            <enum-item name='LoadingIdentities'/>
            <enum-item name='LoadingIncidents'/>
            <enum-item name='LoadingCrimes'/>
            <enum-item name='LoadingVehicles'/>
            <enum-item name='LoadingArmies'/>
            <enum-item name='LoadingArmyControllers'/>
            <enum-item name='LoadingTrackingInformation'/>
            <enum-item name='LoadingCulturalIdentities'/>
            <enum-item name='LoadingAgreements'/>
            <enum-item name='LoadingArtForms'/>
            <enum-item name='LoadingOccupations'/>
            <enum-item name='LoadingBeliefSystems'/>
            <enum-item name='LoadingImageSets'/>
            <enum-item name='LoadingDivinationSets'/>
            <enum-item name='LoadingAnnouncements'/>
            <enum-item name='LoadingFortressInformation'/>
            <enum-item name='LoadingWorldInformation'/>
            <enum-item name='LoadingArtifacts'/>
            <enum-item name='LoadingActiveHistoricalFigures'/>
            <enum-item name='LoadingAdventure'/>
            <enum-item name='LoadingGeneralInformation'/>
            <enum-item name='ClosingFile'/>
            <enum-item name='RebuildingTemporaryInformation'/>
            <enum-item name='RebuildingMoreTemporaryInformation'/>
            <enum-item name='PreparingGameScreen'/>
            <enum-item name='HandlingCompatibilityIssues'/>
            <enum-item name='Finishing'/>
        </enum>
        <int32_t name='progress' since='v0.40.01'/>
        <compound type-name='file_compressorst' name='compressor'/>
        <compound type-name='region_object_datast' name='rod'/>
        <int32_t name='save_version'/>
        <compound name='cur_save' type-name='savegame_headerst'/>
    </class-type>

    <struct-type type-name='worldgen_parms'>
        <stl-string name='title'/>
        <stl-string name='seed' since='v0.34.01'/>
        <stl-string name='history_seed' since='v0.34.01'/>
        <stl-string name='name_seed' since='v0.34.01'/>
        <stl-string name='creature_seed' since='v0.34.01'/>
        <int32_t name='dim_x'/>
        <int32_t name='dim_y'/>
        <stl-string name='custom_name'/>
        <bool name='has_seed'/>
        <bool name='has_history_seed'/>
        <bool name='has_name_seed'/>
        <bool name='has_creature_seed'/>
        <int32_t name='embark_points'/>
        <int32_t name='peak_number_min'/>
        <int32_t name='partial_ocean_edge_min'/>
        <int32_t name='complete_ocean_edge_min'/>
        <int32_t name='volcano_min'/>
        <static-array name='region_counts' count='3'>
            <static-array type-name='int32_t' count='10' index-enum='worldgen_region_type'/>
        </static-array>
        <static-array type-name='int32_t' name='river_mins' count='2'/>
        <int32_t name='subregion_max'/>
        <int32_t name='cavern_layer_count'/>
        <int32_t name='cavern_layer_openness_min'/>
        <int32_t name='cavern_layer_openness_max'/>
        <int32_t name='cavern_layer_passage_density_min'/>
        <int32_t name='cavern_layer_passage_density_max'/>
        <int32_t name='cavern_layer_water_min'/>
        <int32_t name='cavern_layer_water_max'/>
        <bool name='have_bottom_layer_1'/>
        <bool name='have_bottom_layer_2'/>
        <int32_t name='levels_above_ground'/>
        <int32_t name='levels_above_layer_1'/>
        <int32_t name='levels_above_layer_2'/>
        <int32_t name='levels_above_layer_3'/>
        <int32_t name='levels_above_layer_4'/>
        <int32_t name='levels_above_layer_5'/>
        <int32_t name='levels_at_bottom'/>
        <int32_t name='cave_min_size'/>
        <int32_t name='cave_max_size'/>
        <int32_t name='mountain_cave_min'/>
        <int32_t name='non_mountain_cave_min'/>
        <int32_t name='total_civ_number'/>
        <int32_t name='rain_ranges_1'/>
        <int32_t name='rain_ranges_0'/>
        <int32_t name='rain_ranges_2'/>
        <int32_t name='drainage_ranges_1'/>
        <int32_t name='drainage_ranges_0'/>
        <int32_t name='drainage_ranges_2'/>
        <int32_t name='savagery_ranges_1'/>
        <int32_t name='savagery_ranges_0'/>
        <int32_t name='savagery_ranges_2'/>
        <int32_t name='volcanism_ranges_1'/>
        <int32_t name='volcanism_ranges_0'/>
        <int32_t name='volcanism_ranges_2'/>
        <static-array count='4' name='ranges'>
            <static-array type-name='int32_t' count='24' index-enum='worldgen_range_type'/>
        </static-array>
        <int32_t name='beast_end_year'/>
        <int32_t name='end_year'/>
        <int32_t name='beast_end_year_percent'/>
        <int32_t name='total_civ_population'/>
        <int32_t name='site_cap'/>
        <int32_t name='elevation_ranges_1'/>
        <int32_t name='elevation_ranges_0'/>
        <int32_t name='elevation_ranges_2'/>
        <int32_t name='mineral_scarcity'/>
        <int32_t name='megabeast_cap'/>
        <int32_t name='semimegabeast_cap'/>
        <int32_t name='titan_number'/>
        <static-array type-name='int32_t' name='titan_attack_trigger' count='3'/>
        <int32_t name='demon_number'/>
        <int32_t name='night_troll_number'/>
        <int32_t name='bogeyman_number'/>
        <int32_t name='nightmare_number' since='v0.47.01'/>
        <int32_t name='vampire_number'/>
        <int32_t name='werebeast_number'/>
        <static-array type-name='int32_t' name='werebeast_attack_trigger' count='3' since='v0.47.01'/>
        <int32_t name='secret_number'/>
        <int32_t name='regional_interaction_number'/>
        <int32_t name='disturbance_interaction_number'/>
        <int32_t name='evil_cloud_number'/>
        <int32_t name='evil_rain_number'/>
        <int8_t name='generate_divine_materials' since='v0.40.01'/>
        <int8_t name='allow_divination' since='v0.47.01'/>
        <int8_t name='allow_demonic_experiments' since='v0.47.01'/>
        <int8_t name='allow_necromancer_experiments' since='v0.47.01'/>
        <int8_t name='allow_necromancer_lieutenants' since='v0.47.01'/>
        <int8_t name='allow_necromancer_ghouls' since='v0.47.01'/>
        <int8_t name='allow_necromancer_summons' since='v0.47.01'/>
        <int32_t name='good_sq_counts_0'/>
        <int32_t name='evil_sq_counts_0'/>
        <int32_t name='good_sq_counts_1'/>
        <int32_t name='evil_sq_counts_1'/>
        <int32_t name='good_sq_counts_2'/>
        <int32_t name='evil_sq_counts_2'/>
        <static-array type-name='int32_t' name='elevation_frequency' count='6'/>
        <static-array type-name='int32_t' name='rain_frequency' count='6'/>
        <static-array type-name='int32_t' name='drainage_frequency' count='6'/>
        <static-array type-name='int32_t' name='savagery_frequency' count='6'/>
        <static-array type-name='int32_t' name='temperature_frequency' count='6'/>
        <static-array type-name='int32_t' name='volcanism_frequency' count='6'/>
        <pointer type-name='worldgen_parms_ps' name='ps'/>
        <int32_t name='reveal_all_history'/>
        <int32_t name='cull_historical_figures'/>
        <int32_t name='erosion_cycle_count'/>
        <int32_t name='periodically_erode_extremes'/>
        <int32_t name='orographic_precipitation'/>
        <int32_t name='playable_civilization_required'/>
        <int32_t name='all_caves_visible'/>
        <int32_t name='show_embark_tunnel'/>
        <int32_t name='pole'/>
        <bool name='unk_1'/>
    </struct-type>

    <struct-type type-name='worldgen_parms_ps'>
        <int32_t name='width'/>
        <int32_t name='height'/>
        <static-array count='24' name='data' index-enum='worldgen_range_type'>
            <pointer is-array='true'><pointer is-array='true' type-name='int16_t'/></pointer>
        </static-array>
    </struct-type>

    <class-type type-name='viewscreen_new_regionst' inherits-from='viewscreen'>
        <stl-vector name='worldgen_presets' pointer-type='worldgen_parms'/>
        <int8_t name='doing_params'/>
        <bool name='param_list_open'/>
        <int32_t name='scroll_position_param_list'/>
        <bool name='scrolling_param_list'/>
        <int32_t name='scroll_position_params'/>
        <bool name='scrolling_params'/>

        <bool name='entering_param_name'/>
        <int32_t name='sel_param'/>
        <stl-string name='enter_seed'/>
        <bool name='editing_seed'/>
        <bool name='editing_name'/>
        <bool name='editing_title'/>
        <bool name='confirm_delete'/>
        <bool name='confirm_new_dims'/>
        <int16_t name='new_dimx'/>
        <int16_t name='new_dimy'/>

        <int8_t name='confirming_abort_save'/>
        <int8_t name='confirming_start_save'/>
        <int8_t name='params_need_save'/>
        <bool name='entering_value_str'/>
        <int32_t name='entering_value_index'/>
        <stl-string name='value_str'/>
        <stl-vector pointer-type='world_gen_param_basest' name='member'/>
        <ulong name='last_saved_tc'/>
        <ulong name='last_loaded_tc'/>

        <int8_t name='doing_simple_params'/>
        <int32_t name='simple_sel'/>
        <int32_t name='simple_world_size'/>
        <int32_t name='simple_history'/>
        <int32_t name='simple_civ_num'/>
        <int32_t name='simple_site_cap'/>
        <int32_t name='simple_beast'/>
        <int32_t name='simple_savagery'/>
        <int32_t name='simple_minerals'/>

        <int8_t name='abort_world_gen_dialogue'/>
        <int8_t name='reject_dialogue'/>
        <int16_t name='reject_dialogue_type'/>
        <stl-vector pointer-type='stl-string' name='text_box'/>
        <bool name='mouse_scrolling_map'/>
        <int32_t name='mouse_anchor_mx'/>
        <int32_t name='mouse_anchor_my'/>
        <int32_t name='mouse_anchor_pmx'/>
        <int32_t name='mouse_anchor_pmy'/>

        <bool name='raw_load'/>
        <int32_t name='stage_count'/>
        <int32_t name='raw_load_stage'/>

        <bool name='doing_mods'/>
        <int32_t name='scroll_position_available_mods'/>
        <bool name='scrolling_available_mods'/>
        <int32_t name='scroll_position_selected_mods'/>
        <bool name='scrolling_selected_mods'/>

        <stl-vector pointer-type='stl-string' name='base_available_id'/>
        <stl-vector type-name='int32_t' name='base_available_numeric_version'/>
        <stl-vector type-name='int32_t' name='base_available_earliest_compat_numeric_version'/>
        <stl-vector pointer-type='stl-string' name='base_available_src_dir'/>
        <stl-vector pointer-type='stl-string' name='base_available_name'/>
        <stl-vector pointer-type='stl-string' name='base_available_displayed_version'/>
        <stl-vector pointer-type='mod_headerst' name='base_available_mod_header'/>

        <stl-vector pointer-type='stl-string' name='object_load_order_id'/>
        <stl-vector type-name='int32_t' name='object_load_order_numeric_version'/>
        <stl-vector type-name='int32_t' name='object_load_order_earliest_compat_numeric_version'/>
        <stl-vector pointer-type='stl-string' name='object_load_order_src_dir'/>
        <stl-vector pointer-type='stl-string' name='object_load_order_name'/>
        <stl-vector pointer-type='stl-string' name='object_load_order_displayed_version'/>
        <stl-vector pointer-type='mod_headerst' name='object_load_order_mod_header'/>

        <stl-vector pointer-type='stl-string' name='available_id'/>
        <stl-vector type-name='int32_t' name='available_numeric_version'/>
        <stl-vector type-name='int32_t' name='available_earliest_compat_numeric_version'/>
        <stl-vector pointer-type='stl-string' name='available_src_dir'/>
        <stl-vector pointer-type='stl-string' name='available_name'/>
        <stl-vector pointer-type='stl-string' name='available_displayed_version'/>
        <stl-vector pointer-type='mod_headerst' name='available_mod_header'/>

        <stl-vector pointer-type='stl-string' name='hover_mod_description'/>
        <stl-string name='last_hover_mod_id'/>
        <int32_t name='last_hover_mod_version'/>
        <int32_t name='last_hover_width'/>
    </class-type>

    <struct-type type-name='nemesis_offload' original-name='offload_unit_infost'>
        <stl-vector name='nemesis_save_file_id' type-name='int32_t'/>
        <stl-vector name='nemesis_member_idx' type-name='int16_t'/>
        <stl-vector name='units' pointer-type='unit'/>

        <pointer type-name='unit_chunk' name='cur_unit_chunk'/>
        <int32_t name='cur_unit_chunk_num' init-value='-1'/>
        <int32_t name='units_offloaded' init-value='-1'/>
    </struct-type>

    <class-type type-name='viewscreen_savegamest' inherits-from='viewscreen'>
        <stl-string name='unk_1'/>
        <enum name='cur_step' base-type='int32_t'>
            <enum-item name='Initializing'/>
            <enum-item name='CheckingDirectoryStructure'/>
            <enum-item name='PreliminaryCleaning'/>
            <enum-item name='OffloadingUnits'/>
            <enum-item name='OffloadingArt'/>
            <enum-item name='OpeningFile'/>
            <enum-item name='CharacterizingRawData'/>
            <enum-item name='AllocatingSpace'/>
            <enum-item name='SavingItems'/>
            <enum-item name='SavingUnits'/>
            <enum-item name='SavingJobs'/>
            <enum-item name='SavingSchedules'/>
            <enum-item name='SavingProjectiles'/>
            <enum-item name='SavingBuildings'/>
            <enum-item name='SavingMachines'/>
            <enum-item name='SavingFlowGuides'/>
            <enum-item name='SavingEffects'/>
            <enum-item name='SavingEntities'/>
            <enum-item name='SavingLocalAnimalPopulations'/>
            <enum-item name='SavingEvents'/>
            <enum-item name='SavingMandates'/>
            <enum-item name='SavingWorkQuotas'/>
            <enum-item name='SavingWorldEvents'/>
            <enum-item name='SavingCoinInformation'/>
            <enum-item name='SavingSquads'/>
            <enum-item name='SavingFormations'/>
            <enum-item name='SavingActivities'/>
            <enum-item name='SavingInteractions'/>
            <enum-item name='SavingWrittenContent'/>
            <enum-item name='SavingIdentities'/>
            <enum-item name='SavingIncidents'/>
            <enum-item name='SavingCrimes'/>
            <enum-item name='SavingVehicles'/>
            <enum-item name='SavingArmies'/>
            <enum-item name='SavingArmyControllers'/>
            <enum-item name='SavingTrackingInformation'/>
            <enum-item name='SavingCulturalIdentities'/>
            <enum-item name='SavingAgreement'/>
            <enum-item name='SavingArtForms'/>
            <enum-item name='SavingOccupations'/>
            <enum-item name='SavingBeliefSystems'/>
            <enum-item name='SavingImageSets'/>
            <enum-item name='SavingDivinationSets'/>
            <enum-item name='SavingAnnouncements'/>
            <enum-item name='SavingFortressInformation'/>
            <enum-item name='SavingWorldInformation'/>
            <enum-item name='SavingArtifacts'/>
            <enum-item name='SavingActiveHistoricalFigures'/>
            <enum-item name='SavingAdventureData'/>
            <enum-item name='SavingGeneralInformation'/>
            <enum-item name='ClosingFile'/>
            <enum-item name='Finishing'/>
        </enum>
        <int32_t name='progress' since='v0.40.01'/>
        <compound type-name='nemesis_offload' name='offload'/>
        <compound type-name='file_compressorst' name='compressor'/>
        <stl-string/>
        <stl-string/>
        <stl-string/>
        <int32_t/>
    </class-type>

    <enum-type type-name='adventurer_attribute_level' base-type='int32_t'>
        <enum-item name='VeryLow'/>
        <enum-item name='Low'/>
        <enum-item name='BelowAverage'/>
        <enum-item name='Average'/>
        <enum-item name='AboveAverage'/>
        <enum-item name='High'/>
        <enum-item name='Superior'/>
    </enum-type>

    <struct-type type-name='startup_charactersheet_petst'>
        <compound type-name='language_name' name='name'/>

        <int16_t name='race' ref-target='creature_raw'/>
        <int16_t name='caste' ref-target='caste_raw' aux-value='$$.race'/>
        <int16_t name='type'/>
    </struct-type>

    <enum-type type-name='adv_background_option_type' base-type='int32_t'>
        <enum-item name='NONE' value='-1'/>
        <enum-item name='SQUAD_EPPID'/>
        <enum-item name='REGULAR_UNIT'/>
    </enum-type>

    <struct-type type-name='setup_character_info' comment='startup_charactersheetst'>
        <compound type-name='language_name' name='name'/>
        <int16_t name='race' ref-target='creature_raw'/>
        <int16_t name='caste' ref-target='caste_raw' aux-value='$$.race'/>
        <static-array name='skilllevel' count='149' index-enum='job_skill'>
            <enum type-name='skill_rating'/>
        </static-array>
        <int32_t name='quick_entity_id' ref-target='historical_entity'/>
        <int32_t name='entity_population_id'/>
        <int32_t name='breed_id'/>
        <int32_t name='cultural_identity_id' ref-target='cultural_identity'/>
        <int32_t name='nemesis_index' ref-target='nemesis_record'/>
        <int32_t name='start_mil_type'/>
        <int32_t name='start_civ_type'/>
        <int16_t name='skill_picks_left'/>

        <static-array count='6' name='phys_att_range_val' index-enum='physical_attribute_type'>
            <enum type-name='adventurer_attribute_level'/>
        </static-array>
        <static-array count='13' name='ment_att_range_val' index-enum='mental_attribute_type'>
            <enum type-name='adventurer_attribute_level'/>
        </static-array>

        <enum base-type='int16_t' name='difficulty'>
            <enum-item name='Peasant'/>
            <enum-item name='Hero'/>
            <enum-item name='Demigod'/>
        </enum>

        <int32_t name='start_site_id' ref-target='world_site' since='v0.47.01'/>
        <int32_t name='background_start_squad_epp_id' since='v0.47.01'/>
        <enum type-name='profession' base-type='int16_t' name='background_unit' since='v0.47.01'/>
        <static-array name='background_skill_bonus' type-name='int32_t' count='149' index-enum='job_skill' since='v0.47.01'/>

        <int32_t name='worship_hfid' ref-target='historical_figure'/>
        <int32_t name='worship_enid' ref-target='historical_entity' since='v0.40.01'/>
        <int32_t name='worship_strength' since='v0.40.01'/>

        <compound name='pform' type-name='unit_appearance'/>
        <int32_t name='birth_year'/>
        <int32_t name='birth_season_count'/>
        <int32_t name='age_death_year'/>
        <int32_t name='age_death_season_count'/>
        <compound type-name='unit_personality' name='pers'/>
        <bool name='is_from_wilderpop_or_feature'/>

        <uint32_t name='flag'/>
        <enum base-type='int32_t' name='sub_mode'>
            <enum-item name='NONE' value='-1'/>
            <enum-item name='RACE'/>
            <enum-item name='SUBRACE'/>
            <enum-item name='NEMESIS'/>
            <enum-item name='ENTITY'/>
            <enum-item name='DOING_SUB'/>
            <enum-item name='SUB_SKILLS'/>
            <enum-item name='SUB_APPEARANCE'/>
            <enum-item name='SUB_PERSONALITY'/>
            <enum-item name='SUB_BACKGROUND'/>
            <enum-item name='SUB_EQUIPMENT'/>
            <enum-item name='SUB_MOUNTS_AND_PETS'/>
            <enum-item name='FINAL_CONFIRMATION'/>
        </enum>
        <static-array name='visited_mode' type-name='bool' count='12'/>

        <bool name='selecting_atts'/>
        <int32_t name='selected_att'/>
        <int32_t name='att_points'/>
        <stl-vector name='posskill'>
            <enum base-type='int16_t' type-name='job_skill'/>
        </stl-vector>
        <int32_t name='selected_sk'/>
        <int32_t name='ip'/>

        <bool name='entering_name'/>
        <stl-string name='old_name'/>
        <stl-vector name='background_text' pointer-type='stl-string'/>
        <stl-vector name='goodsite' pointer-type='world_site'/>
        <int32_t name='active_column'/>
        <stl-vector type-name='adv_background_option_type' name='background_option'/>
        <stl-vector name='background_option_squad_epp_id'>
            <int32_t init-value='-1'/>
        </stl-vector>
        <stl-vector type-name='int32_t' name='background_option_unit' comment='type should be profession?'/>
        <stl-vector type-name='int32_t' name='religious_practice_option'/>
        <stl-vector type-name='int32_t' name='religious_practice_id'/>
        <stl-vector type-name='int32_t' name='pos_caste'/>
        <int32_t name='st_selector'/>
        <int32_t name='bo_selector'/>
        <int32_t name='rp_selector'/>
        <stl-vector name='background_desc' pointer-type='stl-string'/>

        <stl-vector name='appearance_text' pointer-type='stl-string'/>
        <bool name='appearance_offscreen_randomized'/>
        <bool name='appearance_was_fully_randomized'/>

        <int32_t name='pers_scroll_y'/>
        <stl-vector name='personal_values_text' pointer-type='stl-string'/>
        <stl-vector name='personality_text' pointer-type='stl-string'/>
        <stl-vector name='civ_values_text' pointer-type='stl-string'/>

        <bool name='doing_specific_personality'/>
        <int32_t name='selected_specific_pers_item'/>
        <static-array name='min_pers' type-name='int16_t' index-enum='personality_facet_type' count='50'/>
        <static-array name='max_pers' type-name='int16_t' index-enum='personality_facet_type' count='50'/>
        <static-array name='civ_value_level' type-name='int32_t' index-enum='value_type' count='33'/>

        <int32_t name='eqpet_points'/>
        <stl-vector name='s_item' pointer-type='item_actual'/>

        <int32_t name='selected_i'/>
        <compound type-name='embark_item_choice' name='etl'/>
        <int16_t name='itype'/>
        <int16_t name='istype'/>
        <int16_t name='imat'/>
        <int32_t name='imatg'/>
        <stl-vector name='item_desc' pointer-type='stl-string'/>

        <int32_t name='selected_pet_l'/>
        <int32_t name='selected_pet_r'/>
        <int32_t name='pet_side'/>
        <stl-vector name='pet' pointer-type='startup_charactersheet_petst'/>
    </struct-type>

    <struct-type type-name='embark_item_choice'>
        <static-array name='list' count='107' index-enum='entity_sell_category'>
            <stl-vector>
                <pointer>
                    <enum base-type='int16_t' name='item_type' type-name='item_type'/>
                    <int16_t name='item_subtype' refers-to='(item-subtype-target $$._parent.item_type $)'/>
                    <int16_t name='mattype' ref-target='material' aux-value='$$.matindex'/>
                    <int32_t name='matindex'/>
                    <int8_t name="unk_c" comment='1 if new, -1 if added'/>
                </pointer>
            </stl-vector>
        </static-array>
        <stl-vector name='race' type-name='int32_t' ref-target='creature_raw'
                    index-refers-to='$$._parent.caste[$].ref-target'/>
        <stl-vector name='caste' type-name='int16_t'
                    ref-target='caste_raw' aux-value='$$._parent.race[$._key]'/>
        <stl-vector name='profession' index-refers-to='$$._parent.caste[$].ref-target'>
            <enum base-type='int16_t' type-name='profession'/>
        </stl-vector>
    </struct-type>

    <struct-type type-name='embark_profile'>
        <stl-string name='name'/>
        <stl-vector name='skill_type' type-name='int16_t'/>
        <stl-vector name='skill_dwarf_idx' type-name='int16_t'/>
        <stl-vector name='skill_level' type-name='int16_t'/>

        <stl-vector name='reclaim_dwarf_idx' type-name='int16_t'/>
        <stl-vector name='reclaim_prof1' type-name='profession'/>
        <stl-vector name='reclaim_prof2' type-name='profession'/>

        <stl-vector name='item_type' type-name='int16_t'/>
        <stl-vector name='item_subtype' type-name='int16_t'/>
        <stl-vector name='mat_type' type-name='int16_t'/>
        <stl-vector name='mat_index' type-name='int32_t'/>
        <stl-vector name='item_count' type-name='int32_t'/>

        <stl-vector name='pet_race' type-name='int32_t' ref-target='creature_raw'/>
        <stl-vector name='pet_caste' type-name='int16_t' ref-target='caste_raw'/>
        <stl-vector name='pet_profession' type-name='profession'/>
        <stl-vector name='pet_count' type-name='int32_t'/>
    </struct-type>

    <struct-type type-name='embark_symbol'>
        <stl-vector name='unk_v43_1'/>
        <stl-vector name='unk_v43_2'/>
        <int32_t name='unk_v43_3'/>
        <compound name='unk_v43_4' type-name='language_name'/>
        <compound name='unk_v43_sub9'>
            <int32_t name='unk_s1'/>
            <int16_t name='unk_s2'/>
            <int32_t name='unk_s3'/>
            <int16_t name='unk_s4'/>
            <int32_t name='unk_s5'/>
            <int32_t name='unk_s6'/>
            <pointer name='unk_s7'/>
        </compound>
        <static-array type-name='int32_t' count='4' comment='uninitialized?' name='unk_v43_10'/>
    </struct-type>

    <class-type type-name='viewscreen_setupdwarfgamest' inherits-from='viewscreen'>
        <static-string size='768' name='title'/>
        <stl-vector name='dwarf_info' pointer-type='setup_character_info'/>
        <static-array count='4' name='embark_skills'><stl-vector type-name='job_skill'/></static-array>
        <stl-vector name='reclaim_professions' type-name='profession'/>

        <int32_t name='preparing_map_timer'/>
        <bool name='preparing_map_timer_quick_start'/>

        <compound type-name='difficultyst' name='difficulty'/>
        <bool name='doing_custom_settings'/>
        <int32_t name='scroll_position_params'/>
        <bool name='scrolling_params'/>
        <bool name='entering_value_str'/>
        <int32_t name='entering_value_index'/>
        <stl-string name='value_str'/>
        <stl-vector name='member' pointer-type='world_gen_param_basest'/>

        <int32_t name='mode'/>
        <int32_t name='selected_u'/>
        <int32_t name='scroll'/>
        <int32_t name='selected_i'/>

        <int32_t name='current_skill_tab'/>
        <bool name='scrolling_skill_list'/>

        <int32_t name='selected_sk'/>
        <int32_t name='selected_pet'/>
        <int32_t name='side_u'/>
        <int32_t name='side_i'/>
        <int32_t name='y'/>
        <int8_t name='initial_selection'/>
        <bool name='embark_confirmation'/>
        <bool name='scrolling_pet_list'/>
        <int32_t name='chosen_pet_selected'/>
        <bool name='scrolling_chosen_pet_list'/>

        <stl-vector type-name='int8_t' name='embark_profile_type'/>
        <stl-vector name='embark_profile' pointer-type='embark_profile'/>
        <int32_t name='scroll_position_initial_selection'/>
        <bool name='scrolling_initial_selection'/>

        <stl-vector pointer-type='stl-string' name='objection'/>
        <int8_t name='viewing_objections'/>
        <int32_t name='scroll_position_objections'/>
        <bool name='scrolling_objections'/>

        <int8_t name='saving_profile'/>
        <stl-string name='profile_name'/>
        <int8_t name='saving_profile_warning'/>

        <compound type-name='embark_item_choice' name='etl'/>
        <static-array name='s_item' index-enum='entity_sell_category' count='107'><stl-vector pointer-type='item_actual'/></static-array>
        <static-array name='item_expander_on' index-enum='entity_sell_category' count='107' type-name='bool'/>
        <int32_t name='scroll_position_item'/>
        <enum name='current_category' type-name='entity_sell_category' base-type='int16_t'/>
        <int32_t name='scroll_position_category'/>
        <int32_t name='scroll_position_category_item'/>
        <bool name='scrolling_item'/>
        <bool name='scrolling_category'/>
        <bool name='scrolling_category_item'/>
        <stl-string name='item_filter'/>
        <bool name='entering_item_filter'/>

        <stl-vector type-name='int16_t' name='availpetrace_num'/>
        <stl-vector type-name='int32_t' name='chosen_pet_index'/>
        <stl-vector type-name='int32_t' name='chosen_pet_num'/>
        <compound name='fort_name' type-name='language_name'/>
        <compound name='group_name' type-name='language_name'/>
        <bool name='update_header'/>
        <compound type-name='art_image' name='start_symbol'/>
        <compound type-name='embark_location' name='si'/>
        <stl-vector pointer-type='unit' name='s_unit'/>
        <int32_t name='wagon_num'/>
        <int32_t name='points_remaining'/>

        Set remotely via pointers:
        <enum base-type='int16_t' name='add_item_type' type-name='item_type'/>
        <int16_t name='add_item_subtype' refers-to='(item-subtype-target $$._parent.add_item_type $)'/>
        <int16_t name='add_mattype' ref-target='material' aux-value='$$.add_matindex'/>
        <int32_t name='add_matindex'/>
        <int32_t name='adding_item'/>
    </class-type>

    <class-type type-name='viewscreen_choose_game_typest' inherits-from='viewscreen'>
        <stl-vector type-name="int32_t" name="gametypes"/>
    </class-type>

    <class-type type-name='viewscreen_titlest' inherits-from='viewscreen'>
        <static-string name='str_histories' size='768'/>
        <static-string size='768'/>

        <bool name='clean_first'/>
        <int16_t name='mode'/>
        <int32_t name='selected'/>
        <int32_t name='selected_r'/>
        <int8_t name='game_start_proceed'/>
        <stl-vector name="menu_line_id">
            <enum base-type="int32_t" name="menu_line_id">
                <enum-item name="Continue"/>
                <enum-item name="Start"/>
                <enum-item name="NewWorld"/>
                <enum-item name="TestingArena"/>
                <enum-item name="Mods" since="v50.01"/>
                <enum-item name="Settings"/>
                <enum-item name="AboutDF"/>
                <enum-item name="Quit"/>
            </enum>
        </stl-vector>
        <stl-vector type-name="game_type" name="gametype"/>
        <stl-vector pointer-type='stl-string' name='gametype_str'/>
        <stl-vector pointer-type='region_headerst' name='region_choice'/>
        <int32_t name='scroll_position_region_choice'/>
        <bool name='scrolling_region_choice'/>
        <stl-vector pointer-type='savegame_headerst' name='savegame_header'/>
        <stl-vector pointer-type='savegame_headerst' name='savegame_header_world'/>
        <int32_t name='scroll_position_world_choice'/>
        <bool name='scrolling_world_choice'/>
        <stl-vector pointer-type='savegame_headerst' name='savegame_header_game'/>
        <int32_t name='scroll_position_game_choice'/>
        <bool name='scrolling_game_choice'/>
        <stl-vector pointer-type='stl-string' name='arena_choice'/>
        <stl-vector pointer-type='stl-string' name='dungeon_choice'/>
        <stl-vector pointer-type='stl-string' name='tutorial_choice'/>
        <stl-string name="str_copyright"/>
        <stl-string name="str_version"/>

        <stl-string name='src_dir'/>
        <int32_t name='stage_count'/>

        <bool name='game_start_arena'/>
        <int32_t name='load_arena_stage'/>

        <bool name='game_start_tutorial'/>
        <int32_t name='load_tutorial_stage'/>

        <bool name='game_start_dungeon'/>
        <int32_t name='load_dungeon_stage'/>

        <bool name='managing_mods'/>
        <stl-vector pointer-type='mod_headerst' name='mod'/>
        <int32_t name='scroll_position_mods'/>
        <bool name='scrolling_mods'/>
        <stl-vector pointer-type='stl-string' name='hover_mod_description'/>
        <stl-string name='last_hover_mod_id'/>
        <int32_t name='last_hover_mod_version'/>
        <int32_t name='last_hover_width'/>

        -- begin Steam Specific
        <bool name='uploading_mods'/>
        <int32_t name='scroll_position_upload_mods'/>
        <bool name='scrolling_upload_mods'/>
        <stl-vector pointer-type='stl-string' name='hover_upload_mod_description'/>
        <stl-string name='last_hover_upload_mod_id'/>
        <int32_t name='last_hover_upload_mod_version'/>
        <int32_t name='last_hover_upload_width'/>
        <bool name='deleting_region'/>
        <bool name='deleting_savegame_game'/>
        <bool name='deleting_savegame_world'/>
        <pointer type-name='savegame_headerst' name='deleting_savegame_header'/>
        <pointer type-name='region_headerst' name='deleting_region_header'/>
        <stl-vector pointer-type='stl-string' name='credit_line'/>
        <stl-vector type-name='int32_t' name='credit_line_type'/>
        <int32_t name='scroll_position_about'/>
        <bool name='scrolling_about'/>
    </class-type>

    <class-type type-name='viewscreen_update_regionst' inherits-from='viewscreen'>
        <int32_t name='year'/>
        <int32_t name='year_tick'/>
    </class-type>

    <enum-type type-name='world_view_mode_type' base-type='int32_t'>
        <enum-item name='NONE' value='-1'/>
        <enum-item name='NORMAL'/>
        <enum-item name='CIVILIZATIONS'/>
        <enum-item name='MISSIONS_LIST'/>
        <enum-item name='MISSION_DETAILS'/>
        <enum-item name='NEWS'/>
        <enum-item name='REPORTS'/>
        <enum-item name='CITIZENS'/>
        <enum-item name='ARTIFACTS'/>
    </enum-type>

    <class-type type-name='viewscreen_worldst' inherits-from='viewscreen'>
        <int32_t name='region_cent_x'/>
        <int32_t name='region_cent_y'/>
        <bool name='mouse_scrolling_map'/>
        <int32_t name='mouse_anchor_mx'/>
        <int32_t name='mouse_anchor_my'/>
        <int32_t name='mouse_anchor_pmx'/>
        <int32_t name='mouse_anchor_pmy'/>

        <enum base-type='int32_t' name='view_mode' type-name='world_view_mode_type'/>

        <pointer type-name='historical_figure' name='military_goals_hf'/>
        <pointer type-name='historical_figure' name='meet_workers_hf'/>

        <int32_t name='focus_ax'/>
        <int32_t name='focus_ay'/>
        <pointer type-name='world_site' name='focus_site'/>
        <stl-vector pointer-type='artifact_record' name='focus_site_artifact'/>
        <stl-vector pointer-type='historical_figure' name='focus_site_prisoner'/>
        <bool name='focus_site_messenger_candidate'/>
        <stl-vector pointer-type='nemesis_record' name='focus_site_requestable_worker'/>

        <stl-vector pointer-type='historical_entity' name='civlist'/>
        <pointer type-name='historical_entity' name='last_hover_ent'/>
        <stl-vector pointer-type='nemesis_record' name='relnem'/>
        <stl-vector type-name='int32_t' name='relnem_precedence'/>
        <stl-vector name='relag' comment='civ_agreementst'/>
        <stl-vector type-name='int8_t' name='relag_pending'/>
        <int32_t name='scroll_position_civlist'/>
        <bool name='scrolling_civlist'/>

        <stl-vector pointer-type='army_controller' name='army_controller'/>
        <pointer type-name='army_controller' name='last_hover_ac'/>
        <int32_t name='selected_ac'/>
        <bool name='scrolling_ac'/>
        <int32_t name='scroll_position_ac'/>

        <stl-vector pointer-type='squad' name='squad'/>
        <stl-vector type-name='uint32_t' name='squad_flag'/>
        <stl-vector pointer-type='entity_position_assignment' name='messenger_epp'/>
        <stl-vector pointer-type='historical_entity' name='messenger_ent'/>
        <stl-vector type-name='uint32_t' name='messenger_flag'/>
        <int32_t name='scroll_position_squad'/>
        <bool name='scrolling_squad'/>
        <int32_t name='scroll_position_messenger'/>
        <bool name='scrolling_messenger'/>

        <stl-vector pointer-type='nemesis_record' name='request_nem'/>
        <int32_t name='scroll_position_request_nem'/>
        <bool name='scrolling_request_nem'/>
        <stl-vector name='rumor_master'/>
        <compound name='rumor_rpd' comment='region_print_datast'>
            <pointer/>
            <int32_t/>
            <int32_t/>
            <pointer/>
            <pointer/>
            <int32_t/>
            <int32_t/>
            <pointer/>
            <static-array type-name='int8_t' count='200'/>
            <int32_t/>
            <static-array type-name='int8_t' count='8'/>
            <int32_t/>
            <int32_t/>
            <int32_t/>
            <int32_t/>
            <static-array type-name='int8_t' count='92'/>
            <pointer/>
            <pointer/>
            <int32_t/>
        </compound>
        <compound name='rumor_rpd_indicator_data' comment='rpd_indicator_datast'>
            <static-array count='1000'><int32_t name='a'/><int32_t name='b'/></static-array>
            <static-array count='1000'><int32_t name='a'/><int32_t name='b'/></static-array>
            <static-array type-name='int8_t' count='1000'/>
            <static-array type-name='int8_t' count='1000'/>
            <static-array type-name='int8_t' count='1000'/>
            <static-array type-name='int8_t' count='1000'/>
            <int32_t/>
            <static-array count='1000'><int32_t name='a'/><int32_t name='b'/></static-array>
            <static-array type-name='int8_t' count='1000'/>
            <static-array type-name='int8_t' count='1000'/>
            <static-array type-name='int8_t' count='1000'/>
            <static-array type-name='int8_t' count='1000'/>
            <int32_t/>
        </compound>
        <int32_t name='last_hover_rumor_x'/>
        <int32_t name='last_hover_rumor_y'/>
        <bool name='focused_on_last_hover_rumor'/>
        <stl-vector pointer-type='stl-string' name='rumor_text'/>
        <int32_t name='scroll_position_rumor'/>
        <bool name='scrolling_rumor'/>

        <stl-vector type-name='int32_t' name='mission_report_index'/>
        <stl-vector type-name='int32_t' name='tribute_report_index'/>
        <int32_t name='croll_position_report'/>
        <bool name='scrolling_report'/>

        <pointer name='active_mission_report' comment='mission_reportst'/>
        <int32_t name='mission_cursor_x'/>
        <int32_t name='mission_cursor_y'/>
        <int32_t name='mission_path_data_index'/>
        <int32_t name='mission_path_data_path_index'/>
        <int32_t name='mission_heid_data_index'/>
        <int32_t name='mission_heid_data_heid_index'/>
        <stl-vector pointer-type='stl-string' name='mission_text_box'/>
        <stl-vector type-name='int32_t' name='mission_text_box_color'/>
        <int32_t name='mission_timer_year'/>
        <int32_t name='mission_timer_season_count'/>
        <int32_t name='mission_timer_season_count_inc'/>
        <bool name='report_paused'/>
        <int32_t name='mission_fade_in_timer'/>
        <int32_t name='mission_fade_start_ind'/>
        <int32_t name='scroll_position_mission'/>
        <bool name='scrolling_mission'/>

        <pointer name='active_tribute_report' comment='tribute_reportst'/>
        <int32_t name='scroll_position_tribute'/>
        <bool name='scrolling_tribute'/>

        <stl-vector pointer-type='historical_figure' name='hf'/>
        <int32_t name='scroll_position_citizens'/>
        <bool name='scrolling_citizens'/>
        <pointer type-name='historical_figure' name='last_hover_hf'/>

        <stl-vector pointer-type='artifact_record' name='artifact'/>
        <stl-vector pointer-type='artifact_rumor_locationst' name='artifact_arl'/>
        <int32_t name='scroll_position_artifacts'/>
        <bool name='scrolling_artifacts'/>
        <pointer type-name='artifact_record' name='last_hover_artifact'/>
        <stl-vector pointer-type='stl-string' name='artifact_description'/>
        <pointer comment='entity_artifact_claimst' name='artifact_eac'/>
        <pointer type-name='historical_figure' name='artifact_rpa_holder'/>
        <pointer type-name='historical_figure' name='artifact_fac_holder'/>
    </class-type>

    <class-type type-name='viewscreen_new_arenast' inherits-from='viewscreen'>
        <int8_t name='unk_88'/>
        <int32_t name='progress'/>
        <int32_t name='cur_step'/>
        <int32_t name='unk_94'/>
        <int32_t name='unk_98'/>
        <int32_t name='unk_9c'/>
        <int32_t name='unk_a0'/>
        <int32_t name='unk_a4'/>
        <int32_t name='unk_a8'/>
        <int32_t name='unk_ac'/>
        <stl-vector pointer-type='stl-string' name='unk_b0'/>
        <stl-vector type-name='int32_t' name='unk_c8'/>
        <stl-vector type-name='int32_t' name='unk_e0'/>
        <stl-vector pointer-type='stl-string' name='unk_f8'/>
        <stl-vector pointer-type='stl-string' name='unk_110'/>
        <stl-vector pointer-type='stl-string' name='unk_128'/>
        <stl-vector pointer-type='mod_headerst' name='unk_mods'/>
        <stl-vector pointer-type='stl-string' name='unk_158'/>
        <stl-vector type-name='int32_t' name='unk_170'/>
        <stl-vector type-name='int32_t' name='unk_188'/>
        <stl-vector pointer-type='stl-string' name='unk_1a0'/>
        <stl-vector pointer-type='stl-string' name='unk_1b8'/>
        <stl-vector pointer-type='stl-string' name='unk_1d0'/>
        <stl-vector pointer-type='mod_headerst' name='unk_mods2'/>
        <stl-vector pointer-type='stl-string' name='unk_200'/>
        <stl-vector type-name='int32_t' name='unk_218'/>
        <stl-vector type-name='int32_t' name='unk_230'/>
        <stl-vector pointer-type='stl-string' name='unk_248'/>
        <stl-vector pointer-type='stl-string' name='unk_260'/>
        <stl-vector name='unk_278'/>
        <stl-vector name='unk_290'/>
        <stl-vector pointer-type='stl-string' name='unk_2a8'/>
        <stl-string name='unk_2c0'/>
        <int32_t name='unk_2e0'/>
        <int32_t name='unk_2e4'/>
    </class-type>

</data-definition>

<!--
Local Variables:
indent-tabs-mode: nil
nxml-child-indent: 4
End:
-->
