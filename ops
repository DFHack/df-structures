{"version":1,"ops":[{"type":1,"author":{"id":"7c3935464acdaaae9d6fcb27abcbbe21ec75027f"},"timestamp":1465918010,"metadata":{"github-id":"MDU6SXNzdWUxNjAyMTEwNzM=","github-url":"https://github.com/DFHack/df-structures/issues/147","origin":"github"},"title":"Attack action research","message":"From https://github.com/angavrilov/df-structures/issues/3, reported by @Putnam3145\n\nhttp://pastebin.com/a8n2W3tj\n\nPosting in pastebin form just in case editing may be required.\n\n```\naction.data.attack.unk_0 --attacked unit id\n\naction.data.attack.unk_4 --some structure which represents something\n\naction.data.attack.unk_4.unk_8 --0 when item attacking\n\naction.data.attack.unk_4.unk_14 --0 when item attacking, -1 otherwise\n\naction.data.attack.unk_1c --attacking item ID, if applicable\n\naction.data.attack.unk_20 --attacked BP ID\n\naction.data.attack.unk_22 --attacking bp id, if applicable\n\naction.data.attack.unk_24 --attack ID; separate for items and units, so 0 could either be sword slash or left punch, by appearances\n\naction.data.attack.unk_28 --usually 3, not sure what it is\n\naction.data.attack.unk_2c --usually 3, not sure what it is\n\naction.data.attack.unk_30 --hell if I know, changes a lot, way smaller with quick attack\n\naction.data.attack.unk_34 --mode\n\n-- 1: ?\n\n-- 2: haven't seen it unactivated\n\n-- 3: BP attacks usually have this, item attacks don't\n\n-- 4: ?\n\n-- 5: ?\n\n-- 6: quick attack\n\n-- 7: heavy attack\n\n-- 8: wild attack\n\n-- 9: precise attack\n\n-- 10: charge attack\n\n-- 11: multi-attack? (kicks have this always, so might be attack_flag_bad_multiattack)\n\naction.data.attack.unk_38 --almost always 103 exactly, except when biting, where it's 102, at least when latching; perhaps related to latching? probably another flags, though that would be a lot of activated flags\n\naction.data.attack.unk_3c -- different most of the time, not sure exactly what is\n\naction.data.attack.timer1 --probably prepare\n\naction.data.attack.timer2 --probably recover\n```","files":null}]}