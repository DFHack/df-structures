{"version":1,"ops":[{"type":3,"author":{"id":"b557f89d859694906b6aaad860dfa0f74f23dbaa"},"timestamp":1582980848,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDU5Mjk0MjYwNg==","github-url":"https://github.com/DFHack/df-structures/issues/372#issuecomment-592942606"},"message":"For unions, knowing the discriminant field would not be enough, you would also need to have a map from discriminant values to union fields. It would be more difficult to express, but I would really like if this information was available.","files":null},{"type":3,"author":{"id":"dc07f1dff8eee6d97a060efd0e58b122b9009d24"},"timestamp":1582983167,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDU5Mjk0NjEzMA==","github-url":"https://github.com/DFHack/df-structures/issues/372#issuecomment-592946130"},"message":"You're right. For it to work we'd need to use a convention of having exactly one field per variant, i.e. each variant would have a single field that would either be a struct or a simple field, and the variants would have to be defined in discriminant value order. That also assumes the discriminant is a simple number/enum starting at 0.","files":null},{"type":3,"author":{"id":"7c3935464acdaaae9d6fcb27abcbbe21ec75027f"},"timestamp":1582986563,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDU5Mjk1MTAxMA==","github-url":"https://github.com/DFHack/df-structures/issues/372#issuecomment-592951010"},"message":"The first bit is the same as https://github.com/DFHack/dfhack/issues/1436, I think (maybe it does belong here...)","files":null},{"type":3,"author":{"id":"dc07f1dff8eee6d97a060efd0e58b122b9009d24"},"timestamp":1582989920,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDU5Mjk1NjI2Nw==","github-url":"https://github.com/DFHack/df-structures/issues/372#issuecomment-592956267"},"message":"Merged into DFHack/dfhack#1436","files":null},{"type":4,"author":{"id":"dc07f1dff8eee6d97a060efd0e58b122b9009d24"},"timestamp":1582989921,"metadata":{"github-id":"MDExOkNsb3NlZEV2ZW50MzA4NDgwMDQ4NQ=="},"status":2}]}