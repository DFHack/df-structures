{"version":1,"ops":[{"type":3,"author":{"id":"e1e4057f36747b8d8496da33613ae195aeb3b82a"},"timestamp":1524563961,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDM4Mzg3NTI2OA==","github-url":"https://github.com/DFHack/df-structures/issues/252#issuecomment-383875268"},"message":"Sounds like a better name would be language, rather than race, because race values would be in the mid hundreds.","files":null},{"type":3,"author":{"id":"dc07f1dff8eee6d97a060efd0e58b122b9009d24"},"timestamp":1524564566,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDM4Mzg3ODIzMw==","github-url":"https://github.com/DFHack/df-structures/issues/252#issuecomment-383878233"},"message":"If the reference was to df.global.world.raws.creatures.all, yes, but it refers to df.global.world.raws.language.translations (assuming, of course, that my observations are correct): the sample is rather small. Confirmations would be good (I might try to scour the world's written works for all dictionaries to get a larger sample).\nHowever, I'm not too fussed about whether the name is \"race\", \"language\", \"racial_language\", \"articulate_race\", or something else, as all of these are better than \"anon_1\".","files":null},{"type":3,"author":{"id":"dc07f1dff8eee6d97a060efd0e58b122b9009d24"},"timestamp":1524575827,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDM4MzkyNjQ2Nw==","github-url":"https://github.com/DFHack/df-structures/issues/252#issuecomment-383926467"},"message":"The following script failed to find any mismatches between titles and language references among over half a million books (listing the ones that contained dictionaries exceeded the DFHack window buffer):\n\n```\nfunction w ()\n  for i, work in ipairs (df.global.world.written_contents.all) do\n    for k, ref in ipairs (work.refs) do\n      if ref._type == df.general_ref_languagest then\n        local title = work.title:upper ()\n        if not title:find (df.global.world.raws.language.translations [ref.anon_1].name) then\n          dfhack.println (work.title, df.global.world.raws.language.translations [ref.anon_1].name)\n--        else\n--          dfhack.println (title:find (df.global.world.raws.language.translations [ref.anon_1].name))\n        end\n      end\n    end\n  end\nend\n\nw ()```\n\nThus, I think it's fairly likely the assumption about the function of \"anon_1\" is correct.","files":null},{"type":5,"author":{"id":"7c3935464acdaaae9d6fcb27abcbbe21ec75027f"},"timestamp":1526055100,"metadata":{"github-id":"MDEyOkxhYmVsZWRFdmVudDE2MjIyODE3MjI="},"added":["fields"],"removed":[]},{"type":5,"author":{"id":"7c3935464acdaaae9d6fcb27abcbbe21ec75027f"},"timestamp":1526055100,"metadata":{"github-id":"MDEyOkxhYmVsZWRFdmVudDE2MjIyODE3MjY="},"added":["research"],"removed":[]}]}