{"version":1,"ops":[{"type":1,"author":{"id":"dc07f1dff8eee6d97a060efd0e58b122b9009d24"},"timestamp":1525948293,"metadata":{"github-id":"MDU6SXNzdWUzMjE4ODUxMjQ=","github-url":"https://github.com/DFHack/df-structures/issues/255","origin":"github"},"title":"df.unit-thoughts.xml:unit_thought_type has an additional value, 240","message":"Crawling through a DFFD world showed quite a few cases of this value in df.global.world.history.figures[*].info.personality.anon_1.emotions.thought.\n\nIt seems this value corresponds to \"seeing a \u003ccritter's\u003e dead body\", which would match with Toady's division of seeing something die and seeing their body into two separate thoughts.\n\nEdit: This logic reproduces the thoughts, so 240 might be named e.g. \"SeeDeadBody\"\n   [240] = {[\"caption\"] = \"after seeing [subthought]'s dead body\",\n                                          [\"subthought\"] = {\"df.global.world.incidents.all id\",\n                                                            (function (subthought) \n                                                               return incident_victim (subthought)\n                                                             end)}},\nI haven't looked at what might be responsible for making some thoughts remembered and some not.\n\nEdit 2: Examining a single dorf's thoughts I suspect df.global.world.history.figures[*].info.personality.anon_1.emotions.flags [5] results in a memory thought when set.\nThat dorf showed 5 memory thoughts on the thoughts screen, and my \"thoughts\" script modified for this examination (but not uploaded, as it crashes at the end) likewise finds 5 memories of the types the memories cover.\nOne might consider naming that flag as e.g. \"Memory\".","files":null}]}