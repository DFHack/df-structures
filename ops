{"version":1,"ops":[{"type":5,"author":{"id":"7c3935464acdaaae9d6fcb27abcbbe21ec75027f"},"timestamp":1587330656,"metadata":{"github-id":"MDEyOkxhYmVsZWRFdmVudDMyNDk0ODM0NjE="},"added":["research"],"removed":[]},{"type":3,"author":{"id":"dc07f1dff8eee6d97a060efd0e58b122b9009d24"},"timestamp":1587373475,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDYxNjQxMzYwMQ==","github-url":"https://github.com/DFHack/df-structures/issues/397#issuecomment-616413601"},"message":"I'd suggest \"parent_building_id\" and \"child_building_id\" with the ref-target specifying that they're abstract buildings.\n\nFor verification of the suspicion, I'd want a couple of more checks, i.e. two-three additional temples checked out, and even better if you could use a script to identify a set of temples that together ought to have the whole set of features and investigate those. As I assume you're using an adventurer, I'd understand if that would be a bit much to ask, though.","files":null},{"type":3,"author":{"id":"970d548538cd32d04720c76a86db46022f44261e"},"timestamp":1587559582,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDYxNzc1NzUzNA==","github-url":"https://github.com/DFHack/df-structures/issues/397#issuecomment-617757534"},"message":"Well, I am going around a few towns to make pictures for the wiki and identify a bunch of stuff (and my adventurer's ingame reason for this is to get to a specific library), it seems to stay consistent with all the temples I have found up till now:\n\n![image](https://user-images.githubusercontent.com/1759191/79982483-b091bc80-84a6-11ea-9f99-82ddd907bdd1.png)\nThe Church of Veiling - paved_outdoor_area, upper_floors, open_structure, lower_floors, water_pool, detailed_surfaces\n![image](https://user-images.githubusercontent.com/1759191/79982565-d15a1200-84a6-11ea-8ec2-e1d9a149000f.png)\nThe Cathedral of Aces - paved_outdoor_area, pillars_on_the_perimeter, square_of_pillars, upper_floors, lower_floors, water_pool\n![image](https://user-images.githubusercontent.com/1759191/79982689-023a4700-84a7-11ea-99a2-574ff8aa2dc5.png)\nThe Peaceful Chapel - paved_outdoor_area, pillars_on_the_perimeter, square_of_pillars, upper_floors, open_structure, lower_floors\n\n![image](https://user-images.githubusercontent.com/1759191/79982780-1f6f1580-84a7-11ea-821c-1fe3aa38c939.png)\nThe Temple of Courage - paved_outdoor_area, pillars_on_the_perimeter, square_of_pillars, upper_floors, paved_indoor_areas, water_pool, detailed_surfaces\n\nLower floors in this case really seems to refer to whether there is an inner sanctum. Not sure what square of pillars means.\n\nYou don't happen to know how I'd best reference something that is defined in history while I need it in world-site, do you? :D","files":null},{"type":3,"author":{"id":"dc07f1dff8eee6d97a060efd0e58b122b9009d24"},"timestamp":1587560400,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDYxNzc2NDE0MQ==","github-url":"https://github.com/DFHack/df-structures/issues/397#issuecomment-617764141"},"message":"Dedicated work!\n\nYou'd probably need to be more specific with your question, as I can't figure out what you want to do. There is a class function to check if historical events refer to a specific site, I think, so a brute-force search for that would probably give you a (slightly) smaller set. If you then know what type of event you want you can cut it down further, and a year range would help as well.","files":null},{"type":3,"author":{"id":"970d548538cd32d04720c76a86db46022f44261e"},"timestamp":1587561478,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDYxNzc3MzUyMA==","github-url":"https://github.com/DFHack/df-structures/issues/397#issuecomment-617773520"},"message":"No, I mean, the architecture enum I want to reference in the abstract building (world-site.xml) is currently defined in history.xml. Like, do we need to move it to global or something?","files":null},{"type":3,"author":{"id":"dc07f1dff8eee6d97a060efd0e58b122b9009d24"},"timestamp":1587561735,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDYxNzc3NTg2Ng==","github-url":"https://github.com/DFHack/df-structures/issues/397#issuecomment-617775866"},"message":"There are types defined all over the place referenced from other XML files, and there are lots of forward references as well, so I think it should just work. I'd try and generate the code to see if it works. It results in a bazillion .h files, one for each enum, and I assume the code generation is able to get the imports right.","files":null},{"type":3,"author":{"id":"7c3935464acdaaae9d6fcb27abcbbe21ec75027f"},"timestamp":1587610957,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDYxODE0ODg4NQ==","github-url":"https://github.com/DFHack/df-structures/issues/397#issuecomment-618148885"},"message":"Yeah, all types are effectively global (well, in the `df` namespace, and code generation handles including the required headers in other headers), so you can refer to them from other types, regardless of which XML file they're defined in. The only reason there are multiple df.*.xml files is because shoving everything into a single file would be hard to deal with (around 46k lines currently).","files":null},{"type":3,"author":{"id":"970d548538cd32d04720c76a86db46022f44261e"},"timestamp":1587891136,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDYxOTUxMjE3Mg==","github-url":"https://github.com/DFHack/df-structures/issues/397#issuecomment-619512172"},"message":"ok, this can be closed, right :)","files":null},{"type":4,"author":{"id":"970d548538cd32d04720c76a86db46022f44261e"},"timestamp":1587891136,"metadata":{"github-id":"MDExOkNsb3NlZEV2ZW50MzI3MjcxMjY1OQ=="},"status":2}]}