{"version":1,"ops":[{"type":1,"author":{"id":"1daa046529992870662babb8e45eb2abbae215fb"},"timestamp":1585203011,"metadata":{"github-id":"MDU6SXNzdWU1ODgxODA1ODY=","github-url":"https://github.com/DFHack/df-structures/issues/387","origin":"github"},"title":"Job system info","message":"I've asked Toady One for some info about jobs:\nMe:\n\u003e I've got a few questions about the job system:\n\u003e   * is there anything special about plant gathering?\n\u003e   * What is in the 'job manager' (dfhack sees a pointer to job linked list, job postings and then two unknowns)\nToadyOne:\n\u003eThe gather job has several special flags, there should be a single unsigned int32 with those.  Bits are gather from zone, pick trees, pick shrubs, gather fallen items, no ladder search, ladder restricted, 'pick trees ground'.  Would take a while to figure out what some of those do at this point (haven't looked at it for years).  Dunno if this is the kind of info you meant.\n\u003e Job manager: yeah, the list, the job posting, and then there's one struct after that, the job application binary heap.  The first member of that is an array of job application nodes (size 2000), and a size variable.  Job applications have an applicant (unit ptr), job posting index, and value.  The value determines how far applications climb up the heap when pushed on, so the top value application is always assured to be on the top (though the whole implementation is questionable, as with any of my data structures.) \n\nHopefully this helps identifying some fields.","files":null}]}