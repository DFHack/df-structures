{"version":1,"ops":[{"type":1,"author":{"id":"c49d776d8bb9c3344c0c6571e15cc127015e3e6c"},"timestamp":1555584208,"metadata":{"github-id":"MDU6SXNzdWU0MzQ3MDU1NTQ=","github-url":"https://github.com/DFHack/df-structures/issues/321","origin":"github"},"title":"part_of_speech base-type should be int16_t","message":"In libray/include/df/part_of_speech.h\n\n`\n      enum part_of_speech : int32_t {\n        Noun, // 0, 0x0  //etc\n };\n `   \n\nIn codegen.out.xml\n\n`\u003cld:global-type ld:meta=\"enum-type\" ld:level=\"0\" type-name=\"part_of_speech\" last-value=\"8\"\u003e`\n\nAnd its use in df::language_name\n\n`\u003cld:field ld:level=\"1\" ld:meta=\"static-array\" name=\"parts_of_speech\" count=\"7\" ld:is-container=\"true\"\u003e`\n\n` \u003cld:item ld:subtype=\"enum\" base-type=\"int16_t\" type-name=\"part_of_speech\" ld:level=\"2\" ld:meta=\"global\" ld:enum-size-forced=\"true\"/\u003e`\n\nIn gui/gm-editor\n![part_of_speech](https://user-images.githubusercontent.com/9405614/56355423-88f27f00-61d6-11e9-99b1-48ce72ee55b6.png)\n\n\nI was getting incorrect values because I took int32_t as the base field for the enum, as part_of_speech.h says.\n\nSo in df.language.xml\n`\u003cenum-type type-name='part_of_speech'\u003e`\n\nshould be\n`\u003cenum-type type-name='part_of_speech' base-type='int16_t'\u003e`","files":null}]}