{"version":1,"ops":[{"type":3,"author":{"id":"7c3935464acdaaae9d6fcb27abcbbe21ec75027f"},"timestamp":1587235343,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDYxNTkyNDA4MQ==","github-url":"https://github.com/DFHack/df-structures/issues/361#issuecomment-615924081"},"message":"@PatrikLundell is this still an issue as of 0.47.04?","files":null},{"type":3,"author":{"id":"dc07f1dff8eee6d97a060efd0e58b122b9009d24"},"timestamp":1587237402,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDYxNTkzMDEzOQ==","github-url":"https://github.com/DFHack/df-structures/issues/361#issuecomment-615930139"},"message":"Yes. Looking at the female TOAD (as it's the first one) for the same save between versions (originally the save comes from an LNP with the Phoebus tileset, but the 0.47.4 copy was copied from 0.44.12 no vanilla plus the DFHack at the time):\nitemcorpse_itemtype: 80 vs 1023\nitemcorpse_materialtype: 0 vs 32760\ncaste_glowcolor: 0/0/0 vs -274/0/0\nspeed: 0 vs 32760\nbaby_age: 4 vs 7628903\nchild_age: 0 vs 375 (the previous value plus this one looks like a pointer)\nswim_speed: 1403 vs 11\ngrazer: 0 vs 375\nunk_6: 1/1/2/0/1408/\n              0/4/0/1409/\n              0/4/0/1410/\n              0/56/0/1411/\n              0/112/0/1412/\n              0/2/0/1413/\n              0/4/0/1414\nvs: 1/1/-2093337320/32760/8705/\n        0/-1866901856/375/-1866901872/\n        375/-1866762576/375/1024/\n        0/-2093407849/32760/106/\n        0/-1289657591/47/1297043015/\n        1094999877/1090538322/20041/\n        10/0/15/0/139264","files":null},{"type":3,"author":{"id":"7c3935464acdaaae9d6fcb27abcbbe21ec75027f"},"timestamp":1587787707,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDYxOTMxNjUxMw==","github-url":"https://github.com/DFHack/df-structures/issues/361#issuecomment-619316513"},"message":"[Here](https://gist.github.com/lethosor/f466bf7a34ad016463bb035e590f3e73/revisions) is a comparison of 32-bit and 64-bit 0.47.04, and even that has some weird differences. I'm not sure what to make of this. It doesn't appear to be a padding issue, because some fields are totally different on 32-bit and 64-bit Linux, but others are the same (including some *between* different fields, e.g. `remains_color`). Even stranger, the data I'm getting for unk6 on linux64 is:\n```\n[DFHack]# memview world.raws.creatures.all[0].caste[0].misc.unk6 116\n0x7FFFEDA5E870 *01*00*00*00*01*00*00*00*66*6F*75*6E*64*20*3D*20 | ........found = \n0x7FFFEDA5E880 *74*72*75*65*0A*20*20*20*20*20*20*20*20*20*20*20 | true.           \n0x7FFFEDA5E890 *20*74*69*74*6C*65*5F*73*63*72*65*65*6E*2E*73*65 |  title_screen.se\n0x7FFFEDA5E8A0 *6C*5F*6D*65*6E*75*5F*6C*69*6E*65*20*3D*20*69*64 | l_menu_line = id\n0x7FFFEDA5E8B0 *78*0A*20*20*20*20*20*20*20*20*20*20*20*20*62*72 | x.            br\n0x7FFFEDA5E8C0 *65*61*6B*0A*20*20*20*20*20*20*20*20*65*6E*64*0A | eak.        end.\n0x7FFFEDA5E8D0 *20*20*20*20*65*6E*64*0A*20*20*20*20*69*66*20*6E |     end.    if n\n0x7FFFEDA5E8E0 *6F*74*20*66 | ot f\n```\nwhich is from https://github.com/DFHack/scripts/blob/73f89fe3d48e52d9d860462df02d488b73de0953/load-save.lua#L33-L38. My initial guess would be that the size of misc is wrong, but that would throw off everything else in caste_raw, and fields at least as far down as `body_size_1` appear to be valid.","files":null}]}