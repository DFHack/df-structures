{"version":1,"ops":[{"type":1,"author":{"id":"b557f89d859694906b6aaad860dfa0f74f23dbaa"},"timestamp":1582738937,"metadata":{"github-id":"MDU6SXNzdWU1NzE1NTA5MDM=","github-url":"https://github.com/DFHack/df-structures/issues/370","origin":"github"},"title":"invalid vectors on linux32","message":"Tested on linux32 using DFHack/dfhack@e267876 and c0edb62\n\n - `spoils_report` contains invalid vectors (4 bytes too far?):\n\n```\n(*world.status.spoils_reports[0]).mat_types (0xd636bb3c): invalid vector (Invalid capacity)\nd636bb20\t d636bbe0 d636bbe8 d636bbe8 d636bbf0\nd636bb30\t d636bbf8 d636bbf8 d636bc00 d636bc08\nd636bb40\t d636bc08 d6354fc0 d6354fd0 d6354fd0\nd636bb50\t d636bc10 d636bc20 d636bc20 d636bc30\n(*world.status.spoils_reports[0]).creature_counts (0xd636bb78): invalid vector (Invalid capacity)\nd636bb60\t d636bc38 d636bc38 d636bc40 d636bc48\nd636bb70\t d636bc48 d636bc50 d636bc58 d636bc58\nd636bb80\t 00000000 00000000 00000000 00000055\nd636bb90\t 00000030 00000030 00000000 696f7053\n(*world.status.spoils_reports[1]).creature_counts (0xd636bcc8): invalid vector (Invalid capacity)\nd636bcb0\t d636bd38 d636bd38 d636bd40 d636bd48\nd636bcc0\t d636bd48 d636bd50 d636bd58 d636bd58\nd636bcd0\t 00000000 00000000 00000000 00000055\nd636bce0\t 00000030 00000030 00000000 696f7053\n(*world.status.spoils_reports[2]).creature_counts (0xd636bdc8): invalid vector (Invalid capacity)\nd636bdb0\t d636be84 d636be84 d636be90 d636be94\nd636bdc0\t d636be94 d636bea0 d636bea4 d636bea4\nd636bdd0\t 00000000 00000000 00000000 00000055\nd636bde0\t 00000031 00000031 00000000 696f7053\n```\n\n - `crime.reports` is invalid (no valid vector visible nearby):\n\n```\n(*world.crimes.all[1]).reports (0xdffd2734): invalid vector (Unaligned pointer)\ndffd2720\t ffffffff 00000000 00000000 000000c5\ndffd2730\t 00000002 00000000 0000000a 00000001\ndffd2740\t 00000000 00003bd2 0000fe4f 0000fe4f\n(*world.crimes.all[2]).reports (0xdffd27f4): invalid vector (Unaligned pointer)\ndffd27e0\t ffffffff 00000000 00000000 000000c5\ndffd27f0\t 00000003 00000000 00000001 00000004\ndffd2800\t 00000000 00003d62 ffffffff ffffffff\n(*world.crimes.all[3]).reports (0xdffd28b4): invalid vector (Unaligned pointer)\ndffd28a0\t ffffffff 00000000 00000000 000000c5\ndffd28b0\t 00000004 00000000 00000003 00000001\ndffd28c0\t 00000000 00003bdd 0000fe5a 0000fe5a\n(*world.crimes.all[4]).reports (0xdffd2974): invalid vector (Unaligned pointer)\ndffd2960\t ffffffff 00000000 00000000 000000c5\ndffd2970\t 00000005 00000000 00000005 00000003\ndffd2980\t 00000000 00003c50 0000ff06 0000ff06\n(*world.crimes.all[5]).reports (0xdffd2a34): invalid vector (Unaligned pointer)\ndffd2a20\t ffffffff 00000000 00000000 000000c5\ndffd2a30\t 00000006 00000000 00000005 00000001\ndffd2a40\t 00000000 0000116e 0000cf71 0000cf71\n```","files":null}]}