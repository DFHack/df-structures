<data-definition>
    <enum-type type-name='item_type' base-type='int16_t'>
        <enum-attr name='caption'/>
        <enum-attr name='is_rawable' type-name='bool'/>
        <enum-attr name='is_stackable' type-name='bool'/>
        <enum-attr name='is_caste_mat' type-name='bool'
                   comment='instead of material, uses a creature/caste pair'/>
        <enum-attr name='classname'/>

        <enum-item name='NONE' value='-1'/>
        <enum-item name='BAR' comment='Bars, such as metal, fuel, or soap.'>
            <item-attr name='caption' value='bars'/>
            <item-attr name='classname' value='item_barst'/>
        </enum-item>
        <enum-item name='SMALLGEM' comment='Cut gemstones usable in jewelers workshop'>
            <item-attr name='caption' value='cut gem'/>
            <item-attr name='classname' value='item_smallgemst'/>
        </enum-item>
        <enum-item name='BLOCKS' comment='Blocks of any kind.'>
            <item-attr name='caption' value='blocks'/>
            <item-attr name='classname' value='item_blocksst'/>
        </enum-item>
        <enum-item name='ROUGH' comment='Rough gemstones.'>
            <item-attr name='caption' value='rough gem'/>
            <item-attr name='classname' value='item_roughst'/>
        </enum-item>
        <enum-item name='BOULDER' comment='Raw mined stone.'>
            <item-attr name='caption' value='boulder'/>
            <item-attr name='classname' value='item_boulderst'/>
        </enum-item>
        <enum-item name='WOOD' comment='Wooden logs.'>
            <item-attr name='caption' value='logs'/>
            <item-attr name='classname' value='item_woodst'/>
        </enum-item>
        <enum-item name='DOOR' comment='Doors.'>
            <item-attr name='caption' value='door'/>
            <item-attr name='classname' value='item_doorst'/>
        </enum-item>
        <enum-item name='FLOODGATE' comment='Floodgates.'>
            <item-attr name='caption' value='floodgate'/>
            <item-attr name='classname' value='item_floodgatest'/>
        </enum-item>
        <enum-item name='BED' comment='Beds.'>
            <item-attr name='caption' value='bed'/>
            <item-attr name='classname' value='item_bedst'/>
        </enum-item>
        <enum-item name='CHAIR' comment='Chairs and thrones.'>
            <item-attr name='caption' value='chair'/>
            <item-attr name='classname' value='item_chairst'/>
        </enum-item>
        <enum-item name='CHAIN' comment='Restraints.'>
            <item-attr name='caption' value='chain'/>
            <item-attr name='classname' value='item_chainst'/>
        </enum-item>
        <enum-item name='FLASK' comment='Flasks.'>
            <item-attr name='caption' value='flask'/>
            <item-attr name='classname' value='item_flaskst'/>
        </enum-item>
        <enum-item name='GOBLET' comment='Goblets.'>
            <item-attr name='caption' value='goblet'/>
            <item-attr name='classname' value='item_gobletst'/>
        </enum-item>
        <enum-item name='INSTRUMENT' comment='Musical instruments.'>
            <item-attr name='caption' value='instrument'/>
            <item-attr name='is_rawable' value='true'/>
            <item-attr name='classname' value='item_instrumentst'/>
        </enum-item>
        <enum-item name='TOY' comment='Toys.'>
            <item-attr name='caption' value='toy'/>
            <item-attr name='is_rawable' value='true'/>
            <item-attr name='classname' value='item_toyst'/>
        </enum-item>
        <enum-item name='WINDOW' comment='Glass windows.'>
            <item-attr name='caption' value='window'/>
            <item-attr name='classname' value='item_windowst'/>
        </enum-item>
        <enum-item name='CAGE' comment='Cages.'>
            <item-attr name='caption' value='cage'/>
            <item-attr name='classname' value='item_cagest'/>
        </enum-item>
        <enum-item name='BARREL' comment='Barrels.'>
            <item-attr name='caption' value='barrel'/>
            <item-attr name='classname' value='item_barrelst'/>
        </enum-item>
        <enum-item name='BUCKET' comment='Buckets.'>
            <item-attr name='caption' value='bucket'/>
            <item-attr name='classname' value='item_bucketst'/>
        </enum-item>
        <enum-item name='ANIMALTRAP' comment='Animal traps.'>
            <item-attr name='caption' value='animal trap'/>
            <item-attr name='classname' value='item_animaltrapst'/>
        </enum-item>
        <enum-item name='TABLE' comment='Tables.'>
            <item-attr name='caption' value='table'/>
            <item-attr name='classname' value='item_tablest'/>
        </enum-item>
        <enum-item name='COFFIN' comment='Coffins.'>
            <item-attr name='caption' value='coffin'/>
            <item-attr name='classname' value='item_coffinst'/>
        </enum-item>
        <enum-item name='STATUE' comment='Statues.'>
            <item-attr name='caption' value='statue'/>
            <item-attr name='classname' value='item_statuest'/>
        </enum-item>
        <enum-item name='CORPSE' comment='Corpses. Does not have a material.'>
            <item-attr name='caption' value='corpse'/>
            <item-attr name='classname' value='item_corpsest'/>
        </enum-item>
        <enum-item name='WEAPON' comment='Weapons.'>
            <item-attr name='caption' value='weapon'/>
            <item-attr name='is_rawable' value='true'/>
            <item-attr name='classname' value='item_weaponst'/>
        </enum-item>
        <enum-item name='ARMOR' comment='Armor and clothing worn on the upper body.'>
            <item-attr name='caption' value='armor'/>
            <item-attr name='is_rawable' value='true'/>
            <item-attr name='classname' value='item_armorst'/>
        </enum-item>
        <enum-item name='SHOES' comment='Armor and clothing worn on the feet.'>
            <item-attr name='caption' value='footwear'/>
            <item-attr name='is_rawable' value='true'/>
            <item-attr name='classname' value='item_shoesst'/>
        </enum-item>
        <enum-item name='SHIELD' comment='Shields and bucklers.'>
            <item-attr name='caption' value='shield'/>
            <item-attr name='is_rawable' value='true'/>
            <item-attr name='classname' value='item_shieldst'/>
        </enum-item>
        <enum-item name='HELM' comment='Armor and clothing worn on the head.'>
            <item-attr name='caption' value='headwear'/>
            <item-attr name='is_rawable' value='true'/>
            <item-attr name='classname' value='item_helmst'/>
        </enum-item>
        <enum-item name='GLOVES' comment='Armor and clothing worn on the hands.'>
            <item-attr name='caption' value='handwear'/>
            <item-attr name='is_rawable' value='true'/>
            <item-attr name='classname' value='item_glovesst'/>
        </enum-item>
        <enum-item name='BOX' comment='Chests (wood), coffers (stone), boxes (glass), and bags (cloth or leather).'>
            <item-attr name='caption' value='box/bag'/>
            <item-attr name='classname' value='item_boxst'/>
        </enum-item>
        <enum-item name='BIN' comment='Bins.'>
            <item-attr name='caption' value='bin'/>
            <item-attr name='classname' value='item_binst'/>
        </enum-item>
        <enum-item name='ARMORSTAND' comment='Armor stands.'>
            <item-attr name='caption' value='armor stand'/>
            <item-attr name='classname' value='item_armorstandst'/>
        </enum-item>
        <enum-item name='WEAPONRACK' comment='Weapon racks.'>
            <item-attr name='caption' value='weapon rack'/>
            <item-attr name='classname' value='item_weaponrackst'/>
        </enum-item>
        <enum-item name='CABINET' comment='Cabinets.'>
            <item-attr name='caption' value='cabinet'/>
            <item-attr name='classname' value='item_cabinetst'/>
        </enum-item>
        <enum-item name='FIGURINE' comment='Figurines.'>
            <item-attr name='caption' value='figurine'/>
            <item-attr name='classname' value='item_figurinest'/>
        </enum-item>
        <enum-item name='AMULET' comment='Amulets.'>
            <item-attr name='caption' value='amulet'/>
            <item-attr name='classname' value='item_amuletst'/>
        </enum-item>
        <enum-item name='SCEPTER' comment='Scepters.'>
            <item-attr name='caption' value='scepter'/>
            <item-attr name='classname' value='item_scepterst'/>
        </enum-item>
        <enum-item name='AMMO' comment='Ammunition for hand-held weapons.'>
            <item-attr name='caption' value='ammo'/>
            <item-attr name='is_rawable' value='true'/>
            <item-attr name='is_stackable' value='true'/>
            <item-attr name='classname' value='item_ammost'/>
        </enum-item>
        <enum-item name='CROWN' comment='Crowns.'>
            <item-attr name='caption' value='crown'/>
            <item-attr name='classname' value='item_crownst'/>
        </enum-item>
        <enum-item name='RING' comment='Rings.'>
            <item-attr name='caption' value='ring'/>
            <item-attr name='classname' value='item_ringst'/>
        </enum-item>
        <enum-item name='EARRING' comment='Earrings.'>
            <item-attr name='caption' value='earring'/>
            <item-attr name='classname' value='item_earringst'/>
        </enum-item>
        <enum-item name='BRACELET' comment='Bracelets.'>
            <item-attr name='caption' value='bracelet'/>
            <item-attr name='classname' value='item_braceletst'/>
        </enum-item>
        <enum-item name='GEM' comment='Large gems.'>
            <item-attr name='caption' value='large gem'/>
            <item-attr name='classname' value='item_gemst'/>
        </enum-item>
        <enum-item name='ANVIL' comment='Anvils.'>
            <item-attr name='caption' value='anvil'/>
            <item-attr name='classname' value='item_anvilst'/>
        </enum-item>
        <enum-item name='CORPSEPIECE' comment='Body parts. Does not have a material.'>
            <item-attr name='caption' value='body part'/>
            <item-attr name='classname' value='item_corpsepiecest'/>
        </enum-item>
        <enum-item name='REMAINS' comment='Dead vermin bodies. Material is CREATURE_ID:CASTE.'>
            <item-attr name='caption' value='remains'/>
            <item-attr name='is_caste_mat' value='true'/>
            <item-attr name='is_stackable' value='true'/>
            <item-attr name='classname' value='item_remainsst'/>
        </enum-item>
        <enum-item name='MEAT' comment='Butchered meat.'>
            <item-attr name='caption' value='meat'/>
            <item-attr name='is_stackable' value='true'/>
            <item-attr name='classname' value='item_meatst'/>
        </enum-item>
        <enum-item name='FISH' comment='Prepared fish. Material is CREATURE_ID:CASTE.'>
            <item-attr name='caption' value='fish'/>
            <item-attr name='is_caste_mat' value='true'/>
            <item-attr name='is_stackable' value='true'/>
            <item-attr name='classname' value='item_fishst'/>
        </enum-item>
        <enum-item name='FISH_RAW' comment='Unprepared fish. Material is CREATURE_ID:CASTE.'>
            <item-attr name='caption' value='raw fish'/>
            <item-attr name='is_caste_mat' value='true'/>
            <item-attr name='is_stackable' value='true'/>
            <item-attr name='classname' value='item_fish_rawst'/>
        </enum-item>
        <enum-item name='VERMIN' comment='Live vermin. Material is CREATURE_ID:CASTE.'>
            <item-attr name='caption' value='vermin'/>
            <item-attr name='is_caste_mat' value='true'/>
            <item-attr name='classname' value='item_verminst'/>
        </enum-item>
        <enum-item name='PET' comment='Tame vermin. Material is CREATURE_ID:CASTE.'>
            <item-attr name='caption' value='tame vermin'/>
            <item-attr name='is_caste_mat' value='true'/>
            <item-attr name='classname' value='item_petst'/>
        </enum-item>
        <enum-item name='SEEDS' comment='Seeds from plants.'>
            <item-attr name='caption' value='seeds'/>
            <item-attr name='classname' value='item_seedsst'/>
        </enum-item>
        <enum-item name='PLANT' comment='Plants.'>
            <item-attr name='caption' value='plant'/>
            <item-attr name='is_stackable' value='true'/>
            <item-attr name='classname' value='item_plantst'/>
        </enum-item>
        <enum-item name='SKIN_TANNED' comment='Tanned skins.'>
            <item-attr name='caption' value='leather'/>
            <item-attr name='classname' value='item_skin_tannedst'/>
        </enum-item>
        <enum-item name='PLANT_GROWTH' comment='Assorted plant growths, including leaves and berries'>
            <item-attr name='caption' value='plant growth'/>
            <item-attr name='is_stackable' value='true'/>
            <item-attr name='classname' value='item_plant_growthst'/>
        </enum-item>
        <enum-item name='THREAD' comment='Thread gathered from webs or made at the farmers workshop.'>
            <item-attr name='caption' value='thread'/>
            <item-attr name='classname' value='item_threadst'/>
        </enum-item>
        <enum-item name='CLOTH' comment='Cloth made at the loom.'>
            <item-attr name='caption' value='cloth'/>
            <item-attr name='classname' value='item_clothst'/>
        </enum-item>
        <enum-item name='TOTEM' comment='Skull totems.'>
            <item-attr name='caption' value='totem'/>
            <item-attr name='classname' value='item_totemst'/>
        </enum-item>
        <enum-item name='PANTS' comment='Armor and clothing worn on the legs.'>
            <item-attr name='caption' value='legwear'/>
            <item-attr name='is_rawable' value='true'/>
            <item-attr name='classname' value='item_pantsst'/>
        </enum-item>
        <enum-item name='BACKPACK' comment='Backpacks.'>
            <item-attr name='caption' value='backpack'/>
            <item-attr name='classname' value='item_backpackst'/>
        </enum-item>
        <enum-item name='QUIVER' comment='Quivers.'>
            <item-attr name='caption' value='quiver'/>
            <item-attr name='classname' value='item_quiverst'/>
        </enum-item>
        <enum-item name='CATAPULTPARTS' comment='Catapult parts.'>
            <item-attr name='caption' value='catapult part'/>
            <item-attr name='classname' value='item_catapultpartsst'/>
        </enum-item>
        <enum-item name='BALLISTAPARTS' comment='Ballista parts.'>
            <item-attr name='caption' value='ballista part'/>
            <item-attr name='classname' value='item_ballistapartsst'/>
        </enum-item>
        <enum-item name='SIEGEAMMO' comment='Siege engine ammunition.'>
            <item-attr name='caption' value='siege ammo'/>
            <item-attr name='is_rawable' value='true'/>
            <item-attr name='classname' value='item_siegeammost'/>
        </enum-item>
        <enum-item name='BALLISTAARROWHEAD' comment='Ballista arrow heads.'>
            <item-attr name='caption' value='ballista arrow head'/>
            <item-attr name='classname' value='item_ballistaarrowheadst'/>
        </enum-item>
        <enum-item name='TRAPPARTS' comment='Mechanisms.'>
            <item-attr name='caption' value='mechanism'/>
            <item-attr name='classname' value='item_trappartsst'/>
        </enum-item>
        <enum-item name='TRAPCOMP' comment='Trap components.'>
            <item-attr name='caption' value='trap component'/>
            <item-attr name='is_rawable' value='true'/>
            <item-attr name='classname' value='item_trapcompst'/>
        </enum-item>
        <enum-item name='DRINK' comment='Alcoholic drinks.'>
            <item-attr name='caption' value='drink'/>
            <item-attr name='is_stackable' value='true'/>
            <item-attr name='classname' value='item_drinkst'/>
        </enum-item>
        <enum-item name='POWDER_MISC' comment='Powders such as flour, gypsum plaster, dye, or sand.'>
            <item-attr name='caption' value='powder'/>
            <item-attr name='is_stackable' value='true' comment='if plant'/>
            <item-attr name='classname' value='item_powder_miscst'/>
        </enum-item>
        <enum-item name='CHEESE' comment='Pieces of cheese.'>
            <item-attr name='caption' value='cheese'/>
            <item-attr name='is_stackable' value='true'/>
            <item-attr name='classname' value='item_cheesest'/>
        </enum-item>
        <enum-item name='FOOD' comment='Prepared meals. Subtypes come from item_food.txt'>
            <item-attr name='caption' value='prepared meal'/>
            <item-attr name='is_stackable' value='true'/>
            <item-attr name='classname' value='item_foodst'/>
        </enum-item>
        <enum-item name='LIQUID_MISC' comment='Liquids such as water, lye, and extracts.'>
            <item-attr name='caption' value='liquid'/>
            <item-attr name='is_stackable' value='true'/>
            <item-attr name='classname' value='item_liquid_miscst'/>
        </enum-item>
        <enum-item name='COIN' comment='Coins.'>
            <item-attr name='caption' value='coin'/>
            <item-attr name='is_stackable' value='true'/>
            <item-attr name='classname' value='item_coinst'/>
        </enum-item>
        <enum-item name='GLOB' comment='Fat, tallow, pastes/pressed objects, and small bits of molten rock/metal.'>
            <item-attr name='caption' value='glob'/>
            <item-attr name='classname' value='item_globst'/>
        </enum-item>
        <enum-item name='ROCK' comment='Small rocks (usually sharpened and/or thrown in adventurer mode)'>
            <item-attr name='caption' value='small rock'/>
            <item-attr name='classname' value='item_rockst'/>
        </enum-item>
        <enum-item name='PIPE_SECTION' comment='Pipe sections.'>
            <item-attr name='caption' value='pipe section'/>
            <item-attr name='classname' value='item_pipe_sectionst'/>
        </enum-item>
        <enum-item name='HATCH_COVER' comment='Hatch covers.'>
            <item-attr name='caption' value='hatch cover'/>
            <item-attr name='classname' value='item_hatch_coverst'/>
        </enum-item>
        <enum-item name='GRATE' comment='Grates.'>
            <item-attr name='caption' value='grate'/>
            <item-attr name='classname' value='item_gratest'/>
        </enum-item>
        <enum-item name='QUERN' comment='Querns.'>
            <item-attr name='caption' value='quern'/>
            <item-attr name='classname' value='item_quernst'/>
        </enum-item>
        <enum-item name='MILLSTONE' comment='Millstones.'>
            <item-attr name='caption' value='millstone'/>
            <item-attr name='classname' value='item_millstonest'/>
        </enum-item>
        <enum-item name='SPLINT' comment='Splints.'>
            <item-attr name='caption' value='splint'/>
            <item-attr name='classname' value='item_splintst'/>
        </enum-item>
        <enum-item name='CRUTCH' comment='Crutches.'>
            <item-attr name='caption' value='crutch'/>
            <item-attr name='classname' value='item_crutchst'/>
        </enum-item>
        <enum-item name='TRACTION_BENCH' comment='Traction benches.'>
            <item-attr name='caption' value='traction bench'/>
            <item-attr name='classname' value='item_traction_benchst'/>
        </enum-item>
        <enum-item name='ORTHOPEDIC_CAST' comment='Casts'>
            <item-attr name='caption' value='orthopedic cast'/>
            <item-attr name='classname' value='item_orthopedic_castst'/>
        </enum-item>
        <enum-item name='TOOL' comment='Tools.'>
            <item-attr name='caption' value='tool'/>
            <item-attr name='is_rawable' value='true'/>
            <item-attr name='classname' value='item_toolst'/>
        </enum-item>
        <enum-item name='SLAB' comment='Slabs.'>
            <item-attr name='caption' value='slab'/>
            <item-attr name='classname' value='item_slabst'/>
        </enum-item>
        <enum-item name='EGG' comment='Eggs. Material is CREATURE_ID:CASTE.'>
            <item-attr name='caption' value='egg'/>
            <item-attr name='is_caste_mat' value='true'/>
            <item-attr name='is_stackable' value='true'/>
            <item-attr name='classname' value='item_eggst'/>
        </enum-item>
        <enum-item name='BOOK' comment='Books.'>
            <item-attr name='caption' value='book'/>
            <item-attr name='classname' value='item_bookst'/>
        </enum-item>
        <enum-item name='SHEET' comment='Sheets of paper'>
            <item-attr name='caption' value='sheet'/>
            <item-attr name='classname' value='item_sheetst'/>
        </enum-item>
    </enum-type>

    <struct-type type-name='weapon_attack'>
        <bool name='edged'/>
        <int32_t name='contact'/>
        <int32_t name='penetration'/>
        <int32_t name='velocity_mult'/>
        <stl-string name='verb_2nd'/>
        <stl-string name='verb_3rd'/>
        <stl-string name='noun'/>
        <int32_t name="prepare" comment='v0.40.1'/>
        <int32_t name="recover" comment='v0.40.1'/>
        <bitfield name='flags' comment='v0.40.1'>
            <flag-bit/>
            <flag-bit name='bad_multiattack'/>
        </bitfield>
    </struct-type>

    <class-type type-name='itemdef' original-name='itemdefst'>
        <stl-string name="id"/>
        <int16_t name="subtype"/>

        <df-flagarray name='base_flags' comment='v0.34.08; [0] = generated'/>

        <int32_t name='source_hfid' ref-target='historical_figure' comment='v0.40.01'/>
        <int32_t name='source_enid' ref-target='historical_entity' comment='v0.42.01'/>
        <stl-vector name='raw_strings' pointer-type='stl-string'/>

        <code-helper name='describe'>$.id</code-helper>

        <virtual-methods>
            <vmethod/>
            <vmethod name='parseRaws'>
                <pointer/>
                <pointer/>
                <pointer/>
                <pointer/>
                <pointer/>
            </vmethod>
            <vmethod name='categorize' comment='add to world.raws.itemdefs.whatever'/>
            <vmethod name='finalize' comment='calculate stuff like base value'/>
            <vmethod/>
            <vmethod is-destructor='true'/>
        </virtual-methods>
    </class-type>

    <enum-type type-name='ammo_flags'>
        <enum-item name='HAS_EDGE_ATTACK'/>
    </enum-type>

    <class-type type-name='itemdef_ammost' inherits-from='itemdef'
                instance-vector='$global.world.raws.itemdefs.ammo'>
        <stl-string name="name"/>
        <stl-string name="name_plural"/>
        <stl-string name="adjective" comment='v0.40.1'/>
        <stl-string name="ammo_class"/>

        <df-flagarray name='flags' index-enum='ammo_flags'/>

        <int32_t name="size" comment='divided by 10'/>
        <int32_t name="value"/>

        <stl-vector name="attacks" pointer-type='weapon_attack'/>
    </class-type>

    <enum-type type-name='armor_general_flags'>
        <enum-item name='SOFT'/>
        <enum-item name='HARD'/>
        <enum-item name='METAL'/>
        <enum-item name='BARRED'/>
        <enum-item name='SCALED'/>
        <enum-item name='LEATHER'/>
        <enum-item name='SHAPED'/>
        <enum-item name='CHAIN_METAL_TEXT'/>

        <enum-item name='STRUCTURAL_ELASTICITY_WOVEN_THREAD'/>
        <enum-item name='STRUCTURAL_ELASTICITY_CHAIN_METAL'/>
        <enum-item name='STRUCTURAL_ELASTICITY_CHAIN_ALL'/>
    </enum-type>

    <struct-type type-name='armor_properties'>
        <df-flagarray name='flags' index-enum='armor_general_flags'/>
        <int32_t name="layer"/>
        <int16_t name="layer_size"/>
        <int16_t name="layer_permit"/>
        <int16_t name="coverage"/>
    </struct-type>

    <enum-type type-name='armor_flags'>
        <enum-item name='METAL_ARMOR_LEVELS'/>
    </enum-type>

    <class-type type-name='itemdef_armorst' inherits-from='itemdef'
                instance-vector='$global.world.raws.itemdefs.armor'>
        <stl-string name="name"/>
        <stl-string name="name_plural"/>
        <stl-string name="name_preplural"/>
        <stl-string name="material_placeholder"/>
        <stl-string name="adjective" comment='v0.40.01'/>

        <int32_t name="value"/>
        <int8_t name="armorlevel"/>
        <int16_t name="ubstep"/>
        <int16_t name="lbstep"/>
        <int32_t name="material_size"/>

        <compound name='props' type-name='armor_properties'/>

        <df-flagarray name='flags' index-enum='armor_flags'/>
    </class-type>

    <class-type type-name='itemdef_foodst' inherits-from='itemdef'
                instance-vector='$global.world.raws.itemdefs.food'>
        <stl-string name="name"/>
        <int16_t name="level"/>
    </class-type>

    <enum-type type-name='gloves_flags'>
        <enum-item name='METAL_ARMOR_LEVELS'/>
    </enum-type>

    <class-type type-name='itemdef_glovesst' inherits-from='itemdef'
                instance-vector='$global.world.raws.itemdefs.gloves'>
        <stl-string name="name"/>
        <stl-string name="name_plural"/>
        <stl-string name="adjective" comment='v0.40.01'/>
        <int32_t name="value"/>
        <int8_t name='armorlevel'/>
        <int16_t name="upstep"/>
        <df-flagarray name='flags' index-enum='gloves_flags'/>
        <int32_t name="material_size"/>
        <compound name='props' type-name='armor_properties'/>
    </class-type>

    <enum-type type-name='helm_flags'>
        <enum-item name='METAL_ARMOR_LEVELS'/>
    </enum-type>

    <class-type type-name='itemdef_helmst' inherits-from='itemdef'
                instance-vector='$global.world.raws.itemdefs.helms'>
        <stl-string name="name"/>
        <stl-string name="name_plural"/>
        <stl-string name="adjective" comment='v0.40.01'/>
        <int32_t name="value"/>
        <int8_t name='armorlevel'/>
        <df-flagarray name='flags' index-enum='helm_flags'/>
        <int32_t name="material_size"/>
        <compound name='props' type-name='armor_properties'/>
    </class-type>

    <enum-type type-name='instrument_flags'>
        <enum-item name='INDEFINITE_PITCH'/>
        <enum-item name='PLACED_AS_BUILDING'/>
        <enum-item name='METAL_MAT'/>
        <enum-item name='STONE_MAT'/>
        <enum-item name='WOOD_MAT'/>
        <enum-item name='GLASS_MAT'/>
        <enum-item name='CERAMIC_MAT'/>
        <enum-item name='SHELL_MAT'/>

        <enum-item name='BONE_MAT'/>
    </enum-type>

    <class-type type-name='itemdef_instrumentst' inherits-from='itemdef'
                instance-vector='$global.world.raws.itemdefs.instruments'>
        <stl-string name="name"/>
        <stl-string name="name_plural"/>
        <df-flagarray name='flags' index-enum='instrument_flags'/>

        <enum type-name='job_skill' name="music_skill"/>
        <int32_t name="size"/>
        <int32_t name='value'/>
        <int32_t name="material_size"/>
        <stl-vector pointer-type='instrument_piece' name="pieces"/>
        <stl-string name="dominant_instrument_piece"/>
        <int32_t name="pitch_range_min"/>
        <int32_t name="pitch_range_max"/>
        <int32_t name="volume_mb_min"/>
        <int32_t name="volume_mb_max"/>
        <stl-vector type-name='sound_production_type' name="sound_production"/>
        <stl-vector pointer-type='stl-string' name="sound_production_parm1"/>
        <stl-vector pointer-type='stl-string' name="sound_production_parm2"/>
        <stl-vector name="unk_100"/>
        <stl-vector name="unk_110"/>
        <stl-vector type-name='pitch_choice_type' name="pitch_choice"/>
        <stl-vector pointer-type='stl-string' name="pitch_choice_parm1"/>
        <stl-vector pointer-type='stl-string' name="pitch_choice_parm2"/>
        <stl-vector name="unk_150"/>
        <stl-vector name="unk_160"/>
        <stl-vector type-name='tuning_type' name="tuning"/>
        <stl-vector pointer-type='stl-string' name="tuning_parm"/>
        <stl-vector name="unk_190"/>
        <stl-vector pointer-type='instrument_register' name="registers"/>
        <stl-vector type-name='timbre_type' name="timbre"/>
        <stl-string name="description"/>
    </class-type>

    <enum-type type-name='sound_production_type'>
        <enum-item name='PLUCKED_BY_BP'/>
        <enum-item name='PLUCKED'/>
        <enum-item name='BOWED'/>
        <enum-item name='STRUCK_BY_BP'/>
        <enum-item name='STRUCK'/>
        <enum-item name='VIBRATE_BP_AGAINST_OPENING'/>
        <enum-item name='BLOW_AGAINST_FIPPLE'/>
        <enum-item name='BLOW_OVER_OPENING_SIDE'/>

        <enum-item name='BLOW_OVER_OPENING_END'/>
        <enum-item name='BLOW_OVER_SINGLE_REED'/>
        <enum-item name='BLOW_OVER_DOUBLE_REED'/>
        <enum-item name='BLOW_OVER_FREE_REED'/>
        <enum-item name='STRUCK_TOGETHER'/>
        <enum-item name='SHAKEN'/>
        <enum-item name='SCRAPED'/>
        <enum-item name='FRICTION'/>

        <enum-item name='RESONATOR'/>
        <enum-item name='BAG_OVER_REED'/>
        <enum-item name='AIR_OVER_REED'/>
        <enum-item name='AIR_OVER_FREE_REED'/>
        <enum-item name='AIR_AGAINST_FIPPLE'/>
    </enum-type>

    <enum-type type-name='pitch_choice_type'>
        <enum-item name='MEMBRANE_POSITION'/>
        <enum-item name='SUBPART_CHOICE'/>
        <enum-item name='KEYBOARD'/>
        <enum-item name='STOPPING_FRET'/>
        <enum-item name='STOPPING_AGAINST_BODY'/>
        <enum-item name='STOPPING_HOLE'/>
        <enum-item name='STOPPING_HOLE_KEY'/>
        <enum-item name='SLIDE'/>

        <enum-item name='HARMONIC_SERIES'/>
        <enum-item name='VALVE_ROUTES_AIR'/>
        <enum-item name='BP_IN_BELL'/>
        <enum-item name='FOOT_PEDALS'/>
    </enum-type>

    <enum-type type-name='tuning_type'>
        <enum-item name='PEGS'/>
        <enum-item name='ADJUSTABLE_BRIDGES'/>
        <enum-item name='CROOKS'/>
        <enum-item name='TIGHTENING'/>
        <enum-item name='LEVERS'/>
    </enum-type>

    <enum-type type-name='timbre_type'>
        <enum-item name='CLEAR'/>
        <enum-item name='NOISY'/>
        <enum-item name='FULL'/>
        <enum-item name='THIN'/>
        <enum-item name='ROUND'/>
        <enum-item name='SHARP'/>
        <enum-item name='SMOOTH'/>
        <enum-item name='CHOPPY'/>

        <enum-item name='STEADY'/>
        <enum-item name='EVOLVING'/>
        <enum-item name='STRONG'/>
        <enum-item name='DELICATE'/>
        <enum-item name='BRIGHT'/>
        <enum-item name='GRACEFUL'/>
        <enum-item name='SPARSE'/>
        <enum-item name='BREATHY'/>

        <enum-item name='STRAINED'/>
        <enum-item name='BROAD'/>
        <enum-item name='LIGHT'/>
        <enum-item name='MELLOW'/>
        <enum-item name='WOBBLING'/>
        <enum-item name='FOCUSED'/>
        <enum-item name='EVEN'/>
        <enum-item name='FLUID'/>

        <enum-item name='VIBRATING'/>
        <enum-item name='QUAVERING'/>
        <enum-item name='EERIE'/>
        <enum-item name='FRAGILE'/>
        <enum-item name='BRITTLE'/>
        <enum-item name='PURE'/>
        <enum-item name='PIERCING'/>
        <enum-item name='STRIDENT'/>

        <enum-item name='WAVERING'/>
        <enum-item name='HARSH'/>
        <enum-item name='REEDY'/>
        <enum-item name='NASAL'/>
        <enum-item name='BUZZY'/>
        <enum-item name='ROUGH'/>
        <enum-item name='WARM'/>
        <enum-item name='RUGGED'/>

        <enum-item name='HEAVY'/>
        <enum-item name='FLAT'/>
        <enum-item name='DARK'/>
        <enum-item name='CRISP'/>
        <enum-item name='SONOROUS'/>
        <enum-item name='WATERY'/>
        <enum-item name='GENTLE'/>
        <enum-item name='SLICING'/>

        <enum-item name='LIQUID'/>
        <enum-item name='RAUCOUS'/>
        <enum-item name='BREEZY'/>
        <enum-item name='RASPY'/>
        <enum-item name='WISPY'/>
        <enum-item name='SHRILL'/>
        <enum-item name='MUDDY'/>
        <enum-item name='RICH'/>

        <enum-item name='DULL'/>
        <enum-item name='FLOATING'/>
        <enum-item name='RINGING'/>
        <enum-item name='RESONANT'/>
        <enum-item name='SWEET'/>
        <enum-item name='RIPPLING'/>
        <enum-item name='SPARKLING'/>
    </enum-type>

    <struct-type type-name='instrument_piece'>
        <stl-string/>
        <stl-string/>
        <int32_t/>
        <stl-string/>
        <stl-string/>
        <bitfield base-type='uint32_t' name='flags'>
            <flag-bit name='always_singular'/>
            <flag-bit name='always_plural'/>
        </bitfield>
    </struct-type>

    <struct-type type-name='instrument_register'>
        <int32_t/>
        <int32_t/>
        <stl-vector type-name='timbre_type' name='timbres'/>
    </struct-type>

    <enum-type type-name='pants_flags'>
        <enum-item name='METAL_ARMOR_LEVELS'/>
    </enum-type>

    <class-type type-name='itemdef_pantsst' inherits-from='itemdef'
                instance-vector='$global.world.raws.itemdefs.pants'>
        <stl-string name="name"/>
        <stl-string name="name_plural"/>
        <stl-string name="name_preplural"/>
        <stl-string name="material_placeholder"/>
        <stl-string name="adjective" comment='v0.40.01'/>

        <int32_t name="value"/>
        <int8_t name="armorlevel"/>
        <df-flagarray name='flags' index-enum='pants_flags'/>
        <int32_t name="material_size"/>
        <int16_t name="lbstep"/>

        <compound name='props' type-name='armor_properties'/>
    </class-type>

    <class-type type-name='itemdef_shieldst' inherits-from='itemdef'
                instance-vector='$global.world.raws.itemdefs.shields'>
        <stl-string name="name"/>
        <stl-string name="name_plural"/>
        <stl-string name="adjective" comment='v0.40.01'/>
        <int32_t name="value"/>
        <int32_t name="blockchance"/>
        <int8_t name='armorlevel'/>
        <int16_t name="upstep"/>
        <int32_t name="material_size"/>
    </class-type>

    <enum-type type-name='shoes_flags'>
        <enum-item name='METAL_ARMOR_LEVELS'/>
    </enum-type>

    <class-type type-name='itemdef_shoesst' inherits-from='itemdef'
                instance-vector='$global.world.raws.itemdefs.shoes'>
        <stl-string name="name"/>
        <stl-string name="name_plural"/>
        <stl-string name="adjective" comment='v0.40.01'/>
        <int32_t name="value"/>
        <int8_t name='armorlevel'/>
        <int16_t name="upstep"/>
        <df-flagarray name='flags' index-enum='shoes_flags'/>
        <int32_t name="material_size"/>

        <compound name='props' type-name='armor_properties'/>
    </class-type>

    <class-type type-name='itemdef_siegeammost' inherits-from='itemdef'
                instance-vector='$global.world.raws.itemdefs.siege_ammo'>
        <stl-string name="name"/>
        <stl-string name="name_plural"/>
        <stl-string name="ammo_class"/>
    </class-type>

    <enum-type type-name='tool_flags'>
        <enum-item name='HARD_MAT'/>
        <enum-item name='METAL_MAT'/>
        <enum-item name='HAS_EDGE_ATTACK'/>
        <enum-item name='METAL_WEAPON_MAT'/>
        <enum-item name='UNIMPROVABLE'/>
        <enum-item name='SOFT_MAT'/>
        <enum-item name='WOOD_MAT'/>
        <enum-item name='INVERTED_TILE'/>
        <enum-item name='FURNITURE'/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item name='NO_DEFAULT_JOB'/>
        <enum-item name='INCOMPLETE_ITEM'/>
    </enum-type>

    <enum-type type-name='tool_uses' base-type='int16_t'>
        <enum-item name='NONE' value='-1'/>
        <enum-item name='LIQUID_COOKING'/>
        <enum-item name='LIQUID_SCOOP'/>
        <enum-item name='GRIND_POWDER_RECEPTACLE'/>
        <enum-item name='GRIND_POWDER_GRINDER'/>
        <enum-item name='MEAT_CARVING'/>
        <enum-item name='MEAT_BONING'/>
        <enum-item name='MEAT_SLICING'/>
        <enum-item name='MEAT_CLEAVING'/>
        <enum-item name='HOLD_MEAT_FOR_CARVING'/>
        <enum-item name='MEAL_CONTAINER'/>
        <enum-item name='LIQUID_CONTAINER'/>
        <enum-item name='FOOD_STORAGE'/>
        <enum-item name='HIVE'/>
        <enum-item name='NEST_BOX'/>
        <enum-item name='SMALL_OBJECT_STORAGE'/>
        <enum-item name='TRACK_CART'/>
        <enum-item name='HEAVY_OBJECT_HAULING'/>
        <enum-item name='STAND_AND_WORK_ABOVE'/>
        <enum-item name='ROLL_UP_SHEET'/>
        <enum-item name='PROTECT_FOLDED_SHEETS'/>
        <enum-item name='CONTAIN_WRITING'/>
        <enum-item name='BOOKCASE'/>
    </enum-type>

    <class-type type-name='itemdef_toolst' inherits-from='itemdef'
                instance-vector='$global.world.raws.itemdefs.tools'>
        <stl-string name="name"/>
        <stl-string name="name_plural"/>
        <df-flagarray name='flags' index-enum='tool_flags'/>
        <int32_t name="value"/>
        <uint8_t name="tile"/>

        <stl-vector name="tool_use">
            <enum base-type='int16_t' type-name='tool_uses'/>
        </stl-vector>

        <stl-string name="adjective"/>
        <int32_t name="size"/>
        <enum base-type="int16_t" type-name="job_skill" name="skill_melee"/>
        <enum base-type="int16_t" type-name="job_skill" name="skill_ranged"/>
        <stl-string name="ranged_ammo"/>
        <int32_t name="two_handed"/>
        <int32_t name="minimum_size"/>
        <int32_t name="material_size"/>

        <stl-vector name="attacks" pointer-type='weapon_attack'/>

        <int32_t name="shoot_force"/>
        <int32_t name="shoot_maxvel"/>

        <int32_t name="container_capacity"/>

        <stl-string name="description" comment='v0.42.01'/>
        <stl-vector name="default_improvements" comment='v0.42.01'/>
    </class-type>

    <enum-type type-name='toy_flags'>
        <enum-item name='HARD_MAT'/>
    </enum-type>

    <class-type type-name='itemdef_toyst' inherits-from='itemdef'
                instance-vector='$global.world.raws.itemdefs.toys'>
        <stl-string name="name"/>
        <stl-string name="name_plural"/>
        <df-flagarray name='flags' index-enum='toy_flags'/>
    </class-type>

    <enum-type type-name='trapcomp_flags'>
        <enum-item name='IS_SCREW'/>
        <enum-item name='IS_SPIKE'/>
        <enum-item name='WOOD'/>
        <enum-item name='METAL'/>
        <enum-item name='HAS_EDGE_ATTACK'/>
    </enum-type>

    <class-type type-name='itemdef_trapcompst' inherits-from='itemdef'
                instance-vector='$global.world.raws.itemdefs.trapcomps'>
        <stl-string name="name"/>
        <stl-string name="name_plural"/>
        <stl-string name="adjective"/>

        <int32_t name="size"/>
        <int32_t name="value"/>
        <int32_t name="hits"/>
        <int32_t name="material_size"/>

        <df-flagarray name='flags' index-enum='trapcomp_flags'/>

        <stl-vector name="attacks" pointer-type='weapon_attack'/>
    </class-type>

    <enum-type type-name='weapon_flags'>
        <enum-item name='CAN_STONE'/>
        <enum-item name='HAS_EDGE_ATTACK'/>
        <enum-item name='TRAINING'/>
    </enum-type>

    <class-type type-name='itemdef_weaponst' inherits-from='itemdef'
                instance-vector='$global.world.raws.itemdefs.weapons'>
        <stl-string name="name"/>
        <stl-string name="name_plural"/>
        <stl-string name="adjective"/>
        <int32_t name="size"/>
        <int32_t name="value"/>
        <enum base-type="int16_t" type-name="job_skill" name="skill_melee"/>
        <enum base-type="int16_t" type-name="job_skill" name="skill_ranged"/>
        <stl-string name="ranged_ammo"/>
        <int32_t name="two_handed"/>
        <int32_t name="minimum_size"/>
        <int32_t name="material_size"/>
        <df-flagarray name='flags' index-enum='weapon_flags'/>
        <stl-vector name="attacks" pointer-type='weapon_attack'/>
        <int32_t name="shoot_force"/>
        <int32_t name="shoot_maxvel"/>
    </class-type>
</data-definition>

<!--
Local Variables:
indent-tabs-mode: nil
nxml-child-indent: 4
End:
-->
