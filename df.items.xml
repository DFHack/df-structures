<data-definition>
    -- MISC TYPES

    <enum-type type-name='item_quality' base-type='int16_t'> DFHack-only
        <enum-item name='Ordinary'/>
        <enum-item name='WellCrafted'/>
        <enum-item name='FinelyCrafted'/>
        <enum-item name='Superior'/>
        <enum-item name='Exceptional'/>
        <enum-item name='Masterful'/>
        <enum-item name='Artifact'/>
    </enum-type>

    <enum-type type-name='slab_engraving_type' base-type='int16_t'> bay12: EngravingIntentType
        <enum-item name='Slab' comment='NONE' value='-1'/>
        <enum-item name='Memorial'/>
        <enum-item comment='UNUSED_01'/>
        <enum-item comment='UNUSED_02'/>
        <enum-item comment='UNUSED_03'/>
        <enum-item comment='UNUSED_04'/>
        <enum-item comment='UNUSED_05'/>
        <enum-item name='Secrets' comment='from the gods? (SECRET)'/>
        <enum-item name='FoodImportsSign' comment='SRB_SHOP_IMPORT_FOOD'/>
        <enum-item name='ClothingImportsSign' comment='SRB_SHOP_IMPORT_CLOTHING'/>
        <enum-item name='GeneralImportsSign' comment='SRB_SHOP_IMPORT_GENERAL'/>
        <enum-item name='ClothShopSign' comment='SRB_SHOP_CLOTH'/>
        <enum-item name='LeatherShopSign' comment='SRB_SHOP_TANNING'/>
        <enum-item name='WovenClothingShopSign' comment='SRB_SHOP_CLOTHING_CLOTH'/>
        <enum-item name='LeatherClothingShopSign' comment='SRB_SHOP_CLOTHING_LEATHER'/>
        <enum-item name='BoneCarverShopSign' comment='SRB_SHOP_CRAFTS_BONE_CARVER'/>
        <enum-item name='GemCutterShopSign' comment='SRB_SHOP_GEM_CUTTER'/>
        <enum-item name='WeaponsmithShopSign2' comment='SRB_SHOP_METAL_WEAPON_SMITH'/>
        <enum-item name='BowyerShopSign' comment='SRB_SHOP_WOOD_WEAPON_SMITH'/>
        <enum-item name='BlacksmithShopSign' comment='SRB_SHOP_BLACK_SMITH'/>
        <enum-item name='ArmorsmithShopSign2' comment='SRB_SHOP_METAL_ARMOR_SMITH'/>
        <enum-item name='MetalCraftShopSign' comment='SRB_SHOP_METAL_CRAFTER'/>
        <enum-item name='LeatherGoodsShopSign' comment='SRB_SHOP_LEATHER_ACCESSORIES'/>
        <enum-item name='CarpenterShopSign' comment='SRB_SHOP_FURNITURE_WOOD'/>
        <enum-item name='StoneFurnitureShopSign' comment='SRB_SHOP_FURNITURE_STONE'/>
        <enum-item name='MetalFurnitureShopSign' comment='SRB_SHOP_FURNITURE_METAL'/>
        <enum-item name='TavernSign' comment='AB_TAVERN'/>
        <enum-item name='DemonIdentity' comment='when a demon assumes identity? (TRUE_NAME)'/>
    </enum-type>

    <bitfield-type type-name='body_part_status'> bay12: UNIT_BP_FLAG_*
        <flag-bit name='on_fire'/>
        <flag-bit name='missing'/>
        <flag-bit name='organ_loss' comment='FUNCTION_LOSS; cyan'/>
        <flag-bit name='organ_damage' comment='ANY_FUNCTION_DAMAGE; yellow'/>

        <flag-bit name='muscle_loss' comment='red'/>
        <flag-bit name='muscle_damage' comment='yellow'/>
        <flag-bit name='bone_loss' comment='STRUCTURE_LOSS; red'/>
        <flag-bit name='bone_damage' comment='ANY_STRUCTURE_DAMAGE; yellow'/>

        <flag-bit name='skin_damage' comment='ANY_DAMAGE; brown'/>
        <flag-bit name='motor_nerve_severed'/>
        <flag-bit name='sensory_nerve_severed'/>
        <flag-bit name='spilled_guts' comment='HAS_POPPED_OUT'/>

        <flag-bit name='has_splint'/>
        <flag-bit name='has_bandage'/>
        <flag-bit name='has_plaster_cast'/>
        <flag-bit name='grime' count='3'/>

        <flag-bit name='severed_or_jammed'
                  comment='TEMP_NOT_ATTACHED; seen e.g. on ribs smashed by blunt attack, but quickly disappeared'/>
        <flag-bit name='under_shell' comment='RETRACTED'/>

        <flag-bit name='is_shell' comment='RETRACT_COVER'/>
        <flag-bit name='mangled' comment='PULPED'/>
        <flag-bit name='has_pulped_tissue'/>
        <flag-bit name='gelded' comment='set on GELDABLE body parts after a unit has been gelded'/>
    </bitfield-type>

    <bitfield-type type-name='body_layer_status'>
        <flag-bit name='gone'/>
        <flag-bit name='leaking'/>
    </bitfield-type>

    <struct-type type-name='body_component_info' comment='not a real structure'>
        <stl-vector name='body_part_status' type-name='body_part_status'
                    index-refers-to='$$._global._upglobal.caste.ref-target.body_info.body_parts[$]'/>

        <stl-vector name='numbered_masks' type-name='uint32_t'
                    comment='1 bit per instance of a numbered body part'/>
        <stl-vector name='nonsolid_remaining' type-name='uint32_t' comment='0-100%'
                    index-refers-to='$$._global._upglobal.caste.ref-target.body_info.nonsolid_layers[$].refers-to'/>

        <stl-vector name='layer_status' type-name='body_layer_status'
                    index-refers-to='$$._global._upglobal.caste.ref-target.body_info.layer_idx[$].refers-to'/>
        <stl-vector name='layer_wound_area' type-name='uint32_t'
                    index-refers-to='$$._global._upglobal.caste.ref-target.body_info.layer_idx[$].refers-to'/>

        Surface percentages for cuts/fractures, dents and effects (such as
        bruises, burns, frostbite, melting, freezing, necrosis, and blistering)
        <stl-vector name='layer_cut_fraction' type-name='uint32_t' comment='0-10000'
                    index-refers-to='$$._global._upglobal.caste.ref-target.body_info.layer_idx[$].refers-to'/>
        <stl-vector name='layer_dent_fraction' type-name='uint32_t' comment='0-10000'
                    index-refers-to='$$._global._upglobal.caste.ref-target.body_info.layer_idx[$].refers-to'/>
        <stl-vector name='layer_effect_fraction' type-name='uint32_t' comment='0-1000000000'
                    index-refers-to='$$._global._upglobal.caste.ref-target.body_info.layer_idx[$].refers-to'/>
    </struct-type>

    <struct-type type-name='body_size_info' comment='not a real structure'>
        <int32_t name='size_cur'/>
        <int32_t name='size_base'/>
        <int32_t name='area_cur' comment='size_cur^0.666'/>
        <int32_t name='area_base' comment='size_base^0.666'/>
        <int32_t name='length_cur' comment='(size_cur*10000)^0.333'/>
        <int32_t name='length_base' comment='(size_base*10000)^0.333'/>
    </struct-type>
</data-definition>

<!--
Local Variables:
indent-tabs-mode: nil
nxml-child-indent: 4
End:
-->
