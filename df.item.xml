<data-definition>
    -- Unused: ArmorRole

    <bitfield-type type-name='item_body_component_flag' base-type='uint32_t'> bay12: ITEM_BODY_COMPONENT_FLAG_*
        <flag-bit name='unbutchered'/>
        <flag-bit name='plant'/>
        <flag-bit name='silk'/>
        <flag-bit name='leather'/>
        <flag-bit name='bone'/>
        <flag-bit name='shell'/>
        <flag-bit name='wood'/>
        <flag-bit name='soap'/>

        <flag-bit name='tooth'/>
        <flag-bit name='horn'/>
        <flag-bit name='pearl'/>
        <flag-bit name='rottable'/>
        <flag-bit name='skull'/>
        <flag-bit name='use_blood_color'/>
        <flag-bit name='hair_wool'/>
        <flag-bit name='yarn'/>
        <flag-bit name='must_rot_body'/>
        <flag-bit name='must_refresh_texture'/>
    </bitfield-type>

    <enum-type type-name='job_item_vector_id' base-type='int16_t'> bay12: ItemArrayType
        <enum-attr name='other' type-name='items_other_id'
                   default-value='ANY' use-key-name='true'/>

        <enum-item name='ANY'/>

        -- 1

        <enum-item name='IN_PLAY'/>
        <enum-item name='ANY_ARTIFACT'/>
        <enum-item name='WEAPON'/>
        <enum-item name='ANY_WEAPON'/>
        <enum-item name='ANY_SPIKE'/>

        <enum-item name='ANY_TRUE_ARMOR'/>
        <enum-item name='ANY_ARMOR_HELM'/>
        <enum-item name='ANY_ARMOR_SHOES'/>
        <enum-item name='SHIELD'/>
        <enum-item name='ANY_ARMOR_GLOVES'/>

        -- 11

        <enum-item name='ANY_ARMOR_PANTS'/>
        <enum-item name='QUIVER'/>
        <enum-item name='SPLINT'/>
        <enum-item name='ORTHOPEDIC_CAST'/>
        <enum-item name='CRUTCH'/>

        <enum-item name='BACKPACK'/>
        <enum-item name='AMMO'/>
        <enum-item name='WOOD'/>
        <enum-item name='BOULDER'/>
        <enum-item name='ROCK'/>

        -- 21

        <enum-item name='ANY_REFUSE'/>
        <enum-item name='ANY_GOOD_FOOD'/>
        <enum-item name='ANY_AUTO_CLEAN'/>
        <enum-item name='ANY_EXTRACTABLE'/>
        <enum-item name='ANY_BUTCHERABLE'/>

        <enum-item name='ANY_FURNITURE'/>
        <enum-item name='ANY_CAGE_OR_TRAP'/>
        <enum-item name='ANY_EDIBLE_RAW'/>
        <enum-item name='ANY_EDIBLE_CARNIVORE'/>
        <enum-item name='ANY_EDIBLE_BONECARN'/>

        -- 31

        <enum-item name='ANY_EDIBLE_VERMIN'/>
        <enum-item name='ANY_EDIBLE_VERMIN_BOX'/>
        <enum-item name='ANY_CAN_ROT'/>
        <enum-item name='ANY_MURDERED'/>
        <enum-item name='ANY_DEAD_DWARF'/>

        <enum-item name='ANY_GOES_IN_CHEST'/>
        <enum-item name='ANY_GOES_IN_CABINET'/>
        <enum-item name='ANY_GOES_IN_WEAPONRACK'/>
        <enum-item name='ANY_GOES_IN_ARMORSTAND'/>
        <enum-item name='DOOR'/>

        -- 41

        <enum-item name='FLOODGATE'/>
        <enum-item name='HATCH_COVER'/>
        <enum-item name='GRATE'/>
        <enum-item name='CAGE'/>
        <enum-item name='FLASK'/>

        <enum-item name='WINDOW'/>
        <enum-item name='GOBLET'/>
        <enum-item name='INSTRUMENT'/>
        <enum-item name='TOY'/>

        SKIPPED: TOOL

        -- 50

        <enum-item name='BUCKET'/>
        <enum-item name='BARREL'/>
        <enum-item name='CHAIN'/>
        <enum-item name='ANIMALTRAP'/>
        <enum-item name='BED'/>

        <enum-item name='TRACTION_BENCH'/>
        <enum-item name='CHAIR'/>
        <enum-item name='COFFIN'/>
        <enum-item name='TABLE'/>
        <enum-item name='STATUE'/>

        -- 60

        SKIPPED: SLAB

        <enum-item name='QUERN'/>
        <enum-item name='MILLSTONE'/>
        <enum-item name='BOX'/>
        <enum-item name='BIN'/>

        <enum-item name='ARMORSTAND'/>
        <enum-item name='WEAPONRACK'/>
        <enum-item name='CABINET'/>
        <enum-item name='ANVIL'/>
        <enum-item name='CATAPULTPARTS'/>

        -- 69

        <enum-item name='BALLISTAPARTS'/>
        <enum-item name='SIEGEAMMO'/>
        <enum-item name='TRAPPARTS'/>
        <enum-item name='ANY_WEBS'/>
        <enum-item name='PIPE_SECTION'/>

        <enum-item name='ANY_ENCASED'/>
        <enum-item name='ANY_IN_CONSTRUCTION'/>
        <enum-item name='DRINK'/>
        <enum-item name='ANY_DRINK'/>
        <enum-item name='LIQUID_MISC'/>

        -- 79

        <enum-item name='POWDER_MISC'/>
        <enum-item name='ANY_COOKABLE'/>
        <enum-item name='ANY_GLASSABLE'/>
        <enum-item name='VERMIN'/>
        <enum-item name='PET'/>

        <enum-item name='ANY_CRITTER'/>
        <enum-item name='COIN'/>
        <enum-item name='GLOB'/>

        -- 87 -> 125

        <enum-item name='ANY_RECENTLY_DROPPED'/>
        <enum-item name='ANY_MELT_DESIGNATED'/>
        <enum-item comment='TEMP_SAVE, should never actually be used'/>

        -- 90

        <enum-item name='TRAPCOMP'/>
        <enum-item name='BAR'/>

        -- 92

        <enum-item name='SMALLGEM'/>
        <enum-item name='BLOCKS'/>
        <enum-item name='ROUGH'/>
        <enum-item name='CORPSE'/>
        <enum-item name='FIGURINE'/>

        <enum-item name='AMULET'/>
        <enum-item name='SCEPTER'/>
        <enum-item name='CROWN'/>
        <enum-item name='RING'/>
        <enum-item name='EARRING'/>

        -- 102

        <enum-item name='BRACELET'/>
        <enum-item name='GEM'/>
        <enum-item name='CORPSEPIECE'/>
        <enum-item name='REMAINS'/>
        <enum-item name='MEAT'/>

        <enum-item name='FISH'/>
        <enum-item name='FISH_RAW'/>

        LATER: EGG

        <enum-item name='SEEDS'/>
        <enum-item name='PLANT'/>

        -- 111

        <enum-item name='SKIN_TANNED'/>
        <enum-item name='PLANT_GROWTH'/>
        <enum-item name='THREAD'/>
        <enum-item name='CLOTH'/>
        <enum-item name='TOTEM'/>

        <enum-item name='PANTS'/>
        <enum-item name='CHEESE'/>
        <enum-item name='FOOD'/>
        <enum-item name='BALLISTAARROWHEAD'/>
        <enum-item name='ARMOR'/>

        -- 121

        <enum-item name='SHOES'/>
        <enum-item name='HELM'/>
        <enum-item name='GLOVES'/>

        <enum-item name='TOOL'/>
        <enum-item name='SLAB'/>

        <enum-item name='EGG'/>

        <enum-item name='POSSIBLE_CONTAINER'/>

        <enum-item name='ANY_CORPSE'/>
        <enum-item name='BOOK'/>
        <enum-item name='FOOD_STORAGE'/>

        -- 131
        <enum-item name='INSTRUMENT_STATIONARY'/>
        <enum-item name='SHEET'/>
        <enum-item name='BRANCH'/>
        <enum-item name='BAG'/>
        <enum-item name='MAGICAL'/>
    </enum-type>

    <struct-type type-name='item_kill_info' original-name='item_profile_combat_killst'>
        <compound name='targets' comment='not actually a compound, do NOT replace with kill_profilest!'>
            -- Important

            <stl-vector name="events" type-name='int32_t' ref-target='history_event'/>

            -- Misc

            <stl-vector name="killed_race" type-name='int16_t' ref-target='creature_raw'/>
            <stl-vector name="killed_caste" type-name='int16_t' ref-target='caste_raw' aux-value='$$._parent.killed_race[$._key]'/>
            <stl-vector name="killed_underground_region" type-name='int32_t' ref-target='world_underground_region'/>
            <stl-vector name="killed_region" type-name='int32_t' ref-target='world_region'/>
            <stl-vector name="killed_site" type-name='int32_t' ref-target='world_site'/>
            <stl-vector name='killed_undead'>
                <bitfield type-name='undead_flags'/>
            </stl-vector>
            <stl-vector name="killed_count" type-name='int32_t'/>
        </compound>
        -- Wielders

        <stl-vector name="slayers" type-name='int32_t' ref-target='historical_figure'/>
        <stl-vector name="slayer_kill_counts" type-name='int32_t'/> naming weight 1
    </struct-type>

    <struct-type type-name='item_history_info' original-name='item_profile_combatst'>
        <pointer name='kills' type-name='item_kill_info'/>
        <int32_t name='attack_counter' comment='increments by 1 each time the item is fired, thrown or used in an attack'/> naming weight 0.001
        <int32_t name='defence_counter' comment='increments by 1 each time the item is used in an attempt to block or parry'/> naming weight 0.01
    </struct-type>

    <struct-type type-name='item_profilest'>
        <pointer name='combat' type-name='item_history_info'/>
    </struct-type>

    <struct-type type-name='item_stockpile_ref' original-name='stockpile_item_infost'>
        <int32_t name='id' ref-target='building'/>
        <int16_t name='x'/>
        <int16_t name='y'/>
    </struct-type>

    <class-type type-name='itemimprovement' original-name='itemimprovementst'>
        <int16_t name='mat_type' ref-target='material' aux-value='$$.mat_index'/>
        <int32_t name='mat_index'/>
        <int32_t name='maker' ref-target='historical_figure'/>
        <int32_t name='masterpiece_event' ref-target='history_event'/>
        <enum base-type='int16_t' name='quality' type-name='item_quality'/>
        <enum base-type='int32_t' name="skill_rating" type-name='skill_rating'
              comment='at the moment of creation'/>
        <int32_t name='age_counter'/>

        <virtual-methods>
            <vmethod name='getImage'><pointer type-name='item'/>
                <ret-type><pointer type-name='art_image'/></ret-type>
            </vmethod>
            <vmethod name='getColorAndShape'>
                <pointer name='colors'><stl-vector type-name='int16_t'/></pointer>
                <pointer name='shapes'><stl-vector type-name='int16_t'/></pointer>
                <pointer name='item' type-name='item'/>
            </vmethod>
            <vmethod name='clone'>
                <ret-type><pointer type-name='itemimprovement'/></ret-type>
            </vmethod>
            <vmethod name='write_file'> <pointer name='file' type-name='file_compressorst'/> </vmethod>
            <vmethod name='read_file'>
                <pointer name='file' type-name='file_compressorst'/>
                <enum name='loadversion' type-name='save_version'/>
            </vmethod>

            <vmethod ret-type='improvement_type' name='getType'/>
            <vmethod ret-type='bool' name='isDecoration' comment='displayed_improvement'/>
            <vmethod is-destructor='true'/>
            <vmethod ret-type='int32_t' name='getDyeValue'>
                <pointer type-name='caravan_state' name='caravan'/>
            </vmethod>
            <vmethod name='setShape'>
                <int32_t name='shape' ref-target='descriptor_shape'/>
            </vmethod>
        </virtual-methods>
    </class-type>

    <class-type type-name='itemimprovement_art_imagest' inherits-from='itemimprovement'>
        <compound name='image'> not a compound
            <int32_t name='id' ref-target='art_image_chunk'/>
            <int16_t name='subid' ref-target='art_image' aux-value='$$.id'/>
            <int32_t name='civ_id' ref-target='historical_entity' since='v0.34.01'/>
            <int32_t name='site_id' ref-target='world_site' since='v0.34.01'/>
        </compound>
    </class-type>

    <bitfield-type type-name='itemimprovement_covered_flag' base-type='uint32_t'> bay12: ITEMIMPROVEMENT_COVERED_FLAG_*
        <flag-bit name='glazed'/>
    </bitfield-type>

    <class-type type-name='itemimprovement_coveredst' inherits-from='itemimprovement'>
        <bitfield name='cover_flags' base-type='uint32_t' type-name='itemimprovement_covered_flag'/>
        <int32_t name='shape' ref-target='descriptor_shape'/>
    </class-type>

    <class-type type-name='itemimprovement_rings_hangingst' inherits-from='itemimprovement'/>

    <class-type type-name='itemimprovement_bandsst' inherits-from='itemimprovement'>
        <int32_t name='shape' ref-target='descriptor_shape'/>
    </class-type>

    <class-type type-name='itemimprovement_spikesst' inherits-from='itemimprovement'/>

    <class-type type-name='itemimprovement_itemspecificst' inherits-from='itemimprovement'>
        <enum base-type='int32_t' type-name='itemimprovement_specific_type' name='type'/>
    </class-type>

    <class-type type-name='itemimprovement_threadst' inherits-from='itemimprovement'>
        <compound name='dye'> not a compound
            <int16_t name='mat_type' ref-target='material' aux-value='$$.mat_index'/>
            <int32_t name='mat_index'/>
            <int32_t name='dyer' ref-target='historical_figure'/>
            <enum base-type='int16_t' name='quality' type-name='item_quality'/>
            <enum base-type='int16_t' name="skill_rating" type-name='skill_rating'
                  comment='at the moment of creation'/>
            <int32_t name='age_counter'/>
        </compound>
    </class-type>

    <class-type type-name='itemimprovement_clothst' inherits-from='itemimprovement'/>

    <class-type type-name='itemimprovement_sewn_imagest' inherits-from='itemimprovement'>
        none of these are actual compounds - beware of potential alignment/padding issues
        <compound name='image'> not a compound
            <int32_t name='id' ref-target='art_image_chunk'/>
            <int16_t name='subid' ref-target='art_image' aux-value='$$.id'/>
            <int32_t name='civ_id' ref-target='historical_entity' since='v0.34.01'/>
            <int32_t name='site_id' ref-target='world_site' since='v0.34.01'/>
        </compound>
        <compound name='cloth'> not a compound
            <int32_t name='maker_hf' ref-target='historical_figure'/>
            <enum base-type='int16_t' name='quality' type-name='item_quality'/>
            <enum base-type='int16_t' name="skill_rating" type-name='skill_rating'
                  comment='at the moment of creation'/>
        </compound>
        <compound name='dye'> not a compound
            <int16_t name='mat_type' ref-target='material' aux-value='$$.mat_index'/>
            <int32_t name='mat_index'/>
            <int32_t name='dyer' ref-target='historical_figure'/>
            <enum base-type='int16_t' name='quality' type-name='item_quality'/>
            <enum base-type='int16_t' name="skill_rating" type-name='skill_rating'
                  comment='at the moment of creation'/>
            <int32_t name='age_counter'/>
        </compound>
    </class-type>

    <class-type type-name='itemimprovement_pagesst' inherits-from='itemimprovement'>
        <int32_t name='count'/>
        <stl-vector name='contents' type-name='int32_t' ref-target='written_content'/>
    </class-type>

    <class-type type-name='itemimprovement_illustrationst' inherits-from='itemimprovement'>
        <compound name='image'> not a compound
            <int32_t name='id' ref-target='art_image_chunk'/>
            <int16_t name='subid' ref-target='art_image' aux-value='$$.id'/>
            <int32_t name='civ_id' ref-target='historical_entity' since='v0.34.01'/>
            <int32_t name='site_id' ref-target='world_site' since='v0.34.01'/>
        </compound>
        <int32_t name='page_number' since='v0.34.01'/> bay12: III_PAGE_* for several special negative values
    </class-type>

    <class-type type-name='itemimprovement_instrument_piecest' inherits-from='itemimprovement'>
        <stl-string name='type' comment='instrument_piece.type'/>
    </class-type>

    <class-type type-name='itemimprovement_writingst' inherits-from='itemimprovement'>
        <stl-vector name='contents' type-name='int32_t' ref-target='written_content'/>
    </class-type>

    <class-type type-name='itemimprovement_image_setst' inherits-from='itemimprovement'>
        <int32_t name='image_set_id' init-value='-1' ref-target='image_set'/>
    </class-type>

    <enum-type type-name='food_ingredient_type' base-type='int16_t'> bay12: FoodIngredient
        <enum-item name='MINCED'/>
    </enum-type>

    <struct-type type-name='food_ingredientst'>
        <enum name='mixtype' base-type='int16_t' type-name='food_ingredient_type'/>
        <enum base-type='int16_t' name='item_type' type-name='item_type'/>
        <int16_t name='item_subtype' init-value='-1'/>
        <int16_t name='mat_type' ref-target='material' aux-value='$$.mat_index'/>
        <int32_t name='mat_index' init-value='-1'/>
        <int32_t name='maker' ref-target='historical_figure'/>
        <enum base-type='int16_t' name='quality' type-name='item_quality'/>
        <int32_t name='skill_level'/>
        <int32_t name='masterpiece_event' ref-target='history_event'/>
    </struct-type>

    <bitfield-type type-name='item_flags' base-type='uint32_t'> bay12: ITEMFLAG_*
        <flag-bit name='on_ground' comment='Item on ground'/>
        <flag-bit name='in_job' comment='Item currently being used in a job'/>
        <flag-bit name='hostile' comment='Item owned by hostile'/>
        <flag-bit name='in_inventory' comment='Item in a creature, workshop or container inventory'/>

        <flag-bit name='removed' comment='completely invisible and with no position'/>
        <flag-bit name='in_building' comment='Part of a building (including mechanisms, bodies in coffins)'/>
        <flag-bit name='container' comment='Set on anything that contains or contained items?'/>
        <flag-bit name='dead_dwarf' comment='Dwarfs dead body or body part'/>

        <flag-bit name='rotten' comment='Rotten food'/>
        <flag-bit name='spider_web' comment='Thread in spider web'/>
        <flag-bit name='construction' comment='Material used in construction'/>
        <flag-bit name='encased' comment='Item encased in ice or obsidian'/>

        <flag-bit comment='unused'/>
        <flag-bit name='murder' comment='Implies murder - used in fell moods'/>
        <flag-bit name='foreign' comment='Item is imported'/>
        <flag-bit name='trader' comment='Item ownwed by trader'/>

        <flag-bit name='owned' comment='Item is owned by a dwarf'/>
        <flag-bit name='garbage_collect' comment='Marked for deallocation by DF it seems'/>
        <flag-bit name='artifact' comment='Artifact'/>
        <flag-bit name='forbid' comment='Forbidden item'/>

        <flag-bit name='already_uncategorized' comment='bay12: NONGLOBAL_DELETE'/>
        <flag-bit name='dump' comment='Designated for dumping'/>
        <flag-bit name='on_fire' comment='Indicates if item is on fire, Will Set Item On Fire if Set!'/>
        <flag-bit name='melt' comment='Designated for melting, if applicable'/>

        <flag-bit name='hidden' comment='Hidden item'/>
        <flag-bit comment='unused'/>
        <flag-bit name='use_recorded' comment='transient in unit.used_items update'/>
        <flag-bit name='artifact_mood' comment='created by mood/named existing item'/>

        <flag-bit name='temps_computed' comment='melting/boiling/ignite/etc. points'/>
        <flag-bit name='weight_computed'/>
        <flag-bit name='top_open'/>
        <flag-bit name='from_worldgen' comment='bay12: DO_NOT_RETAIN_IN_CREATION_ZONE'/>
    </bitfield-type>

    <bitfield-type type-name='item_flags2' base-type='uint32_t'> bay12: ITEMFLAG2_*
        <flag-bit name='has_rider' comment='vehicle with a rider'/>
        <flag-bit name='forbid_on_unretire'/>
        <flag-bit name='grown'/>
        <flag-bit name='location_reserved' comment='possibly book/written-content-related'/>
        <flag-bit name='utterly_destroyed'/>
        <flag-bit name='might_contain_artifact'/>
    </bitfield-type>

    -- Unused: ITEMFLAG_CIV_*

    <struct-type type-name='item_powerst'>
        <int32_t name='interaction_index' init-value='-1'/>
        <int32_t name='interaction_source_index' init-value='-1'/>
        <int32_t name='delay' init-value='0'/>
    </struct-type>

    <struct-type type-name='item_magicalst'>
        <stl-vector name='power' pointer-type='item_powerst'/>
    </struct-type>

    -- Unused: ItemNukeResolve

    <struct-type type-name='itinfost'>
        <enum base-type='int16_t' name='item_type' type-name='item_type'/>
        <int16_t name='item_subtype' refers-to='(item-subtype-target $$._parent.item_type $)'/>
        <int16_t name='mattype' ref-target='material' aux-value='$$.matindex'/>
        <int32_t name='matindex'/>
        <int8_t name="on" comment='1 if new, -1 if added'/>
    </struct-type>

    <class-type type-name='item' original-name='itemst'
                instance-vector='$global.world.items.all' key-field='id'>
        <compound name='pos' type-name='coord'/>

        <bitfield name='flags' type-name='item_flags'/>
        <bitfield name='flags2' type-name='item_flags2' since='v0.34.08'/>

        <uint32_t name='age'/>
        <int32_t name='id'/>

        <stl-vector name='specific_refs' pointer-type='specific_ref'/>
        <stl-vector name='general_refs' pointer-type='general_ref'/>

        <int32_t name='world_data_id' ref-target='world_object_data' since='v0.34.01'/>
        <int32_t name='world_data_subid' init-value='-1' since='v0.34.01'/>

        <int8_t name='stockpile_countdown' comment='-1 per 50 frames; then check if needs moving'/>
        <int8_t name='stockpile_delay' comment='used to reset countdown; randomly varies'/>

        <int32_t name='base_uniform_score' comment='temporary_32'/>
        <int32_t name='walkable_id' comment='temporary_32_2; from map_block.walkable'/>
        <uint16_t name='spec_heat'/>
        <uint16_t name='ignite_point'/>
        <uint16_t name='heatdam_point'/>
        <uint16_t name='colddam_point'/>
        <uint16_t name='boiling_point'/>
        <uint16_t name='melting_point'/>
        <uint16_t name='fixed_temp'/>

        <compound name='weight' type-name='massst' comment='if flags.weight_computed'/>

        <virtual-methods>
            <vmethod ret-type='item_type' name='getType'/>
            <vmethod ret-type='int16_t' name='getSubtype'/>
            <vmethod ret-type='int16_t' name='getMaterial'/>
            <vmethod ret-type='int32_t' name='getMaterialIndex'/>
            <vmethod name='setSubtype'> <int16_t/> </vmethod>

            <vmethod name='setMaterial'> <int16_t/> </vmethod>
            <vmethod name='setMaterialIndex'> <int32_t/> </vmethod>
            <vmethod ret-type='int16_t' name='getActualMaterial'
                    comment='returns an actual material type, never a race'/>
            <vmethod ret-type='int32_t' name='getActualMaterialIndex'
                    comment='returns an actual material index, never a caste'/>
            <vmethod ret-type='int16_t' name='getRace'
                    comment='only if the object is made of a "specific creature mat"'/>

            -- 10

            <vmethod ret-type='int16_t' name='getCaste'
                    comment='only if the object is made of a "specific creature mat"'/>
            <vmethod ret-type='int16_t' name='getPlantID'
                    comment='only if the object is made of a plant material'/>
            <vmethod ret-type='int32_t' name='getGrowthPrint' since='v0.40.01'/>
            <vmethod name='setGrowthPrint' since='v0.40.01'><int32_t name='print'/></vmethod>
            <vmethod ret-type='int32_t' name='getDimension' since='v0.40.01'/>

            <vmethod ret-type='int32_t' name='getTotalDimension' comment='get_item_search_contribution'/>
            <vmethod name='setDimension'> <int32_t name='amount'/> </vmethod>
            <vmethod ret-type='bool' name='subtractDimension'> <int32_t name='amount'/> </vmethod>

            <vmethod ret-type='bool' name='isFoodStorage'/>
            <vmethod ret-type='bool' name='isTrackCart'/>

            -- 20

            <vmethod ret-type='bool' name='isWheelbarrow'/>
            <vmethod ret-type='int32_t' name='getVehicleID'/>
            <vmethod ret-type='bool' name='isCrafted'/>
            <vmethod name='getStockpile'>
                <ret-type><pointer type-name='item_stockpile_ref'/></ret-type>
            </vmethod>
            <vmethod ret-type='bool' name='containsPlaster'/>

            <vmethod ret-type='bool' name='isPlaster'/>
            <vmethod ret-type='bool' name='getColorOverride'> <int16_t name='bg'/> </vmethod>

            <vmethod name='getHistoryInfo'>
                <ret-type><pointer type-name='item_profilest'/></ret-type>
            </vmethod>
            <vmethod ret-type='bool' name='hasToolUse'> <enum base-type='int16_t' type-name='tool_uses' name='use'/> </vmethod>
            <vmethod ret-type='bool' name='hasInvertedTile'/>

            -- 30

            <vmethod name='becomePaste'/>
            <vmethod name='becomePressed'/>
            <vmethod name='calculateWeight'/>
            <vmethod ret-type='bool' name='isSharpStone'/>
            <vmethod ret-type='bool' name='isCrystalGlassable'/>

            <vmethod ret-type='bool' name='isMetalOre'> <int16_t name='matIndex'/> </vmethod>
            <vmethod name='clearLastTempUpdateTS'/>
            <vmethod name='listNotableKills'> <pointer type-name='stl-string' name='string_ptr'/> <uint32_t name='flag'/></vmethod>
            <vmethod ret-type='uint16_t' name='getSpecHeat'/>
            <vmethod ret-type='uint16_t' name='getIgnitePoint'/>

            -- 40

            <vmethod ret-type='uint16_t' name='getHeatdamPoint'/>
            <vmethod ret-type='uint16_t' name='getColddamPoint'/>
            <vmethod ret-type='uint16_t' name='getBoilingPoint'/>
            <vmethod ret-type='uint16_t' name='getMeltingPoint'/>
            <vmethod ret-type='uint16_t' name='getFixedTemp'/>

            <vmethod ret-type='int32_t' name='getSolidDensity'/>
            <vmethod ret-type='bool' name='materialRots'/>
            <vmethod ret-type='uint16_t' name='getTemperature'/>
            <vmethod ret-type='bool' name='adjustTemperature'>
                <uint16_t name='target'/>
                <int32_t name='amp'/>
            </vmethod>
            <vmethod name='evaluate_corpse_flags' comment='initialization for body components'/>

            -- 50

            <vmethod name='set_placement_information'/>
            <vmethod ret-type='int8_t' name='getGloveHandedness'/>
            <vmethod name='setGloveHandedness'> <uint32_t name='flag'/> </vmethod>
            <vmethod ret-type='bool' name='isSpike'/>
            <vmethod ret-type='bool' name='isScrew'/>

            <vmethod ret-type='bool' name='isBuildMat'/>
            <vmethod ret-type='bool' name='isTemperatureSafe'> <int8_t comment='1 fire, 2 magma'/> </vmethod>
            <vmethod name='setRandSubtype'> <int32_t name='entity_id'/> </vmethod>
            <vmethod ret-type='int32_t' name='getWeaponSize' comment='weapon racks have capacity 5'/>
            <vmethod ret-type='int16_t' name='getWear'/>

            - 60

            <vmethod name='setWear'> <int16_t/> </vmethod>
            <vmethod ret-type='int32_t' name='getMaker'/>
            <vmethod name='setMaker'> <int32_t name='hf_id' ref-target='historical_figure'/> </vmethod>
            <vmethod name='getCorpseInfo'>
                <pointer type-name='int16_t' name='prace'/>
                <pointer type-name='int16_t' name='pcaste'/>
                <pointer name='phfig'> <pointer type-name='historical_figure'/> </pointer>
                <pointer name='punit'> <pointer type-name='unit'/> </pointer>
            </vmethod>
            <vmethod name='getBodyInfo'> <ret-type><pointer type-name='caste_body_info'/></ret-type> </vmethod>

            <vmethod name='getGloveFlags'> <ret-type><pointer><df-flagarray/></pointer></ret-type> </vmethod>
            <vmethod name='getItemShapeDesc' comment='a statue/figurine of "string goes here"'>
                <ret-type><pointer type-name='stl-string'/></ret-type>
            </vmethod>
            <vmethod name='get_art_graphics_type_ptr'>
                <ret-type><pointer type-name='int32_t'/></ret-type>
            </vmethod>
            <vmethod name='get_art_graphics_id_ptr'>
                <ret-type><pointer type-name='int32_t'/></ret-type>
            </vmethod>
            <vmethod ret-type='bool' name='isMatchingAmmoItem'> <pointer type-name='squad_ammo_spec'/> </vmethod>

            -- 70

            <vmethod name='getImageRef'>
                <pointer name='id' pointer-type='int32_t'/> pointer-to-ref
                <pointer name='subid' pointer-type='int16_t'/>
            </vmethod>
            <vmethod name='getImageCivSite'>
                <pointer type-name='int32_t' name='civ_id' ref-target='historical_entity'/>
                <pointer type-name='int32_t' name='site_id' ref-target='world_site'/>
            </vmethod>
            <vmethod name='setImageCivSite'>
                <int32_t name='civ_id' ref-target='historical_entity'/>
                <int32_t name='site_id' ref-target='world_site'/>
            </vmethod>
            <vmethod name='setSeedsPlantSkillLevel'> <int16_t name='level'/> </vmethod>
            <vmethod ret-type='int32_t' name='getCorpseSize' comment='size_info.size_cur'/>

            <vmethod ret-type='bool' name='ageItem'><int32_t name='amount'/></vmethod>
            <vmethod ret-type='int32_t' name='getCritterAirdrownTimer'/>
            <vmethod name='setCritterAirdrownTimer'> <int32_t/> </vmethod>
            <vmethod name='incrementCritterAirdrownTimer'/>
            <vmethod ret-type='int32_t' name='getRotTimer'/>

            -- 80

            <vmethod name='setRotTimer'> <int32_t name='val'/> </vmethod>
            <vmethod name='incrementRotTimer'/>
            <vmethod ret-type='bool' name='instantRot'/>
            <vmethod ret-type='bool' name='fitsCivRequestTab'>
                <enum base-type='int16_t' type-name='entity_sell_category' name='civ_request_tab'/>
            </vmethod>
            <vmethod name='getAmmoType'>
                <ret-type><pointer type-name='stl-string'/></ret-type>
                <pointer type-name='stl-string'/>
            </vmethod>

            <vmethod ret-type='bool' name='isLiquidPowder'/>
            <vmethod ret-type='bool' name='isLiquid'/>
            <vmethod ret-type='bool' name='isLiveAnimal' comment='vermin, pet, or critter'/>
            <vmethod ret-type='int32_t' name='getVolume' comment='for putting in containers, building clutter'/>
            <vmethod name='addImprovementFromJob'>
                <ret-type><pointer type-name='itemimprovement'/></ret-type>
                <enum type-name='improvement_type' name='imp_type'/>
                <pointer type-name='job' name='job'/>
                <pointer type-name='unit' name='unit'/>
                <int16_t name='mat_type'/>
                <int32_t name='mat_index'/>
                <int32_t name='shape' ref-target='descriptor_shape'/>
                <int32_t name='force_quality'/>
                <pointer type-name='historical_entity' name='civ'/>
                <pointer type-name='world_site' name='site'/>
                <enum type-name='trade_good_purpose' name='tradegoodpurpose'/>
                <bool name='suppress_shaping'/>
                <bool name='use_roll'/>
                <int32_t name='roll'/>
            </vmethod>

            -- 90

            <vmethod ret-type='bool' name='isWeapon' comment='rackitem, goes in weapon racks'/>
            <vmethod ret-type='bool' name='isArmorNotClothing' comment='standitem, goes in armor stands'/>
            <vmethod ret-type='bool' name='isMillable'/>
            <vmethod ret-type='bool' name='isProcessableThread'/>
            <vmethod ret-type='bool' name='isProcessableVial'/>

            <vmethod ret-type='bool' name='isProcessableBarrel'/>
            <vmethod ret-type='bool' name='isEdiblePlant'/>
            <vmethod ret-type='bool' name='isEdibleRaw'> <int32_t name='hunger'/> </vmethod>
            <vmethod ret-type='bool' name='isEdibleCarnivore'> <int32_t name='hunger'/> </vmethod>
            <vmethod ret-type='bool' name='isEdibleBonecarn'> <int32_t name='hunger'/> </vmethod>

            -- 100

            <vmethod ret-type='bool' name='moveToGround'>
                <int32_t name='x'/> <int32_t name='y'/> <int32_t name='z'/>
            </vmethod>
            <vmethod name='categorize' comment='Add item to world.items.other.*'> <bool name='in_play'/> </vmethod>
            <vmethod name='uncategorize' comment='Remove item from world.items.other.*'/>
            <vmethod ret-type='bool' name='isFurniture'> <bool name='empty'/> </vmethod>
            <vmethod ret-type='bool' name='isPressed'/>
            <vmethod ret-type='bool' name='isAnimal' comment='stored in Animal stockpiles'/>

            <vmethod ret-type='item_quality' name='assignQuality'>
                <pointer name='maker' type-name='unit'/>
                <enum base-type='int16_t' name='job_skill' type-name='job_skill'/>
            </vmethod>
            <vmethod ret-type='item_quality' name='assignQualityRoll'>
                <pointer name='maker' type-name='unit'/>
                <enum base-type='int16_t' name='job_skill' type-name='job_skill'/>
                <int32_t name='skill_roll' comment='preferences add 10 to this, need 55 to roll masterworks'/>
            </vmethod>
            <vmethod name='notifyCreatedMasterwork'>
                <pointer name='maker' type-name='unit'/>
            </vmethod>
            <vmethod name='notifyLostMasterwork'/>

            -- 110

            <vmethod name='setDisplayColor'><int16_t name='bg'/></vmethod>
            <vmethod ret-type='bool' name='isDamagedByHeat'/>
            <vmethod ret-type='bool' name='needTwoHandedWield'> <int32_t/> </vmethod>

            <vmethod name='splitStack'>
                <ret-type><pointer type-name='item'/></ret-type>
                <int32_t name='stack_size'/>
                <bool name='preserve_containment'/>
            </vmethod>
            <vmethod ret-type='bool' name='isTameableVermin'/>

            -- 120

            <vmethod ret-type='bool' name='isDye'/>
            <vmethod ret-type='bool' name='isMilkable'><bool name='container_allowed'/><bool name='checkres'/></vmethod>
            <vmethod ret-type='bool' name='isSandBearing'/>
            <vmethod ret-type='bool' name='isLyeBearing'/>
            <vmethod ret-type='bool' name='isAnimalProduct'/>

            <vmethod name='getStorageInfo'>
                <pointer type-name='item_type' name='item_type'/>
                <pointer name='material_category'><enum type-name='entity_material_category'/></pointer> codegen workaround, enum forward declaration was missing the base-type
            </vmethod>
            <vmethod ret-type='bool' name='addWear'>
                <int32_t name='delta'/> <bool name='lose_masterwork'/> <bool name='persist_parts'/>
            </vmethod>
            <vmethod ret-type='bool' name='incWearTimer'> <int32_t name='delta'/> </vmethod>
            <vmethod ret-type='bool' name='checkWearDestroy'>
                <bool name='lose_masterwork'/> <bool name='persist_parts'/>
            </vmethod>
            <vmethod name='addContaminant'>
                <int16_t name='mat_type'/> <int32_t name='mat_index'/>
                <enum type-name='matter_state' base-type='int16_t' name='mat_state'/>
                <uint16_t name='temp'/> <int32_t name='size'/>
                <int16_t name='body_part_id'/> <uint16_t name='flags'/>
            </vmethod>

            -- 130

            <vmethod name='removeContaminantByIdx'>
                <int32_t name='index'/> <int32_t name='amount'/>
            </vmethod>
            <vmethod name='removeContaminant'>
                <int16_t name='mat_type'/> <int32_t name='mat_index'/>
                <int32_t name='amount'/>
            </vmethod>
            <vmethod name='tradeUnitContaminants'>
                <pointer type-name='unit'/> <int16_t name='body_part_id'/>
            </vmethod>
            <vmethod name='tradeItemContaminants' comment='calls item.tIC2(this)'>
                <pointer type-name='item'/>
            </vmethod>
            <vmethod name='tradeItemActualContaminants'>
                <pointer type-name='item_actual'/>
            </vmethod>

            <vmethod name='contaminateWound'>
                <pointer type-name='unit'/> <pointer type-name='unit_wound'/>
                <int32_t name='shift'/> <int16_t name='body_part_id'/>
            </vmethod>
            <vmethod name='write_file'> <pointer name='file' type-name='file_compressorst'/> </vmethod>
            <vmethod name='read_file'>
                <pointer name='file' type-name='file_compressorst'/>
                <enum name='loadversion' type-name='save_version'/>
            </vmethod>
            <vmethod name='getWeaponAttacks'>
                <ret-type><pointer><stl-vector pointer-type='weapon_attack'/></pointer></ret-type>
            </vmethod>
            <vmethod ret-type='bool' name='isNotHeld' comment='exitable - allowed to leave the map?'/>

            -- 140

            <vmethod ret-type='bool' name='isActual'/>
            <vmethod name='addDefaultThreadImprovement'><pointer type-name='historical_entity' comment='add default thread improvement to items made of cloth'/></vmethod>
            <vmethod name='addThreadImprovement'><pointer type-name='item'/><pointer type-name='historical_entity' comment='add a specific thread improvement to items made of cloth'/></vmethod>
            <vmethod name='propagateUnitRefs'/> add to unit.owned_items/traded_items
            <vmethod ret-type='bool' name='isSand'/>

            <vmethod ret-type='int32_t' name='get_production_zone_id' />
            <vmethod ret-type='int32_t' name='getStackSize'/>
            <vmethod name='addStackSize'> <int32_t name='amount'/> </vmethod>
            <vmethod name='setStackSize'> <int32_t name='amount'/> </vmethod>
            <vmethod ret-type='bool' name='isAmmoClass'> <pointer type-name='stl-string'/> </vmethod>

            -- 150

            <vmethod ret-type='bool' name='isAutoClean'
                     comment='delete on_ground every season when in ANY_AUTO_CLEAN; default true'/>
            <vmethod name='setTemperatureFromMapTile'>
                <int16_t name='x'/> <int16_t name='y'/> <int16_t name='z'/>
                <bool name='local'/> <bool name='contained'/>
            </vmethod>
            <vmethod name='setTemperatureFromMap'>
                <bool name='local'/> <bool name='contained'/>
            </vmethod>
            <vmethod name='setTemperature'>
                <uint16_t name='temp'/> <bool name='local'/> <bool name='contained'/>
            </vmethod>
            <vmethod ret-type='bool' name='updateTempFromMap'>
                <bool name='local'/> <bool name='contained'/> <bool name='adjust'/>
                <int32_t name='multiplier'/>
            </vmethod>

            <vmethod ret-type='bool' name='updateTemperature'>
                <uint16_t name='temp'/> <bool name='local'/>
                <bool name='contained'/> <bool name='adjust'/>
                <int32_t name='multiplier'/>
            </vmethod>
            <vmethod ret-type='bool' name='updateFromWeather'/>
            <vmethod ret-type='bool' name='updateContaminants'>
                <int16_t name='x'/> <int16_t name='y'/> <int16_t name='z'/>
            </vmethod>
            <vmethod ret-type='bool' name='checkTemperatureDamage'/>
            <vmethod ret-type='bool' name='checkHeatColdDamage'/>

            -- 160

            <vmethod ret-type='bool' name='checkMeltBoil'/>
            <vmethod ret-type='job_skill' name='getMeleeSkill'/>
            <vmethod ret-type='job_skill' name='getRangedSkill'/>
            <vmethod name='setQuality'> <int16_t name='quality'/> </vmethod>
            <vmethod ret-type='int16_t' name='getQuality'/>

            <vmethod ret-type='int16_t' name='getOverallQuality'/>
            <vmethod ret-type='int16_t' name='getImprovementQuality'/>
            <vmethod ret-type='int16_t' name='getProjectileSize'/>
            <vmethod ret-type='bool' name='isImprovable'>
                <pointer type-name='job'/>
                <int16_t name='mat_type'/> <int32_t name='mat_index'/>
            </vmethod>
            <vmethod name='setSharpness'>
                <int16_t name='item_quality'/>
                <bool name='force_edge'/>
            </vmethod>

            -- 170

            <vmethod ret-type='int32_t' name='getSharpness'/>
            <vmethod ret-type='bool' name='isTotemable'/>
            <vmethod ret-type='bool' name='isDyeable'/>
            <vmethod ret-type='bool' name='isNotDyed' comment='dyeable_after_fact'/>
            <vmethod ret-type='bool' name='isDyed'/>

            <vmethod ret-type='bool' name='canSewImage'/>
            <vmethod ret-type='bool' name='canHaveImageSewnOnto'/>
            <vmethod ret-type='bool' name='isProcessableVialAtStill'/>
            <vmethod ret-type='bool' name='isSimilarToItem'>
                <enum base-type='int16_t' name='item_type' type-name='item_type'/>
                <int16_t name='item_subtype'/>
                <int16_t name='mat_type'/>
                <int16_t name='mat_index'/> actually int16 here
            </vmethod>
            <vmethod ret-type='int32_t' name='getBlockChance'/>

            -- 180

            <vmethod ret-type='int32_t' name='getParryChance'/>
            <vmethod ret-type='int16_t' name='getMakerRace'/>
            <vmethod name='setMakerRace'> <int16_t/> </vmethod>
            <vmethod ret-type='int8_t' name='getEffectiveArmorLevel'
                    comment="adds 1 if it has [METAL_ARMOR_LEVELS] and it's made of an inorganic mat"/>
            <vmethod ret-type='bool' name='isConstructed'/>

            <vmethod ret-type='bool' name='wantsThreadImprovement'/> only for item_cloth
            <vmethod ret-type='bool' name='wantsClothImprovement'/> for all constructed items
            <vmethod name='coverWithContaminant' comment='also stops fire; used for rain'>
                <int16_t name='mat_type'/> <int32_t name='mat_index'/>
                <enum type-name='matter_state' base-type='int16_t' name='mat_state'/>
                <uint16_t name='temperature'/>
            </vmethod>
            <vmethod ret-type='bool' name='hasSpecificImprovements'>
                <enum type-name='improvement_type' name='imp_type'/>
            </vmethod>
            <vmethod ret-type='bool' name='hasImprovements'/> any at all

            -- 190

            <vmethod ret-type='bool' name='isImproved'/>
            <vmethod name='getMagic'>
                <ret-type><pointer type-name='item_magicalst'/></ret-type>
            </vmethod>
            <vmethod name='getItemDescription'>
                <pointer type-name='stl-string'/>
                <int8_t name='plurality' comment="0 = prickle berries [2], 1 = prickle berry, 2 = prickle berries"/>
            </vmethod>
            <vmethod name='getItemDescriptionPrefix' comment='"a " or "the "'>
                <pointer type-name='stl-string'/>
                <enum name='mode' type-name='article_type'/>
            </vmethod>
            <vmethod name='getItemBasicName' comment='usually just "item"'>
                <pointer type-name='stl-string'/>
            </vmethod>

            <vmethod ret-type='int32_t' name='getImprovementsValue'> <pointer type-name='caravan_state' name='caravan'/> </vmethod>
            <vmethod ret-type='bool' name='isExtractBearingFish'/>
            <vmethod ret-type='bool' name='isExtractBearingVermin'/>
            <vmethod ret-type='int32_t' name='getMaterialSizeForMelting' comment='for armor, clothing, weapons, and tools, returns material size from the corresponding itemdef'/>
            <vmethod ret-type='int32_t' name='getBaseWeight'/>

            -- 200

            <vmethod ret-type='int32_t' name='getWeightShiftBits'/>
            <vmethod ret-type='bool' name='isCollected' comment='is_bin_item'/>
            <vmethod ret-type='bool' name='isEdibleVermin'/>
            <vmethod ret-type='uint8_t' name='drawSelf'/>
            <vmethod ret-type='bool' name='isRangedWeapon'/>

            <vmethod ret-type='bool' name='isClothing' comment='cabinetitem'/>
            <vmethod ret-type='bool' name='isWet'/>
            <vmethod ret-type='int32_t' name='getCurrencyValue' comment='that is, value of coins'>
                <pointer type-name='historical_entity' name='appraiser'/>
            </vmethod>
            <vmethod ret-type='bool' name='isAssignedToStockpile'/>
            <vmethod ret-type='bool' name='isAssignedToThisStockpile'> <int32_t/> </vmethod>

            -- 210

            <vmethod name='detachStockpileAssignment' comment='also removes links from the pile'/>
            <vmethod name='removeStockpileAssignment' comment='just wipes the fields'/>
            <vmethod name='getStockpile2'>
                <ret-type><pointer type-name='item_stockpile_ref'/></ret-type>
            </vmethod>
            <vmethod name='randomizeThreadImprovement' comment='this updates the quality of a thread improvement already added to the item (or adjusts the quality of a thread item) based on the skill of the dyer'>
                <int16_t name='mat_type'/>
                <int32_t name='mat_index'/>
                <pointer name='u' type-name='unit'/>
                <pointer name='j' type-name='job'/>
            </vmethod>
            <vmethod name='addImprovement' comment='use_image'>
                <int32_t name='art_chunk_id'/>
                <int16_t name='art_chunk_offse'/>
                <int32_t name='art_civ'/>
                <int32_t name='art_site'/>
                <int16_t name='material'/>
                <int32_t name='matgloss'/>
                <int16_t name='dye_material'/>
                <int32_t name='dye_matgloss'/>
                <pointer name='item' type-name='item'/>
                <int8_t name='quality'/>
                <int16_t name='skill_level'/>
                <int32_t name='artist_hf'/>
            </vmethod>

            <vmethod name='copyImprovementsFrom'><pointer type-name='item'/></vmethod>
            <vmethod ret-type='int32_t' name='getThreadDyeValue'> <pointer type-name='caravan_state' name='caravan'/> </vmethod>
            <vmethod name='getColorAndShape'>
                <pointer name='colors'><stl-vector type-name='int16_t'/></pointer>
                <pointer name='shapes'><stl-vector type-name='int16_t'/></pointer>
            </vmethod>
            <vmethod name='isCritter' ret-type='bool'/>
            <vmethod ret-type='bool' name='isArmor' comment='for armor user skill encumberance'/>

            -- 220

            <vmethod ret-type='int32_t' name='calcUniformScore'>
                <pointer type-name='squad_uniform_spec'/>
                <bool name='exact_match'/>
                <enum type-name='job_skill' name='best_any'/>
                <enum type-name='job_skill' name='best_melee'/>
                <enum type-name='job_skill' name='best_ranged'/>
            </vmethod>
            <vmethod ret-type='int32_t' name='calcBaseUniformScore'/>
            <vmethod ret-type='int32_t' name='get_attack_clothing_size'> <int32_t name='race_id'/><int32_t name='caste_id'/><int32_t name='maximum'/></vmethod>
            <vmethod ret-type='bool' name='is_structurally_elastic'/>
            <vmethod ret-type='bool' name='is_woven'/>

            <vmethod name='add_hf_kill'><int32_t name='kill_event'/><int32_t name='slayer_hf'/></vmethod>
            <vmethod name='add_non_hf_kill'><int16_t name='race'/><int16_t name='caste'/><int32_t name='subregion'/><int32_t name='feature_layer'/><int32_t name='site'/><int16_t name='kill_flag'/><int32_t name='slayer_hf'/><int32_t name='quantity'/></vmethod>
            <vmethod name='add_block_parry_deflect'/>
            <vmethod name='add_strike'/>
            <vmethod name='getSlabEngravingType'>
                <ret-type><enum type-name='slab_engraving_type'/></ret-type>
            </vmethod>

            -- 230

            <vmethod ret-type='int32_t' name='getAbsorption'/>
            <vmethod ret-type='bool' name='isGlazed'/>
            <vmethod ret-type='bool' name='isGemShapeable'/>
            <vmethod name='setGemShape'> <int32_t name='shape' ref-target='descriptor_shape'/> </vmethod>
            <vmethod ret-type='bool' name='isStoneShapeable'/>

            <vmethod name='getGemShape'>
                <ret-type><int32_t ref-target='descriptor_shape'/></ret-type>
            </vmethod>
            <vmethod ret-type='int32_t' name='getFaceUp' since='v0.47.01'/>
            <vmethod ret-type='bool' name='isStrappable' since='v0.40.01'/>
            <vmethod ret-type='bool' name='hasWriting'/>
            <vmethod is-destructor='true'/>
        </virtual-methods>
    </class-type>

    <class-type type-name='item_actual' inherits-from='item' original-name='item_actualst'>
        <int32_t name='stack_size' init-value='1'/>

        <code-helper name='describe'>
            (if (> $.stack_size 1) (fmt "stack: ~A" $.stack_size))
            (if (> $.wear 0) (fmt "wear: ~A" $.wear))
        </code-helper>

        <pointer name='history_info' type-name='item_profilest'/>

        <pointer name='magic' type-name='item_magicalst'/>

        <pointer name='contaminants'>
            <stl-vector pointer-type='spatter'/>
        </pointer>

        <compound name='temperature' type-name='temperaturest'/>

        <int16_t name='wear'/>
        <int32_t name='wear_timer' comment='counts up to 806400'/>

        <int32_t name='production_zone_id' init-value='-1' since='v0.34.01'/>
        <int32_t name='temp_updated_frame' init-value='-1'/>
    </class-type>

    <class-type type-name='item_barst' inherits-from='item_actual'>
        <int16_t name='subtype' comment='supposedly used for coal'/>
        <int16_t name='mat_type' ref-target='material' aux-value='$$.mat_index'/>
        <int32_t name='mat_index'/>
        <int32_t name='dimension' init-value='150'/>
    </class-type>

    <class-type type-name='item_smallgemst' inherits-from='item_actual'>
        <int16_t name='mat_type' ref-target='material' aux-value='$$.mat_index'/>
        <int32_t name='mat_index'/>
        <int32_t name='shape' ref-target='descriptor_shape'/>
    </class-type>

    <class-type type-name='item_blocksst' inherits-from='item_actual'>
        <int16_t name='mat_type' ref-target='material' aux-value='$$.mat_index'/>
        <int32_t name='mat_index'/>
    </class-type>

    <class-type type-name='item_roughst' inherits-from='item_actual'>
        <int16_t name='mat_type' ref-target='material' aux-value='$$.mat_index'/>
        <int32_t name='mat_index'/>
    </class-type>

    <class-type type-name='item_boulderst' inherits-from='item_actual'>
        <int16_t name='mat_type' ref-target='material' aux-value='$$.mat_index'/>
        <int32_t name='mat_index'/>
    </class-type>

    <bitfield-type type-name='item_rock_flag' base-type='uint32_t'> bay12: ITEM_ROCK_FLAG_*
        <flag-bit name='scraper'/>
        <flag-bit name='chisel'/>
    </bitfield-type>

    <class-type type-name='item_rockst' inherits-from='item_actual'>
        <int16_t name='mat_type' ref-target='material' aux-value='$$.mat_index'/>
        <int32_t name='mat_index'/>
        <int32_t name='sharpness'/>
        <bitfield name='rock_flag' base-type='uint32_t' type-name='item_rock_flag'/>
    </class-type>

    <class-type type-name='item_woodst' inherits-from='item_actual'>
        <int16_t name='mat_type' ref-target='material' aux-value='$$.mat_index'/>
        <int32_t name='mat_index'/>
    </class-type>

    <class-type type-name='item_branchst' inherits-from='item_actual'>
        <int16_t name='mat_type' ref-target='material' aux-value='$$.mat_index'/>
        <int32_t name='mat_index'/>
    </class-type>

    <enum-type type-name='corpse_material_type' base-type='int16_t'> bay12: ItemBodyComponentMaterialType
        <enum-item name='NONE' value='-1'/>
        <enum-item name='Plant'/>
        <enum-item name='Silk'/>
        <enum-item name='Leather'/>
        <enum-item name='Bone'/>
        <enum-item name='Shell'/>

        <enum-item name='Wood'/>
        <enum-item name='Soap'/>
        <enum-item name='Tooth'/>
        <enum-item name='Horn'/>
        <enum-item name='Pearl'/>

        <enum-item name='HairWool'/>
        <enum-item name='Yarn'/>
    </enum-type>

    <class-type type-name='item_body_component' inherits-from='item_actual'
                original-name='item_body_componentst'>
        <int16_t name='race' ref-target='creature_raw'/>
        <int32_t name='hist_figure_id' ref-target='historical_figure'/>
        <int32_t name='unit_id' ref-target='unit'/>
        <int16_t name='caste' ref-target='caste_raw' aux-value='$$.race'/>
        <enum name='sex' type-name='pronoun_type'/>

        <int16_t name='normal_race' ref-target='creature_raw' comment='unit.enemy.normal_race'/>
        <int16_t name='normal_caste' ref-target='caste_raw' aux-value='$$.normal_race' comment='unit.enemy.normal_caste'/>

        <int32_t name='rot_timer'/>
        <int8_t name='from_custom_body'/>

        <compound name='body'> not a compound
            <stl-vector name='wounds' pointer-type='unit_wound'/>

            <static-array name='systemic_wound_id' type-name='int32_t' count='10' index-enum='wound_effect_type'/>
            <int32_t name='wound_next_id'/>

            <compound name='components'> not a compound
                <stl-vector name='body_part_status' type-name='body_part_status'
                            index-refers-to='$$._global._upglobal.caste.ref-target.body_info.body_parts[$]'/>

                <stl-vector name='numbered_masks' type-name='uint32_t'
                            comment='1 bit per instance of a numbered body part'/>
                <stl-vector name='nonsolid_remaining' type-name='uint32_t' comment='0-100%'
                            index-refers-to='$$._global._upglobal.caste.ref-target.body_info.nonsolid_layers[$].refers-to'/>

                <stl-vector name='layer_status' type-name='body_layer_status'
                            index-refers-to='$$._global._upglobal.caste.ref-target.body_info.layer_idx[$].refers-to'/>
                <stl-vector name='layer_wound_area' type-name='uint32_t'
                            index-refers-to='$$._global._upglobal.caste.ref-target.body_info.layer_idx[$].refers-to'/>

                Surface percentages for cuts/fractures, dents and effects (such as
                bruises, burns, frostbite, melting, freezing, necrosis, and blistering)
                <stl-vector name='layer_cut_fraction' type-name='uint32_t' comment='0-10000'
                            index-refers-to='$$._global._upglobal.caste.ref-target.body_info.layer_idx[$].refers-to'/>
                <stl-vector name='layer_dent_fraction' type-name='uint32_t' comment='0-10000'
                            index-refers-to='$$._global._upglobal.caste.ref-target.body_info.layer_idx[$].refers-to'/>
                <stl-vector name='layer_effect_fraction' type-name='uint32_t' comment='0-1000000000'
                            index-refers-to='$$._global._upglobal.caste.ref-target.body_info.layer_idx[$].refers-to'/>
            </compound>

            <static-array type-name='int32_t' name='physical_attr_value'
                          count='6' index-enum='physical_attribute_type'/>
            <static-array type-name='int32_t' name='physical_attr_soft_demotion'
                          count='6' index-enum='physical_attribute_type'/>

            <compound name='size_info'> not a compound
                <int32_t name='size_cur'/>
                <int32_t name='size_base'/>
                <int32_t name='area_cur' comment='size_cur^0.666'/>
                <int32_t name='area_base' comment='size_base^0.666'/>
                <int32_t name='length_cur' comment='(size_cur*10000)^0.333'/>
                <int32_t name='length_base' comment='(size_base*10000)^0.333'/>
            </compound>

            <stl-vector name='body_part_relsize' type-name='int32_t' comment='=unit.enemy.body_part_relsize'/>
            <stl-vector name='body_modifiers' type-name='int32_t'
                        index-refers-to='$$._global.caste.ref-target.body_appearance_modifiers[$]'/>
            <stl-vector name='bp_modifiers' type-name='int32_t'
                        index-refers-to='$$._global.caste.ref-target.bp_appearance.modifier_idx[$].refers-to'/>
        </compound>

        <int32_t name="size_modifier" comment='=unit.appearance.size_modifier'/>
        <int32_t name="birth_year"/>
        <int32_t name="birth_time"/>
        <int32_t name='curse_year' since='v0.34.01'/>
        <int32_t name='curse_time' since='v0.34.01'/>
        <int32_t name='birth_year_bias' init-value='0' since='v0.34.01'/>
        <int32_t name='birth_time_bias' init-value='0' since='v0.34.01'/>
        <int32_t name="death_year"/>
        <int32_t name="death_time"/>

        <compound name='appearance'> not a compound
            <stl-vector name='colors' type-name='int32_t'/>

            <stl-vector name='tissue_style' type-name='tissue_style_type'/>
            <stl-vector name='tissue_style_civ_id' type-name='int32_t'/>
            <stl-vector name='tissue_style_id' type-name='int32_t'/>
            <stl-vector name='tissue_style_type' type-name='int32_t'/>
        </compound>

        <int32_t name="blood_count"/>
        <int32_t name="stored_fat"/>

        <int32_t name='hist_figure_id2' ref-target='historical_figure'/>

        <int32_t name='undead_unit_id' ref-target='unit' since='v0.34.01'/>
        <int32_t name='unit_id2' ref-target='unit'/>

        <bitfield name='corpse_flags' base-type='uint32_t' type-name='item_body_component_flag'/>

        <static-array name='material_amount' type-name='int32_t'
                      count='19' index-enum='corpse_material_type'/>

        <compound name='largest_tissue'>
            <int16_t name='mat_type' ref-target='material' aux-value='$$.mat_index'/>
            <int32_t name='mat_index'/>
        </compound>
        <compound name='largest_unrottable_tissue'>
            <int16_t name='mat_type' ref-target='material' aux-value='$$.mat_index'/>
            <int32_t name='mat_index'/>
        </compound>
    </class-type>

    <class-type type-name='item_corpsest' inherits-from='item_body_component'>
        <static-array name='texpos' count='3'><static-array count='2' type-name='int32_t'/></static-array>
        <static-array name='texpos_currently_in_use' count='3'><static-array count='2' type-name='bool'/></static-array>
        <int32_t name='sheet_icon_texpos'/>
    </class-type>

    <class-type type-name='item_corpsepiecest' inherits-from='item_body_component'/>

    <bitfield-type type-name='item_liquipowder_flag' base-type='uint32_t'> bay12: ITEMFLAG_LIQUIPOWDER_*
        <flag-bit name='no_auto_clean'/>
    </bitfield-type>

    <class-type type-name='item_liquipowder' inherits-from='item_actual'
                original-name='item_liquipowderst'>
        <bitfield name='lp_flags' base-type='uint32_t' type-name='item_liquipowder_flag'/>
        <int32_t name='dimension' init-value='150'/>
    </class-type>

    <class-type type-name='item_liquid' inherits-from='item_liquipowder' original-name='item_liquidst'/>

    <class-type type-name='item_powder' inherits-from='item_liquipowder' original-name='item_powderst'/>

    <class-type type-name='item_drinkst' inherits-from='item_liquid'>
        <int16_t name='mat_type' ref-target='material' aux-value='$$.mat_index'/>
        <int32_t name='mat_index'/>
    </class-type>

    <class-type type-name='item_powder_miscst' inherits-from='item_powder'>
        <int16_t name='mat_type' ref-target='material' aux-value='$$.mat_index'/>
        <int32_t name='mat_index'/>
    </class-type>

    <bitfield-type type-name='item_liquid_misc_flag' base-type='uint32_t'> bay12: LIQUID_MISC_FLAG_*
        <flag-bit name='paste'/>
    </bitfield-type>

    <class-type type-name='item_liquid_miscst' inherits-from='item_liquid'>
        <int16_t name='mat_type' ref-target='material' aux-value='$$.mat_index'/>
        <int32_t name='mat_index'/>
        <bitfield name='liquid_misc_flags' base-type='uint32_t' type-name='item_liquid_misc_flag'/>
    </class-type>

    <bitfield-type type-name='item_glob_flag' base-type='uint32_t'> bay12: ITEMFLAG_GLOB_*
        <flag-bit name='no_auto_clean'/>
        <flag-bit name='pressed'/>
        <flag-bit name='paste'/>
    </bitfield-type>

    <class-type type-name='item_globst' inherits-from='item_actual'>
        <int16_t name='mat_type' ref-target='material' aux-value='$$.mat_index'/>
        <int32_t name='mat_index'/>
        <int32_t name='rot_timer'/>
        <bitfield name='glob_flags' base-type='uint32_t' type-name='item_glob_flag'/>
        <int32_t name='dimension'/>
    </class-type>

    <class-type type-name='item_remainsst' inherits-from='item_actual'>
        <int16_t name='race' ref-target='creature_raw'/>
        <int16_t name='caste' ref-target='caste_raw' aux-value='$$.race'/>
        <int32_t name='rot_timer'/>
    </class-type>

    <class-type type-name='item_meatst' inherits-from='item_actual'>
        <int16_t name='mat_type' ref-target='material' aux-value='$$.mat_index'/>
        <int32_t name='mat_index'/>
        <int32_t name='rot_timer'/>
    </class-type>

    <class-type type-name='item_fishst' inherits-from='item_actual'>
        <int16_t name='race' ref-target='creature_raw'/>
        <int16_t name='caste' ref-target='caste_raw' aux-value='$$.race'/>
        <int32_t name='rot_timer'/>
    </class-type>

    <class-type type-name='item_fish_rawst' inherits-from='item_actual'>
        <int16_t name='race' ref-target='creature_raw'/>
        <int16_t name='caste' ref-target='caste_raw' aux-value='$$.race'/>
        <int32_t name='rot_timer'/>
    </class-type>

    <bitfield-type type-name='item_egg_flag' base-type='uint32_t'> bay12: ITEM_EGG_FLAG_*
        <flag-bit name='fertile' comment='allows the incubation_counter to be checked/incremented'/>
        <flag-bit name='make_nemesis'/>
    </bitfield-type>

    <class-type type-name='item_eggst' inherits-from='item_actual'>
        <int16_t name='race' ref-target='creature_raw'/>
        <int16_t name='caste' ref-target='caste_raw' aux-value='$$.race'/>
        <int32_t name='rot_timer'/>
        <compound name='egg_materials' type-name='material_vec_ref'/>

        <bitfield name='egg_flags' base-type='uint32_t' type-name='item_egg_flag'/>

        <int32_t name='incubation_counter' init-value='0'
                 comment='increments when fertile in unforbidden nestbox, hatch at >= 100800 (3 months)'/>

        <int32_t name='hatchling_civ_id' ref-target='historical_entity'
                 comment='hatchlings will have this civ_id'/>
        <int32_t name='hatchling_population_id' ref-target='entity_population'
                 comment='hatchlings will have this population_id'/>
        <int32_t name='hatchling_breed_id' ref-target='breed'/>
        <int32_t name='hatchling_cultural_identity_id' ref-target='cultural_identity' since='v0.40.01'/>

        <pointer name='mothers_genes' type-name='unit_genes' comment='object owned by egg item'/>
        <int16_t name='mothers_caste' ref-target='caste_raw' aux-value='$$.race'/>
        <int32_t name='mother_hf' ref-target='historical_figure' since='v0.40.01'/>

        <pointer name='fathers_genes' type-name='unit_genes' comment='object owned by egg item'/>
        <int16_t name='fathers_caste' ref-target='caste_raw' aux-value='$$.race'
                 comment='-1 if no father genes'/>
        <int32_t name='father_hf' ref-target='historical_figure' since='v0.40.01'/>

        <bitfield name='hatchling_flags1' type-name='unit_flags1'
                  comment='used primarily for bit_flag:tame'/>
        <bitfield name='hatchling_flags2' type-name='unit_flags2'
                  comment='used primarily for bit_flag:roaming_wilderness_population_source'/>
        <bitfield name='hatchling_flags3' type-name='unit_flags3'
                  comment='not normally used, most/all do not stick'/>
        <bitfield name='hatchling_flags4' type-name='unit_flags4'
                  comment='not normally used, most/all do not stick'/>

        <enum name='hatchling_training_level'
              type-name='animal_training_level' init-value='WildUntamed'/>

        <compound name='hatchling_animal_population' type-name='world_population_ref'/>
        <int32_t name='hatchling_mother_id' ref-target='unit'/>
        <int32_t name='size'/>
    </class-type>

    <class-type type-name='item_critter' inherits-from='item_actual' original-name='item_critterst'>
        <int16_t name='race' ref-target='creature_raw'/>
        <int16_t name='caste' ref-target='caste_raw' aux-value='$$.race'/>
        <int32_t name='milk_timer'/>
        <int32_t name='airdrown_timer'/>
        <compound name='name' type-name='language_name'/>
    </class-type>

    <class-type type-name='item_verminst' inherits-from='item_critter'/>

    <bitfield-type type-name='item_pet_flag' base-type='uint32_t'> bay12: ITEM_PET_FLAG_*
        <flag-bit name='available_for_adoption'/>
    </bitfield-type>

    <class-type type-name='item_petst' inherits-from='item_critter'>
        <int32_t name='owner_id' ref-target='unit'/>
        <bitfield name='pet_flags' base-type='uint32_t' type-name='item_pet_flag'/>
    </class-type>

    <class-type type-name='item_seedsst' inherits-from='item_actual'>
        <int16_t name='mat_type' ref-target='material' aux-value='$$.mat_index'/>
        <int32_t name='mat_index'/>
        <int32_t name='grow_counter'/>
        <int32_t name='planting_skill'/>
    </class-type>

    <class-type type-name='item_plantst' inherits-from='item_actual'>
        <int16_t name='mat_type' ref-target='material' aux-value='$$.mat_index'/>
        <int32_t name='mat_index'/>
        <int32_t name='rot_timer'/>
    </class-type>

    <class-type type-name='item_skin_tannedst' inherits-from='item_actual'>
        <int16_t name='mat_type' ref-target='material' aux-value='$$.mat_index'/>
        <int32_t name='mat_index'/>
        <int32_t name='rot_timer' comment='even though leather does not rot'/>
    </class-type>

    <class-type type-name='item_plant_growthst' inherits-from='item_actual'>
        <int16_t name='subtype'/>
        <int32_t name='growth_print'/>
        <int16_t name='mat_type' ref-target='material' aux-value='$$.mat_index'/>
        <int32_t name='mat_index'/>
        <int32_t name='rot_timer'/>
    </class-type>

    <class-type type-name='item_ballistaarrowheadst' inherits-from='item_actual'>
        <int16_t name='mat_type' ref-target='material' aux-value='$$.mat_index'/>
        <int32_t name='mat_index'/>
        <int32_t name='sharpness' init-value='10000' since='v0.40.15'/>
    </class-type>

    <class-type type-name='item_cheesest' inherits-from='item_actual'>
        <int16_t name='mat_type' ref-target='material' aux-value='$$.mat_index'/>
        <int32_t name='mat_index'/>
        <int32_t name='rot_timer'/>
    </class-type>

    <class-type type-name='item_threadst' inherits-from='item_actual'>
        <int16_t name='mat_type' ref-target='material' aux-value='$$.mat_index'/>
        <int32_t name='mat_index'/>
        <int16_t name='dye_mat_type' ref-target='material' aux-value='$$.dye_mat_index'/>
        <int32_t name='dye_mat_index'/>
        <int32_t name='dyer' ref-target='historical_figure'/>
        <int32_t name='dye_masterpiece_event' ref-target='history_event'/>
        <int16_t name='dye_quality'/>
        <int16_t name='dye_skill'/>
        <int32_t name='dye_age'/>
        <bool name='is_thick'/>
        <int32_t name='dimension' init-value='15000'/>
    </class-type>

    <class-type type-name='item_crafted' inherits-from='item_actual'
                original-name='item_craftedst'>
        <int16_t name='mat_type' ref-target='material' aux-value='$$.mat_index'/>
        <int32_t name='mat_index'/>

        <code-helper name='describe'>
            $.quality
            (describe-obj (material-by-id $.mat_type $.mat_index))
        </code-helper>

        <int16_t name='maker_race' ref-target='creature_raw'/>
        <enum base-type='int16_t' name='quality' type-name='item_quality'/>
        <enum base-type='int32_t' name="skill_rating" type-name='skill_rating'
              comment='at the moment of creation'/>
        <int32_t name='maker' ref-target='historical_figure'/>
        <int32_t name='masterpiece_event' ref-target='history_event'/>
    </class-type>

    <class-type type-name='item_foodst' inherits-from='item_crafted'>
        <pointer name='subtype' type-name='itemdef_foodst'/>
        <int32_t name='entity' ref-target='historical_entity'/>
        <int16_t name='recipe_id'/>
        <stl-vector name='ingredients' pointer-type='food_ingredientst'/>
        <int32_t name='rot_timer'/>
    </class-type>

    <class-type type-name='item_constructed' inherits-from='item_crafted'
                original-name='item_constructedst'>
        <stl-vector name='improvements' pointer-type='itemimprovement'/>
    </class-type>

    <class-type type-name='item_clothst' inherits-from='item_constructed'>
        <int32_t name='dimension' init-value='10000'/>
    </class-type>

    <bitfield-type type-name='item_sheet_flag' base-type='uint32_t'> bay12: ITEMFLAG_SHEET_*
        <flag-bit name='paste'/>
        <flag-bit name='pressed'/>
    </bitfield-type>

    <class-type type-name='item_sheetst' inherits-from='item_constructed'>
        <int32_t name='dimension'/>
        <bitfield name='sheet_flags' base-type='uint32_t' type-name='item_sheet_flag'/>
    </class-type>

    <class-type type-name='item_doorst' inherits-from='item_constructed'/>

    <class-type type-name='item_floodgatest' inherits-from='item_constructed'/>

    <class-type type-name='item_hatch_coverst' inherits-from='item_constructed'/>

    <class-type type-name='item_gratest' inherits-from='item_constructed'/>

    <class-type type-name='item_bedst' inherits-from='item_constructed'/>

    <class-type type-name='item_traction_benchst' inherits-from='item_constructed'/>

    <class-type type-name='item_chairst' inherits-from='item_constructed'/>

    <class-type type-name='item_chainst' inherits-from='item_constructed'/>

    <class-type type-name='item_flaskst' inherits-from='item_constructed'/>

    <class-type type-name='item_gobletst' inherits-from='item_constructed'/>

    <class-type type-name='item_instrumentst' inherits-from='item_constructed'>
        <pointer name='subtype' type-name='itemdef_instrumentst'/>
    </class-type>

    <class-type type-name='item_toyst' inherits-from='item_constructed'>
        <pointer name='subtype' type-name='itemdef_toyst'/>
    </class-type>

    <class-type type-name='item_toolst' inherits-from='item_constructed'>
        <pointer name='subtype' type-name='itemdef_toolst'/>
        <int32_t name='sharpness'/>
        <compound name='stockpile' type-name='item_stockpile_ref'/>
        <int32_t name='vehicle_id' ref-target='vehicle' since='v0.34.08'/>
        <int32_t name='shape' since='v0.47.01' ref-target='descriptor_shape'/>
        <int32_t name='face_up' since='v0.47.01' init-value='-1'/>
    </class-type>

    <class-type type-name='item_windowst' inherits-from='item_constructed'/>

    <class-type type-name='item_cagest' inherits-from='item_constructed'/>

    <class-type type-name='item_barrelst' inherits-from='item_constructed'>
        <compound name='stockpile' type-name='item_stockpile_ref'/>
    </class-type>

    <class-type type-name='item_bucketst' inherits-from='item_constructed'/>

    <class-type type-name='item_animaltrapst' inherits-from='item_constructed'/>

    <class-type type-name='item_tablest' inherits-from='item_constructed'/>

    <class-type type-name='item_coffinst' inherits-from='item_constructed'/>

    <class-type type-name='item_statuest' inherits-from='item_constructed'>
        <compound name='image'> not a compound
            <int32_t name='id' ref-target='art_image_chunk'/>
            <int16_t name='subid' ref-target='art_image' aux-value='$$.id'/>
            <int32_t name='civ_id' ref-target='historical_entity' since='v0.34.01'/>
            <int32_t name='site_id' ref-target='world_site' since='v0.34.01'/>
        </compound>
        <stl-string name='description'/>
        <int32_t name='art_graphics_type'/>
        <int32_t name='art_graphics_id'/>
    </class-type>

    <class-type type-name='item_slabst' inherits-from='item_constructed'>
        <stl-string name='description'/>
        <int32_t name='topic' ref-target='historical_figure' comment='or interaction id for secrets'/>
        <enum type-name='slab_engraving_type' name='engraving_type'/>
    </class-type>

    <class-type type-name='item_quernst' inherits-from='item_constructed'/>

    <class-type type-name='item_millstonest' inherits-from='item_constructed'/>

    <class-type type-name='item_weaponst' inherits-from='item_constructed'>
        <pointer name='subtype' type-name='itemdef_weaponst'/>
        <int32_t name='sharpness'/>
    </class-type>

    <class-type type-name='item_armorst' inherits-from='item_constructed'>
        <pointer name='subtype' type-name='itemdef_armorst'/>
    </class-type>

    <class-type type-name='item_shoesst' inherits-from='item_constructed'>
        <pointer name='subtype' type-name='itemdef_shoesst'/>
    </class-type>

    <class-type type-name='item_shieldst' inherits-from='item_constructed'>
        <pointer name='subtype' type-name='itemdef_shieldst'/>
    </class-type>

    <class-type type-name='item_helmst' inherits-from='item_constructed'>
        <pointer name='subtype' type-name='itemdef_helmst'/>
    </class-type>

    <enum-type type-name='glove_handedness'> bay12: ItemGloveFlagType, no base type
        <enum-item name='RIGHT'/>
        <enum-item name='LEFT'/>
    </enum-type>

    <class-type type-name='item_glovesst' inherits-from='item_constructed'>
        <pointer name='subtype' type-name='itemdef_glovesst'/>
        <df-flagarray name='handedness' index-enum='glove_handedness'/>
    </class-type>

    <class-type type-name='item_boxst' inherits-from='item_constructed'/>

    <class-type type-name='item_bagst' inherits-from='item_constructed'/>

    <class-type type-name='item_binst' inherits-from='item_constructed'>
        <compound name='stockpile' type-name='item_stockpile_ref'/>
    </class-type>

    <class-type type-name='item_armorstandst' inherits-from='item_constructed'/>

    <class-type type-name='item_weaponrackst' inherits-from='item_constructed'/>

    <class-type type-name='item_cabinetst' inherits-from='item_constructed'/>

    <class-type type-name='item_bookst' inherits-from='item_constructed'>
        <stl-string name='title'/>
    </class-type>

    <class-type type-name='item_figurinest' inherits-from='item_constructed'>
        <compound name='image'> not a compound
            <int32_t name='id' ref-target='art_image_chunk'/>
            <int16_t name='subid' ref-target='art_image' aux-value='$$.id'/>
            <int32_t name='civ_id' ref-target='historical_entity' since='v0.34.01'/>
            <int32_t name='site_id' ref-target='world_site' since='v0.34.01'/>
        </compound>
        <stl-string name='description'/>
    </class-type>

    <class-type type-name='item_amuletst' inherits-from='item_constructed'/>

    <class-type type-name='item_scepterst' inherits-from='item_constructed'/>

    <class-type type-name='item_ammost' inherits-from='item_constructed'>
        <pointer name='subtype' type-name='itemdef_ammost'/>
        <int32_t name='sharpness'/>
    </class-type>

    <class-type type-name='item_crownst' inherits-from='item_constructed'/>

    <class-type type-name='item_ringst' inherits-from='item_constructed'/>

    <class-type type-name='item_earringst' inherits-from='item_constructed'/>

    <class-type type-name='item_braceletst' inherits-from='item_constructed'/>

    <class-type type-name='item_gemst' inherits-from='item_constructed'>
        <int32_t name='shape' ref-target='descriptor_shape'/>
    </class-type>

    <class-type type-name='item_anvilst' inherits-from='item_constructed'/>

    <class-type type-name='item_totemst' inherits-from='item_constructed'>
        <int16_t name='race' ref-target='creature_raw'/>
        <int16_t name='caste' ref-target='caste_raw' aux-value='$$.race'/>
        <int16_t name='body_part_idx'/>
    </class-type>

    <class-type type-name='item_pantsst' inherits-from='item_constructed'>
        <pointer name='subtype' type-name='itemdef_pantsst'/>
    </class-type>

    <class-type type-name='item_backpackst' inherits-from='item_constructed'/>

    <class-type type-name='item_quiverst' inherits-from='item_constructed'/>

    <class-type type-name='item_splintst' inherits-from='item_constructed'/>

    <class-type type-name='item_orthopedic_castst' inherits-from='item_constructed'>
        <stl-string name='body_part'/>
        <stl-string name='material'/>
    </class-type>

    <class-type type-name='item_crutchst' inherits-from='item_constructed'/>

    <class-type type-name='item_catapultpartsst' inherits-from='item_constructed'/>

    <class-type type-name='item_ballistapartsst' inherits-from='item_constructed'/>

    <class-type type-name='item_siegeammost' inherits-from='item_constructed'>
        <pointer name='subtype' type-name='itemdef_siegeammost'/>
        <int32_t name='sharpness' init-value='10000' since='v0.40.15'/>
    </class-type>

    <class-type type-name='item_pipe_sectionst' inherits-from='item_constructed'/>

    <class-type type-name='item_trappartsst' inherits-from='item_constructed'/>

    <class-type type-name='item_trapcompst' inherits-from='item_constructed'>
        <pointer name='subtype' type-name='itemdef_trapcompst'/>
        <int32_t name='sharpness'/>
    </class-type>

    <class-type type-name='item_coinst' inherits-from='item_constructed'>
        <int16_t name='coin_batch' ref-target='coin_batch'/>
    </class-type>

    <struct-type type-name='tradegoodslistst'>
        <pointer name='it' type-name='item'/>
        <int32_t name='dist'/>
        <int8_t name='tag'/>
        <bool name='prohibited'/>
        <int32_t name='value'/>
        <bool name='expanded_container'/>
        <int32_t name='container_amount'/>
        <int32_t name='sort_value'/>
    </struct-type>

    <struct-type type-name='assign_trade_itemlistst'>
        <stl-vector name='tgi' pointer-type='tradegoodslistst'/>
    </struct-type>

    <struct-type type-name='itemlistst'>
        <stl-vector name='l_item' pointer-type='item'/>
    </struct-type>

    <struct-type type-name='abstractitemlistst'>
        <stl-vector name='type' type-name='int16_t'/>
        <stl-vector name='subtype' type-name='int16_t'/>
        <stl-vector name='subcat1' type-name='int16_t'/>
        <stl-vector name='subcat2' type-name='int16_t'/>
        <stl-vector name='amount' type-name='int32_t'/>
        <stl-bit-vector name='expanded'/>
    </struct-type>

    -- Unused: ItemSaveCompat

    -- Helper type for item_handlerst
    <enum-type type-name='items_other_id'>
        <enum-attr name='item' type-name='item_type' default-value='NONE'
                   comment='if the vector is the master vector for an item type'/>
        <enum-attr name='generic_item' type-name='item_type' is-list='true'
                   comment='if nonempty, an exhaustive list of all possible contained types'/>

        <enum-item name='ANY' value='-1'/>

        -- 0

        <enum-item name='IN_PLAY' comment='actually on the map, as opposed to in an offloaded fortress elsewhere'/>
        <enum-item name='ANY_ARTIFACT'/>

        <enum-item name='WEAPON'>
            <item-attr name='item' value='WEAPON'/>
        </enum-item>
        <enum-item name='ANY_WEAPON' comment='trapcomp, also weapons'>
            <item-attr name='generic_item' value='WEAPON'/>
            <item-attr name='generic_item' value='TRAPCOMP'/>
        </enum-item>
        <enum-item name='ANY_SPIKE'>
            <item-attr name='generic_item' value='WEAPON'/>
            <item-attr name='generic_item' value='TRAPCOMP'/>
        </enum-item>

        <enum-item name='ANY_TRUE_ARMOR'>
            <item-attr name='generic_item' value='ARMOR'/>
        </enum-item>
        <enum-item name='ANY_ARMOR_HELM'>
            <item-attr name='generic_item' value='HELM'/>
        </enum-item>
        <enum-item name='ANY_ARMOR_SHOES'>
            <item-attr name='generic_item' value='SHOES'/>
        </enum-item>
        <enum-item name='SHIELD'>
            <item-attr name='item' value='SHIELD'/>
        </enum-item>
        <enum-item name='ANY_ARMOR_GLOVES'>
            <item-attr name='generic_item' value='GLOVES'/>
        </enum-item>

        -- 10

        <enum-item name='ANY_ARMOR_PANTS'>
            <item-attr name='generic_item' value='PANTS'/>
        </enum-item>
        <enum-item name='QUIVER'>
            <item-attr name='item' value='QUIVER'/>
        </enum-item>
        <enum-item name='SPLINT'>
            <item-attr name='item' value='SPLINT'/>
        </enum-item>
        <enum-item name='ORTHOPEDIC_CAST'>
            <item-attr name='item' value='ORTHOPEDIC_CAST'/>
        </enum-item>
        <enum-item name='CRUTCH'>
            <item-attr name='item' value='CRUTCH'/>
        </enum-item>

        <enum-item name='BACKPACK'>
            <item-attr name='item' value='BACKPACK'/>
        </enum-item>
        <enum-item name='AMMO'>
            <item-attr name='item' value='AMMO'/>
        </enum-item>
        <enum-item name='WOOD'>
            <item-attr name='item' value='WOOD'/>
        </enum-item>
        <enum-item name='BRANCH'>
            <item-attr name='item' value='BRANCH'/>
        </enum-item>
        <enum-item name='BOULDER'>
            <item-attr name='item' value='BOULDER'/>
        </enum-item>

        -- 20

        <enum-item name='ROCK'>
            <item-attr name='item' value='ROCK'/>
        </enum-item>
        <enum-item name='ANY_REFUSE'>
            <item-attr name='generic_item' value='CORPSE'/>
            <item-attr name='generic_item' value='ARMOR'/>
            <item-attr name='generic_item' value='SHOES'/>
            <item-attr name='generic_item' value='HELM'/>
            <item-attr name='generic_item' value='GLOVES'/>
            <item-attr name='generic_item' value='CORPSEPIECE'/>
            <item-attr name='generic_item' value='REMAINS'/>
            <item-attr name='generic_item' value='PANTS'/>
            rotten:
            <item-attr name='generic_item' value='MEAT'/>
            <item-attr name='generic_item' value='FISH'/>
            <item-attr name='generic_item' value='FISH_RAW'/>
            <item-attr name='generic_item' value='SEEDS'/>
            <item-attr name='generic_item' value='PLANT'/>
            <item-attr name='generic_item' value='PLANT_GROWTH'/>
            <item-attr name='generic_item' value='CHEESE'/>
            <item-attr name='generic_item' value='FOOD'/>
            <item-attr name='generic_item' value='EGG'/>
            do_not_clean:
            <item-attr name='generic_item' value='GLOB'/>
        </enum-item>
        <enum-item name='ANY_GOOD_FOOD'>
            <item-attr name='generic_item' value='BOX'/>
            not rotten:
            <item-attr name='generic_item' value='MEAT'/>
            <item-attr name='generic_item' value='FISH'/>
            <item-attr name='generic_item' value='FISH_RAW'/>
            <item-attr name='generic_item' value='SEEDS'/>
            <item-attr name='generic_item' value='PLANT'/>
            <item-attr name='generic_item' value='PLANT_GROWTH'/>
            <item-attr name='generic_item' value='CHEESE'/>
            <item-attr name='generic_item' value='FOOD'/>
            <item-attr name='generic_item' value='EGG'/>
        </enum-item>
        <enum-item name='ANY_AUTO_CLEAN'>
            if on_ground, deleted on tick 1 of every season
            <item-attr name='generic_item' value='DRINK'/>
            <item-attr name='generic_item' value='POWDER_MISC'/>
            <item-attr name='generic_item' value='LIQUID_MISC'/>
            <item-attr name='generic_item' value='GLOB'/>
        </enum-item>
        <enum-item name='ANY_EXTRACTABLE'>
            <item-attr name='generic_item' value='CAGE'/>
            <item-attr name='generic_item' value='ANIMALTRAP'/>
            <item-attr name='generic_item' value='FISH_RAW'/>
            <item-attr name='generic_item' value='VERMIN'/>
            <item-attr name='generic_item' value='PLANT'/>
        </enum-item>

        <enum-item name='ANY_BUTCHERABLE'>
            <item-attr name='generic_item' value='CAGE'/>
            <item-attr name='generic_item' value='ANIMALTRAP'/>
            <item-attr name='generic_item' value='CORPSE'/>
            <item-attr name='generic_item' value='CORPSEPIECE'/>
            <item-attr name='generic_item' value='VERMIN'/>
        </enum-item>
        <enum-item name='ANY_FURNITURE'/>
        <enum-item name='ANY_CAGE_OR_TRAP'>
            <item-attr name='generic_item' value='CAGE'/>
            <item-attr name='generic_item' value='ANIMALTRAP'/>
        </enum-item>
        <enum-item name='ANY_EDIBLE_RAW'/>
        <enum-item name='ANY_EDIBLE_CARNIVORE'/>

        -- 30

        <enum-item name='ANY_EDIBLE_BONECARN'/>
        <enum-item name='ANY_EDIBLE_VERMIN'/>
        <enum-item name='ANY_EDIBLE_VERMIN_BOX'>
            <item-attr name='generic_item' value='BARREL'/>
            <item-attr name='generic_item' value='BOX'/>
            BASE*
        </enum-item>
        <enum-item name='ANY_CAN_ROT'>
            <item-attr name='generic_item' value='CORPSE'/>
            <item-attr name='generic_item' value='CORPSEPIECE'/>
            <item-attr name='generic_item' value='REMAINS'/>

            <item-attr name='generic_item' value='MEAT'/>
            <item-attr name='generic_item' value='FISH'/>
            <item-attr name='generic_item' value='FISH_RAW'/>
            <item-attr name='generic_item' value='SEEDS'/>
            <item-attr name='generic_item' value='PLANT'/>
            <item-attr name='generic_item' value='PLANT_GROWTH'/>
            <item-attr name='generic_item' value='CHEESE'/>
            <item-attr name='generic_item' value='FOOD'/>
            <item-attr name='generic_item' value='EGG'/>
        </enum-item>
        <enum-item name='ANY_MURDERED'>
            <item-attr name='generic_item' value='CORPSE'/>
            <item-attr name='generic_item' value='CORPSEPIECE'/>
            <item-attr name='generic_item' value='REMAINS'/>
        </enum-item>

        <enum-item name='ANY_DEAD_DWARF'/>
        <enum-item name='ANY_GOES_IN_CHEST'>
            <item-attr name='generic_item' value='BAR'/>
            <item-attr name='generic_item' value='SMALLGEM'/>
            <item-attr name='generic_item' value='BLOCKS'/>
            <item-attr name='generic_item' value='ROUGH'/>
            <item-attr name='generic_item' value='CHAIN'/>
            <item-attr name='generic_item' value='FLASK'/>
            <item-attr name='generic_item' value='GOBLET'/>
            <item-attr name='generic_item' value='INSTRUMENT'/>
            <item-attr name='generic_item' value='TOY'/>
            <item-attr name='generic_item' value='FIGURINE'/>
            <item-attr name='generic_item' value='AMULET'/>
            <item-attr name='generic_item' value='SCEPTER'/>
            <item-attr name='generic_item' value='AMMO'/>
            <item-attr name='generic_item' value='CROWN'/>
            <item-attr name='generic_item' value='RING'/>
            <item-attr name='generic_item' value='EARRING'/>
            <item-attr name='generic_item' value='BRACELET'/>
            <item-attr name='generic_item' value='GEM'/>
            <item-attr name='generic_item' value='SKIN_TANNED'/>
            <item-attr name='generic_item' value='THREAD'/>
            <item-attr name='generic_item' value='CLOTH'/>
            <item-attr name='generic_item' value='TOTEM'/>
            <item-attr name='generic_item' value='BACKPACK'/>
            <item-attr name='generic_item' value='QUIVER'/>
            <item-attr name='generic_item' value='BALLISTAARROWHEAD'/>
            <item-attr name='generic_item' value='COIN'/>
            <item-attr name='generic_item' value='SPLINT'/>
            <item-attr name='generic_item' value='TOOL'/>
            <item-attr name='generic_item' value='BOOK'/>
        </enum-item>
        <enum-item name='ANY_GOES_IN_CABINET'>
            <item-attr name='generic_item' value='ARMOR'/>
            <item-attr name='generic_item' value='SHOES'/>
            <item-attr name='generic_item' value='HELM'/>
            <item-attr name='generic_item' value='GLOVES'/>
            <item-attr name='generic_item' value='PANTS'/>
        </enum-item>
        <enum-item name='ANY_GOES_IN_WEAPONRACK'>
            <item-attr name='generic_item' value='WEAPON'/>
            <item-attr name='generic_item' value='TRAPCOMP'/>
            <item-attr name='generic_item' value='SIEGEAMMO'/>
        </enum-item>
        <enum-item name='ANY_GOES_IN_ARMORSTAND'>
            <item-attr name='generic_item' value='ARMOR'/>
            <item-attr name='generic_item' value='SHOES'/>
            <item-attr name='generic_item' value='SHIELD'/>
            <item-attr name='generic_item' value='HELM'/>
            <item-attr name='generic_item' value='GLOVES'/>
            <item-attr name='generic_item' value='PANTS'/>
        </enum-item>

        -- 40

        <enum-item name='DOOR'>
            <item-attr name='item' value='DOOR'/>
        </enum-item>
        <enum-item name='FLOODGATE'>
            <item-attr name='item' value='FLOODGATE'/>
        </enum-item>
        <enum-item name='HATCH_COVER'>
            <item-attr name='item' value='HATCH_COVER'/>
        </enum-item>
        <enum-item name='GRATE'>
            <item-attr name='item' value='GRATE'/>
        </enum-item>
        <enum-item name='CAGE'>
            <item-attr name='item' value='CAGE'/>
        </enum-item>

        <enum-item name='FLASK'>
            <item-attr name='item' value='FLASK'/>
        </enum-item>
        <enum-item name='WINDOW'>
            <item-attr name='item' value='WINDOW'/>
        </enum-item>
        <enum-item name='GOBLET'>
            <item-attr name='item' value='GOBLET'/>
        </enum-item>
        <enum-item name='INSTRUMENT'>
            <item-attr name='item' value='INSTRUMENT'/>
        </enum-item>
        <enum-item name='INSTRUMENT_STATIONARY'>
            <item-attr name='item' value='INSTRUMENT'/>
        </enum-item>

        -- 50

        <enum-item name='TOY'>
            <item-attr name='item' value='TOY'/>
        </enum-item>
        <enum-item name='TOOL'>
            <item-attr name='item' value='TOOL'/>
        </enum-item>
        <enum-item name='BUCKET'>
            <item-attr name='item' value='BUCKET'/>
        </enum-item>
        <enum-item name='BARREL'>
            <item-attr name='item' value='BARREL'/>
        </enum-item>
        <enum-item name='CHAIN'>
            <item-attr name='item' value='CHAIN'/>
        </enum-item>

        <enum-item name='ANIMALTRAP'>
            <item-attr name='item' value='ANIMALTRAP'/>
        </enum-item>
        <enum-item name='BED'>
            <item-attr name='item' value='BED'/>
        </enum-item>
        <enum-item name='TRACTION_BENCH'>
            <item-attr name='item' value='TRACTION_BENCH'/>
        </enum-item>
        <enum-item name='CHAIR'>
            <item-attr name='item' value='CHAIR'/>
        </enum-item>
        <enum-item name='COFFIN'>
            <item-attr name='item' value='COFFIN'/>
        </enum-item>

        -- 60

        <enum-item name='TABLE'>
            <item-attr name='item' value='TABLE'/>
        </enum-item>
        <enum-item name='STATUE'>
            <item-attr name='item' value='STATUE'/>
        </enum-item>
        <enum-item name='SLAB'>
            <item-attr name='item' value='SLAB'/>
        </enum-item>
        <enum-item name='QUERN'>
            <item-attr name='item' value='QUERN'/>
        </enum-item>
        <enum-item name='MILLSTONE'>
            <item-attr name='item' value='MILLSTONE'/>
        </enum-item>

        <enum-item name='BOX'>
            <item-attr name='item' value='BOX'/>
        </enum-item>
        <enum-item name='BAG'>
            <item-attr name='item' value='BAG'/>
        </enum-item>
        <enum-item name='BIN'>
            <item-attr name='item' value='BIN'/>
        </enum-item>
        <enum-item name='ARMORSTAND'>
            <item-attr name='item' value='ARMORSTAND'/>
        </enum-item>
        <enum-item name='WEAPONRACK'>
            <item-attr name='item' value='WEAPONRACK'/>
        </enum-item>
        <enum-item name='CABINET'>
            <item-attr name='item' value='CABINET'/>
        </enum-item>

        -- 70

        <enum-item name='ANVIL'>
            <item-attr name='item' value='ANVIL'/>
        </enum-item>
        <enum-item name='CATAPULTPARTS'>
            <item-attr name='item' value='CATAPULTPARTS'/>
        </enum-item>
        <enum-item name='BALLISTAPARTS'>
            <item-attr name='item' value='BALLISTAPARTS'/>
        </enum-item>
        <enum-item name='SIEGEAMMO'>
            <item-attr name='item' value='SIEGEAMMO'/>
        </enum-item>
        <enum-item name='TRAPPARTS'>
            <item-attr name='item' value='TRAPPARTS'/>
        </enum-item>

        <enum-item name='ANY_WEBS'>
            <item-attr name='generic_item' value='THREAD'/>
        </enum-item>
        <enum-item name='PIPE_SECTION'>
            <item-attr name='item' value='PIPE_SECTION'/>
        </enum-item>
        <enum-item name='ANY_ENCASED'/>
        <enum-item name='ANY_IN_CONSTRUCTION'/>
        <enum-item name='DRINK'>
            <item-attr name='item' value='DRINK'/>
        </enum-item>

        -- 80

        <enum-item name='ANY_DRINK'>
            <item-attr name='generic_item' value='DRINK'/>
        </enum-item>
        <enum-item name='LIQUID_MISC'>
            <item-attr name='item' value='LIQUID_MISC'/>
        </enum-item>
        <enum-item name='POWDER_MISC'>
            <item-attr name='item' value='POWDER_MISC'/>
        </enum-item>
        <enum-item name='ANY_COOKABLE'>
            <item-attr name='generic_item' value='FLASK'/>
            <item-attr name='generic_item' value='CAGE'/>
            <item-attr name='generic_item' value='BARREL'/>
            <item-attr name='generic_item' value='BUCKET'/>
            <item-attr name='generic_item' value='ANIMALTRAP'/>
            <item-attr name='generic_item' value='BOX'/>
            <item-attr name='generic_item' value='MEAT'/>
            <item-attr name='generic_item' value='FISH'/>
            <item-attr name='generic_item' value='FISH_RAW'/>
            <item-attr name='generic_item' value='VERMIN'/>
            <item-attr name='generic_item' value='SEEDS'/>
            <item-attr name='generic_item' value='PLANT'/>
            <item-attr name='generic_item' value='PLANT_GROWTH'/>
            <item-attr name='generic_item' value='DRINK'/>
            <item-attr name='generic_item' value='POWDER_MISC'/>
            <item-attr name='generic_item' value='CHEESE'/>
            <item-attr name='generic_item' value='LIQUID_MISC'/>
            <item-attr name='generic_item' value='GLOB'/>
            <item-attr name='generic_item' value='TOOL'/>
            <item-attr name='generic_item' value='EGG'/>
        </enum-item>
        <enum-item name='ANY_GLASSABLE'>
            <item-attr name='generic_item' value='BOX'/>
        </enum-item>

        <enum-item name='VERMIN'>
            <item-attr name='generic_item' value='VERMIN'/>
        </enum-item>
        <enum-item name='PET'>
            <item-attr name='generic_item' value='PET'/>
        </enum-item>
        <enum-item name='ANY_CRITTER'>
            <item-attr name='generic_item' value='VERMIN'/>
            <item-attr name='generic_item' value='PET'/>
        </enum-item>
        <enum-item name='COIN'>
            <item-attr name='item' value='COIN'/>
        </enum-item>
        <enum-item name='GLOB'>
            <item-attr name='item' value='GLOB'/>
        </enum-item>

        -- 90
        <enum-item name='TRAPCOMP'>
            <item-attr name='item' value='TRAPCOMP'/>
        </enum-item>
        <enum-item name='BAR'>
            <item-attr name='item' value='BAR'/>
        </enum-item>
        <enum-item name='SMALLGEM'>
            <item-attr name='item' value='SMALLGEM'/>
        </enum-item>
        <enum-item name='BLOCKS'>
            <item-attr name='item' value='BLOCKS'/>
        </enum-item>
        <enum-item name='ROUGH'>
            <item-attr name='item' value='ROUGH'/>
        </enum-item>

        <enum-item name='ANY_CORPSE'>
            <item-attr name='generic_item' value='CORPSE'/>
            <item-attr name='generic_item' value='CORPSEPIECE'/>
        </enum-item>
        <enum-item name='CORPSE'>
            <item-attr name='item' value='CORPSE'/>
        </enum-item>
        <enum-item name='BOOK'>
            <item-attr name='item' value='BOOK'/>
        </enum-item>
        <enum-item name='FIGURINE'>
            <item-attr name='item' value='FIGURINE'/>
        </enum-item>
        <enum-item name='AMULET'>
            <item-attr name='item' value='AMULET'/>
        </enum-item>

        -- 100

        <enum-item name='SCEPTER'>
            <item-attr name='item' value='SCEPTER'/>
        </enum-item>
        <enum-item name='CROWN'>
            <item-attr name='item' value='CROWN'/>
        </enum-item>
        <enum-item name='RING'>
            <item-attr name='item' value='RING'/>
        </enum-item>
        <enum-item name='EARRING'>
            <item-attr name='item' value='EARRING'/>
        </enum-item>
        <enum-item name='BRACELET'>
            <item-attr name='item' value='BRACELET'/>
        </enum-item>

        <enum-item name='GEM'>
            <item-attr name='item' value='GEM'/>
        </enum-item>
        <enum-item name='CORPSEPIECE'>
            <item-attr name='item' value='CORPSEPIECE'/>
        </enum-item>
        <enum-item name='REMAINS'>
            <item-attr name='item' value='REMAINS'/>
        </enum-item>
        <enum-item name='MEAT'>
            <item-attr name='item' value='MEAT'/>
        </enum-item>
        <enum-item name='FISH'>
            <item-attr name='item' value='FISH'/>
        </enum-item>

        -- 110

        <enum-item name='FISH_RAW'>
            <item-attr name='item' value='FISH_RAW'/>
        </enum-item>
        <enum-item name='EGG'>
            <item-attr name='item' value='EGG'/>
        </enum-item>
        <enum-item name='SEEDS'>
            <item-attr name='item' value='SEEDS'/>
        </enum-item>
        <enum-item name='PLANT'>
            <item-attr name='item' value='PLANT'/>
        </enum-item>
        <enum-item name='SKIN_TANNED'>
            <item-attr name='item' value='SKIN_TANNED'/>
        </enum-item>

        <enum-item name='PLANT_GROWTH'>
            <item-attr name='item' value='PLANT_GROWTH'/>
        </enum-item>
        <enum-item name='THREAD'>
            <item-attr name='item' value='THREAD'/>
        </enum-item>
        <enum-item name='CLOTH'>
            <item-attr name='item' value='CLOTH'/>
        </enum-item>
        <enum-item name='SHEET'>
            <item-attr name='item' value='SHEET'/>
        </enum-item>
        <enum-item name='TOTEM'>
            <item-attr name='item' value='TOTEM'/>
        </enum-item>

        -- 120

        <enum-item name='PANTS'>
            <item-attr name='item' value='PANTS'/>
        </enum-item>
        <enum-item name='CHEESE'>
            <item-attr name='item' value='CHEESE'/>
        </enum-item>
        <enum-item name='FOOD'>
            <item-attr name='item' value='FOOD'/>
        </enum-item>
        <enum-item name='BALLISTAARROWHEAD'>
            <item-attr name='item' value='BALLISTAARROWHEAD'/>
        </enum-item>
        <enum-item name='ARMOR'>
            <item-attr name='item' value='ARMOR'/>
        </enum-item>

        <enum-item name='SHOES'>
            <item-attr name='item' value='SHOES'/>
        </enum-item>
        <enum-item name='HELM'>
            <item-attr name='item' value='HELM'/>
        </enum-item>
        <enum-item name='GLOVES'>
            <item-attr name='item' value='GLOVES'/>
        </enum-item>
        <enum-item name='POSSIBLE_CONTAINER'>
            <item-attr name='generic_item' value='FLASK'/>
            <item-attr name='generic_item' value='GOBLET'/>
            <item-attr name='generic_item' value='CAGE'/>
            <item-attr name='generic_item' value='BARREL'/>
            <item-attr name='generic_item' value='BUCKET'/>
            <item-attr name='generic_item' value='ANIMALTRAP'/>
            <item-attr name='generic_item' value='COFFIN'/>
            <item-attr name='generic_item' value='BOX'/>
            <item-attr name='generic_item' value='BIN'/>
            <item-attr name='generic_item' value='ARMORSTAND'/>
            <item-attr name='generic_item' value='WEAPONRACK'/>
            <item-attr name='generic_item' value='CABINET'/>
            <item-attr name='generic_item' value='BACKPACK'/>
            <item-attr name='generic_item' value='QUIVER'/>
            <item-attr name='generic_item' value='TOOL'/>
        </enum-item>
        <enum-item name='FOOD_STORAGE'>
            <item-attr name='generic_item' value='BARREL'/>
            <item-attr name='generic_item' value='TOOL'/>
        </enum-item>

        -- 130

        <enum-item name='MAGICAL'/>
        <enum-item name='ANY_RECENTLY_DROPPED'/>
        <enum-item name='ANY_MELT_DESIGNATED'/>
    </enum-type>

    -- Helper type for item_handlerst
    <df-other-vectors-type type-name='items_other' index-enum='items_other_id' item-type='item'>
        <stl-vector name='WEAPON' pointer-type='item_weaponst'/>
        <stl-vector name='ANY_TRUE_ARMOR' pointer-type='item_armorst'/>
        <stl-vector name='ANY_ARMOR_HELM' pointer-type='item_helmst'/>
        <stl-vector name='ANY_ARMOR_SHOES' pointer-type='item_shoesst'/>
        <stl-vector name='SHIELD' pointer-type='item_shieldst'/>
        <stl-vector name='ANY_ARMOR_GLOVES' pointer-type='item_glovesst'/>
        <stl-vector name='ANY_ARMOR_PANTS' pointer-type='item_pantsst'/>
        <stl-vector name='QUIVER' pointer-type='item_quiverst'/>
        <stl-vector name='SPLINT' pointer-type='item_splintst'/>
        <stl-vector name='ORTHOPEDIC_CAST' pointer-type='item_orthopedic_castst'/>
        <stl-vector name='CRUTCH' pointer-type='item_crutchst'/>
        <stl-vector name='BACKPACK' pointer-type='item_backpackst'/>
        <stl-vector name='AMMO' pointer-type='item_ammost'/>
        <stl-vector name='WOOD' pointer-type='item_woodst'/>
        <stl-vector name='BRANCH' pointer-type='item_branchst'/>
        <stl-vector name='BOULDER' pointer-type='item_boulderst'/>
        <stl-vector name='ROCK' pointer-type='item_rockst'/>
        <stl-vector name='DOOR' pointer-type='item_doorst'/>
        <stl-vector name='FLOODGATE' pointer-type='item_floodgatest'/>
        <stl-vector name='HATCH_COVER' pointer-type='item_hatch_coverst'/>
        <stl-vector name='GRATE' pointer-type='item_gratest'/>
        <stl-vector name='CAGE' pointer-type='item_cagest'/>
        <stl-vector name='FLASK' pointer-type='item_flaskst'/>
        <stl-vector name='WINDOW' pointer-type='item_windowst'/>
        <stl-vector name='GOBLET' pointer-type='item_gobletst'/>
        <stl-vector name='INSTRUMENT' pointer-type='item_instrumentst'/>
        <stl-vector name='INSTRUMENT_STATIONARY' pointer-type='item_instrumentst'/>
        <stl-vector name='TOY' pointer-type='item_toyst'/>
        <stl-vector name='TOOL' pointer-type='item_toolst'/>
        <stl-vector name='BUCKET' pointer-type='item_bucketst'/>
        <stl-vector name='BARREL' pointer-type='item_barrelst'/>
        <stl-vector name='CHAIN' pointer-type='item_chainst'/>
        <stl-vector name='ANIMALTRAP' pointer-type='item_animaltrapst'/>
        <stl-vector name='BED' pointer-type='item_bedst'/>
        <stl-vector name='TRACTION_BENCH' pointer-type='item_traction_benchst'/>
        <stl-vector name='CHAIR' pointer-type='item_chairst'/>
        <stl-vector name='COFFIN' pointer-type='item_coffinst'/>
        <stl-vector name='TABLE' pointer-type='item_tablest'/>
        <stl-vector name='STATUE' pointer-type='item_statuest'/>
        <stl-vector name='SLAB' pointer-type='item_slabst'/>
        <stl-vector name='QUERN' pointer-type='item_quernst'/>
        <stl-vector name='MILLSTONE' pointer-type='item_millstonest'/>
        <stl-vector name='BOX' pointer-type='item_boxst'/>
        <stl-vector name='BIN' pointer-type='item_binst'/>
        <stl-vector name='ARMORSTAND' pointer-type='item_armorstandst'/>
        <stl-vector name='WEAPONRACK' pointer-type='item_weaponrackst'/>
        <stl-vector name='CABINET' pointer-type='item_cabinetst'/>
        <stl-vector name='ANVIL' pointer-type='item_anvilst'/>
        <stl-vector name='CATAPULTPARTS' pointer-type='item_catapultpartsst'/>
        <stl-vector name='BALLISTAPARTS' pointer-type='item_ballistapartsst'/>
        <stl-vector name='SIEGEAMMO' pointer-type='item_siegeammost'/>
        <stl-vector name='TRAPPARTS' pointer-type='item_trappartsst'/>
        <stl-vector name='ANY_WEBS' pointer-type='item_threadst'/>
        <stl-vector name='PIPE_SECTION' pointer-type='item_pipe_sectionst'/>
        <stl-vector name='DRINK' pointer-type='item_drinkst'/>
        <stl-vector name='ANY_DRINK' pointer-type='item_drinkst'/>
        <stl-vector name='LIQUID_MISC' pointer-type='item_liquid_miscst'/>
        <stl-vector name='POWDER_MISC' pointer-type='item_powder_miscst'/>
        <stl-vector name='VERMIN' pointer-type='item_verminst'/>
        <stl-vector name='PET' pointer-type='item_petst'/>
        <stl-vector name='COIN' pointer-type='item_coinst'/>
        <stl-vector name='GLOB' pointer-type='item_globst'/>
        <stl-vector name='TRAPCOMP' pointer-type='item_trapcompst'/>
        <stl-vector name='BAR' pointer-type='item_barst'/>
        <stl-vector name='SMALLGEM' pointer-type='item_smallgemst'/>
        <stl-vector name='BLOCKS' pointer-type='item_blocksst'/>
        <stl-vector name='ROUGH' pointer-type='item_roughst'/>
        <stl-vector name='ANY_CORPSE' pointer-type='item_body_component'/>
        <stl-vector name='CORPSE' pointer-type='item_corpsest'/>
        <stl-vector name='BOOK' pointer-type='item_bookst'/>
        <stl-vector name='FIGURINE' pointer-type='item_figurinest'/>
        <stl-vector name='AMULET' pointer-type='item_amuletst'/>
        <stl-vector name='SCEPTER' pointer-type='item_scepterst'/>
        <stl-vector name='CROWN' pointer-type='item_crownst'/>
        <stl-vector name='RING' pointer-type='item_ringst'/>
        <stl-vector name='EARRING' pointer-type='item_earringst'/>
        <stl-vector name='BRACELET' pointer-type='item_braceletst'/>
        <stl-vector name='GEM' pointer-type='item_gemst'/>
        <stl-vector name='CORPSEPIECE' pointer-type='item_corpsepiecest'/>
        <stl-vector name='REMAINS' pointer-type='item_remainsst'/>
        <stl-vector name='MEAT' pointer-type='item_meatst'/>
        <stl-vector name='FISH' pointer-type='item_fishst'/>
        <stl-vector name='FISH_RAW' pointer-type='item_fish_rawst'/>
        <stl-vector name='EGG' pointer-type='item_eggst'/>
        <stl-vector name='SEEDS' pointer-type='item_seedsst'/>
        <stl-vector name='PLANT' pointer-type='item_plantst'/>
        <stl-vector name='SKIN_TANNED' pointer-type='item_skin_tannedst'/>
        <stl-vector name='PLANT_GROWTH' pointer-type='item_plant_growthst'/>
        <stl-vector name='THREAD' pointer-type='item_threadst'/>
        <stl-vector name='CLOTH' pointer-type='item_clothst'/>
        <stl-vector name='SHEET' pointer-type='item_sheetst'/>
        <stl-vector name='TOTEM' pointer-type='item_totemst'/>
        <stl-vector name='PANTS' pointer-type='item_pantsst'/>
        <stl-vector name='CHEESE' pointer-type='item_cheesest'/>
        <stl-vector name='FOOD' pointer-type='item_foodst'/>
        <stl-vector name='BALLISTAARROWHEAD' pointer-type='item_ballistaarrowheadst'/>
        <stl-vector name='ARMOR' pointer-type='item_armorst'/>
        <stl-vector name='SHOES' pointer-type='item_shoesst'/>
        <stl-vector name='HELM' pointer-type='item_helmst'/>
        <stl-vector name='GLOVES' pointer-type='item_glovesst'/>
    </df-other-vectors-type>

    <struct-type type-name='item_handlerst'>
        <stl-vector name='all' pointer-type='item'/>

        <compound name='other' type-name='items_other'/>

        <stl-vector name='temp_save' has-bad-pointers='true' pointer-type='item'/>

        <stl-vector name='temp_save_compat' type-name='int32_t'/>
    </struct-type>

    <enum-type type-name='artifact_flags'> bay12: ArtifactFlagType
        <enum-item name='ART_REVEALED'/>
        <enum-item name='LAST_SITE_PLACEMENT_WAS_BEING_LOST'/>
        <enum-item name='LAST_GLOBALLY_KNOWN_LOCATION_WAS_BEING_LOST'/>
    </enum-type>

    <struct-type type-name='artifact_record' original-name='artifactst' key-field='id'
                 instance-vector='$global.world.artifacts.all'>
        <int32_t name='id'/>

        <code-helper name='describe'>
            (describe-obj $.name)
        </code-helper>

        <compound name='name' type-name='language_name'/>

        <df-flagarray name='flags' index-enum='artifact_flags'/>

        <pointer name='item' type-name='item'/>

        <int32_t name='abs_tile_x'/>
        <int32_t name='abs_tile_y'/>
        <int32_t name='abs_tile_z'/>
        <int32_t name='last_local_bld_id' ref-target='building' since='v0.44.01'/>
        <int32_t name='site' ref-target='world_site'/>
        <int32_t name='structure_local' ref-target='abstract_building'/>
        <int32_t name='site_building_profile' init-value='-1' since='v0.47.01'/>
        <int32_t name='subregion' ref-target='world_region'/>
        <int32_t name='feature_layer' ref-target='world_underground_region'/>
        <int32_t name='owner_hf' ref-target='historical_figure' comment="namer/creator does not seem to require a claim to be shown"/>
        <stl-vector name='remote_claims' type-name='int32_t' ref-target='historical_figure' since='v0.44.01' comment="all afar, heirloom from afar seen"/>
        <stl-vector name='entity_claims' type-name='int32_t' ref-target='historical_entity' since='v0.44.01'/>
        <stl-vector name='family_claims' type-name='int32_t' ref-target='historical_figure' since='v0.44.01'/>
        <int32_t name='storage_site' ref-target='world_site' since='v0.44.01'/>
        <int32_t name='storage_structure_local' ref-target='abstract_building' since='v0.44.01'/>
        <int32_t name='loss_region' ref-target='world_region' since='v0.44.01'/>
        <int32_t name='last_layer' ref-target='world_underground_region' since='v0.44.01'/>
        <int32_t name='holder_hf' since='v0.44.01' ref-target='historical_figure' comment="doesn't seem to require a claim"/>
        <int32_t name='year' since='v0.44.01' init-value='-1' comment="seems to be current year or -1"/>
        <int32_t name='season_tick' since='v0.44.01' init-value='-1'/>
        <int32_t name='temp_sort' init-value='0'/>
    </struct-type>

    <struct-type type-name='artifact_handlerst'>
        <stl-vector name='all' pointer-type='artifact_record'/>

        <stl-vector name='order_load' has-bad-pointers='true' pointer-type='artifact_record'/>
    </struct-type>
</data-definition>

<!--
Local Variables:
indent-tabs-mode: nil
nxml-child-indent: 4
End:
-->
