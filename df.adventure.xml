<data-definition>
    <enum-type type-name='sound_indicator_type' base-type='int32_t'> bay12: SoundIndicatorType
        <enum-item name='NONE' value='-1'/>
        <enum-item name='MOVEMENT'/>
        <enum-item name='COMBAT'/>
        <enum-item name='VOCALIZATION'/>
        <enum-item name='GRINDING_MECHANISM'/>
        <enum-item name='STORYTELLING'/>
        <enum-item name='POEM_RECITATION'/>
        <enum-item name='MUSICAL_VOICE'/>
        <enum-item name='DANCING'/>
        <enum-item name='PREACHING'/>
    </enum-type>

    <bitfield-type type-name='sound_indicator_flag' base-type='uint32_t'> bay12: SOUND_INDICATOR_FLAG_*
        <flag-bit name='adv_heard'/>
        <flag-bit name='adv_visible'/>
    </bitfield-type>

    <struct-type type-name='sound_indicatorst'>
        <enum name='type' type-name='sound_indicator_type'/>
        <compound name='true_pos' type-name='coord'/>
        <compound name='disp_pos' type-name='coord'/>
        <int16_t name='size'/>
        <int32_t name='timer'/>
        <bitfield name='flags' base-type='uint32_t' type-name='sound_indicator_flag'/>
    </struct-type>

    <struct-type type-name='sound_indicator_handlerst'>
        <static-array count='100' name='indicators' type-name='sound_indicatorst'/>
        <int32_t name='place_sound_num'/>
    </struct-type>

    <enum-type type-name='ui_advmode_menu'> bay12: AdventureViewModes
        <enum-item name='None' value='-1'/>
        <enum-item name='Default'/> MAIN
        <enum-item name='Look'/> LOOK
        <enum-item name='ConversationAddress'/> CONVERSATION_START_NEW
        <enum-item name='ConversationSelect'/> CONVERSATION_LIST
        <enum-item name='ConversationSpeak'/> CONVERATION_TALK
        <enum-item name='Inventory'/> INVENTORY_LOOK
        <enum-item name='Drop'/> INVENTORY_DROP
        <enum-item name='ThrowItem'/> INVENTORY_THROW
        <enum-item name='Wear'/> INVENTORY_WEAR
        <enum-item name='Remove'/> INVENTORY_REMOVE
        <enum-item name='Interact'/> INVENTORY_INTERACT
        <enum-item name='Put'/> INVENTORY_PUTIN
        <enum-item name='PutContainer'/> INVENTORY_PUTIN2
        <enum-item name='Eat'/> INVENTORY_EATDRINK
        <enum-item name='ThrowAim'/> THROW
        <enum-item name='Fire'/> SHOOET
        <enum-item name='Get'/> PICUP
        <enum-item name='GetAmount'/> PICKUP_AMOUNT
        <enum-item name='CombatPrefs'/> COMBAT
        <enum-item name='Companions'/> COMPANIONS
        <enum-item name='MovementPrefs'/> MOVEMENT
        <enum-item name='SpeedPrefs'/> SPEED_SNEAK
        <enum-item name='InteractAction'/> INTERACT
        <enum-item name='MoveCarefully'/> MOVE
        <enum-item name='Announcements'/> ANNOUNCEMENTS
        <enum-item name='Travel'/> REGION_MAIN
        <enum-item name='TravelSleep'/> REGION_SLEEP
        <enum-item name='ViewFreshestTrack' comment='A_FRESHEST_TRACK'/> SPOOR
        <enum-item name='SleepConfirm'/> SLEEP_CONFIRM
        <enum-item name='SelectInteractionTarget'/> INTERACTION_TARGET
        <enum-item name='FallAction'/> REACTION_MOMENT_NO_ATTACKER
        <enum-item name='ViewTracks'/> LOOK_SPOOR
        <enum-item name='AttackCreature'/> ATTACKCREATURE_UNIT_CHOICE
        <enum-item name='AttackConfirm'/> ATTACKCREATURE_CONFIRM
        <enum-item name='AttackType'/> ATTACKCREATURE_MOVE_CHOICE
        <enum-item name='AttackBodypart'/> ATTACKCREATURE_AIM_TARGET
        <enum-item name='AttackStrike'/> ATTACKCREATURE_AIM_ATTACK
        <enum-item name='DefendParry'/> ATTACKCREATURE_PARRY_CHOICE
        <enum-item name='DefendBlock'/> ATTACKCREATURE_BLOCK_CHOICE
        <enum-item name='DodgeDirection'/> ATTACKCREATURE_DODGE_CHOICE
        <enum-item name='PerformanceSelect'/> START_PERFORMANCE
        <enum-item name='InterruptPerformanceConfirm'/> MOVE_CONFIRM
        <enum-item name='Build'/> CONSTRUCTION
        <enum-item name='AssumeIdentity'/> ASSUME_IDENTITY
        <enum-item name='NameItem'/> NAME_ITEM
        <enum-item name='BecomePartyMember'/> BECOME_COMPANION
        <enum-item name='PartyTacticalSettings'/> COMPANION_TACTICAL_SETTINGS
    </enum-type>

    -- Unused: DungeonAttackModes
    -- Unused: DungeonDodgeModes
    -- Unused: DungeonChargeDefendModes
    -- Unused: DungeonSwimModes
    -- Unused: DungeonInvOption
    -- Unused: DUNGINVFLAG_*

    <struct-type type-name='adventure_custom_combatst'>
        <stl-vector name='aim_mod' pointer-type='attack_chance_modifierst'/>
    </struct-type>

    <enum-type type-name='adventure_option_type' base-type='int32_t'> bay12: AdventureOptionType
        <enum-item name='NONE' value='-1'/>
        <enum-item name='EAT_UNIT_CONTAMINANT'/>
        <enum-item name='EAT_ITEM_CONTAMINANT'/>
        <enum-item name='VIEW_CONTAMINANT'/>
        <enum-item name='ENVIRONMENT_UNIT_SUCK_BLOOD'/>
        <enum-item name='ENVIRONMENT_INGEST_FROM_CONTAINER'/>
        <enum-item name='ENVIRONMENT_PLACE_ON_PACK_ANIMAL'/>
        <enum-item name='ENVIRONMENT_PLACE_IN_BLD_CONTAINER'/>
        <enum-item name='ENVIRONMENT_PLACE_IN_IT_CONTAINER'/>
        <enum-item name='ENVIRONMENT_TAKE_FROM_PACK_ANIMAL'/>
        <enum-item name='ENVIRONMENT_PICK_UP_GROUND_ITEM'/>
        <enum-item name='ENVIRONMENT_PICK_UP_BUILDING_ITEM'/>
        <enum-item name='ENVIRONMENT_PICK_UP_BUILDING_ITEM_CONTENTS'/>
        <enum-item name='ENVIRONMENT_TAKE_ITEM_FROM_CONTAINER'/>
        <enum-item name='ENVIRONMENT_PICK_VEGETATION'/>
        <enum-item name='ENVIRONMENT_PICK_UP_ENVIRONMENT'/>
        <enum-item name='INVENTORY_ITEM'/>
        <enum-item name='VIEW_ITEM'/>
        <enum-item name='DROP_ITEM'/>
        <enum-item name='WEAR_ITEM'/>
        <enum-item name='REMOVE_ITEM'/>
        <enum-item name='PUT_ITEM'/>
        <enum-item name='EAT_DRINK_ITEM'/>
        <enum-item name='INTERACT_WITH_ITEM'/>
        <enum-item name='SHOOT_CREATURE'/>
        <enum-item name='SHOOT_TILE'/>
        <enum-item name='THROW_ITEM_AT_CREATURE'/>
        <enum-item name='THROW_ITEM_AT_TILE'/>
        <enum-item name='THROW_ITEM'/>
        <enum-item name='JUMP'/>
        <enum-item name='VIEW_EVENT_DETAIL'/>
    </enum-type>

    <enum-type type-name='adventure_interface_option_list_context_type' base-type='int32_t'> bay12: AdventureInterfaceOptionListContextType
        <enum-item name='NONE' value='-1'/>
        <enum-item name='GROUND'/>
        <enum-item name='HOLD'/>
        <enum-item name='MOVE'/>
        <enum-item name='DIRECT_CLICK'/>
        <enum-item name='AIM_PROJECTILE'/>
        <enum-item name='BUILDING_INTERACT'/>
        <enum-item name='DIRECT_CLICK_MOVE_ONLY'/>
        <enum-item name='LOOK'/>
    </enum-type>

    <class-type type-name='adventure_optionst'>
        <int32_t name='depth'/>
        <enum name='option_list_context' type-name='adventure_interface_option_list_context_type'/>

        <virtual-methods>
            <vmethod name='getType' ret-type='adventure_option_type'/>
            <vmethod name='getName'><pointer type-name='stl-string'/></vmethod>
            <vmethod name='getFullListName'><pointer type-name='stl-string'/></vmethod>
            <vmethod is-destructor='true'/>
            <vmethod name='getIngestedItem'><ret-type><pointer type-name='item'/></ret-type></vmethod>
            <vmethod name='performPickupAction'>
                <comment>
                    for "pick up vermin":

                    the first argument is set to the vermin index if an item was allocated and this was the last vermin of its type
                    the second argument is set to true if an item was allocated, false otherwise
                    the third argument is set to true if the second argument is false
                    the first and third arguments are not changed in all other cases
                    returns an item_verminst pointer

                    for all other types (as of 0.47.04):

                    does not modify arguments 1 and 2
                    argument 3 is set to true if a fire was started
                    returns nullptr
                </comment>
                <pointer name='vermin_idx' type-name='int32_t'/>
                <pointer name='blast' type-name='bool'/>
                <pointer name='ret_positive' type-name='bool'/>
                <ret-type><pointer type-name='item'/></ret-type>
            </vmethod>

            <vmethod ret-type='int16_t' name='getPlayerPosX'/>
            <vmethod ret-type='int16_t' name='getPlayerPosY'/>
            <vmethod ret-type='int16_t' name='getPlayerPosZ'/>

            <vmethod ret-type='int16_t' name='getTargetPosX'/>
            <vmethod ret-type='int16_t' name='getTargetPosY'/>
            <vmethod ret-type='int16_t' name='getTargetPosZ'/>

            <vmethod name='SuccessRepercussions'/>
            <vmethod name='getSuckBloodUnitID'><ret-type><int32_t ref-target='unit'/></ret-type></vmethod>
            <vmethod name='isFoodExistingItem' ret-type='bool'/>
            <vmethod name='getContainerBuilding'><ret-type><pointer type-name='building'/></ret-type></vmethod>
            <vmethod name='getContainerItem'><ret-type><pointer type-name='item'/></ret-type></vmethod>
            <vmethod name='getUnit'><ret-type><pointer type-name='unit'/></ret-type></vmethod>
            <vmethod name='getItem'><ret-type><pointer type-name='item'/></ret-type></vmethod>
            <vmethod name='getBuilding'><ret-type><pointer type-name='building'/></ret-type></vmethod>

            <vmethod name='getItemType' ret-type='item_type'/>
            <vmethod name='getItemSubtype' ret-type='int16_t'/>
            <vmethod name='getItemMaterial' ret-type='int16_t'/>
            <vmethod name='getItemMatgloss' ret-type='int32_t'/>
            <vmethod name='getItemGrowthPrint' ret-type='int32_t' comment='for plant growths'/>

            <vmethod name='getTexpos' ret-type='int32_t'><uint32_t name='curtick'/></vmethod>
            <vmethod name='getPickupItem'><ret-type><pointer type-name='item'/></ret-type></vmethod>
            <vmethod name='getInvItem'><ret-type><pointer type-name='unit_inventory_item'/></ret-type></vmethod>

            <vmethod name='hasRealize' ret-type='bool'/>
            <vmethod name='doRealize'/>

            <vmethod name='addOptionFlag'><uint32_t name='flag'/></vmethod>
            <vmethod name='getOptionFlag' ret-type='uint32_t'/>

            <vmethod name='hasInventoryAction' ret-type='bool'/>
            <vmethod name='doInventoryAction'/>

            <vmethod name='getOptionList'><ret-type><pointer><stl-vector pointer-type='adventure_optionst'/></pointer></ret-type></vmethod>
            <vmethod name='printConflictStatus'/>
        </virtual-methods>
    </class-type>

    <class-type type-name='adventure_option_talk_existing_conversationst' inherits-from='adventure_optionst'>
        <pointer name='conv_act' type-name='activity_entry'/>
        <pointer name='conv_actev' type-name='activity_event'/>
    </class-type>

    <class-type type-name='adventure_option_talk_new_conversationst' inherits-from='adventure_optionst'>
        <int32_t name='unit_id' ref-target='unit'/>
        <int32_t name='hfid' ref-target='historical_figure'/>
    </class-type>

    <class-type type-name='adventure_option_start_shoutingst' inherits-from='adventure_optionst'/>
    <class-type type-name='adventure_option_assume_identityst' inherits-from='adventure_optionst'/>

    <class-type type-name='adventure_option_view_unitst' inherits-from='adventure_optionst'>
        <int32_t name='unit_id' ref-target='unit'/>
        <int32_t name='hfid' ref-target='historical_figure'/>
    </class-type>

    <class-type type-name='adventure_item_interact_strugglest' inherits-from='adventure_optionst'>
        <pointer name='item' type-name='item'/>
    </class-type>

    <class-type type-name='adventure_item_interact_pull_outst' inherits-from='adventure_optionst'>
        <pointer name='item' type-name='item'/>
        <pointer name='invitem' type-name='unit_inventory_item'/>
    </class-type>

    <class-type type-name='adventure_item_interact_give_namest' inherits-from='adventure_optionst'>
        <pointer name='item' type-name='item'/>
    </class-type>

    <class-type type-name='adventure_item_interact_heat_from_tilest' inherits-from='adventure_optionst'>
        <pointer name='item' type-name='item'/>
        <compound name='pos1' type-name='coord'/>
        <compound name='pos2' type-name='coord'/>
    </class-type>

    <class-type type-name='adventure_item_interact_fill_with_materialst' inherits-from='adventure_optionst'>
        <pointer name='container' type-name='item'/>
        <compound name='pos1' type-name='coord'/>
        <compound name='pos2' type-name='coord'/>
        <int16_t name='material'/>
        <int32_t name='matgloss'/>
        <enum name='state' type-name='matter_state'/>
    </class-type>

    <class-type type-name='adventure_item_interact_fill_from_containerst' inherits-from='adventure_optionst'>
        <pointer name='container' type-name='item'/>
        <pointer name='take_from' type-name='item'/>
        <compound name='pos1' type-name='coord'/>
        <compound name='pos2' type-name='coord'/>
    </class-type>

    <class-type type-name='adventure_item_interact_readst' inherits-from='adventure_optionst'>
        <pointer name='item' type-name='item'/>
    </class-type>

    <class-type type-name='adventure_item_interact_rollst' inherits-from='adventure_optionst'>
        <pointer name='item' type-name='item'/>
    </class-type>

    <class-type type-name='adventure_item_interact_roll_allst' inherits-from='adventure_optionst'/>

    <bitfield-type type-name='adventure_option_inventory_item_option_flag' base-type='uint32_t'> bay12: ADVENTURE_OPTION_INVENTORY_ITEM_OPTION_FLAG_*
        <flag-bit name='details'/>
        <flag-bit name='drop'/>
        <flag-bit name='wear'/>
        <flag-bit name='remove'/>
        <flag-bit name='put_in'/>
        <flag-bit name='eat_drink'/>
        <flag-bit name='interact'/>
    </bitfield-type>

    <class-type type-name='adventure_option_inventory_itemst' inherits-from='adventure_optionst'>
        <pointer name='item' type-name='item'/>
        <pointer name='invitem' type-name='unit_inventory_item'/>
        <bitfield name='option_flag' base-type='uint32_t' type-name='adventure_option_inventory_item_option_flag'/>
    </class-type>

    <class-type type-name='adventure_option_view_event_detailst' inherits-from='adventure_optionst'>
        <pointer name='event_detail' type-name='engraving'/>
    </class-type>

    <class-type type-name='adventure_option_view_itemst' inherits-from='adventure_optionst'>
        <pointer name='item' type-name='item'/>
        <pointer name='invitem' type-name='unit_inventory_item'/>
    </class-type>

    <class-type type-name='adventure_option_drop_itemst' inherits-from='adventure_optionst'>
        <pointer name='item' type-name='item'/>
        <pointer name='invitem' type-name='unit_inventory_item'/>
    </class-type>

    <class-type type-name='adventure_option_wear_itemst' inherits-from='adventure_optionst'>
        <pointer name='item' type-name='item'/>
        <pointer name='invitem' type-name='unit_inventory_item'/>
    </class-type>

    <class-type type-name='adventure_option_throw_itemst' inherits-from='adventure_optionst'>
        <pointer name='item' type-name='item'/>
        <pointer name='invitem' type-name='unit_inventory_item'/>
    </class-type>

    <class-type type-name='adventure_option_remove_itemst' inherits-from='adventure_optionst'>
        <pointer name='item' type-name='item'/>
        <pointer name='invitem' type-name='unit_inventory_item'/>
    </class-type>

    <class-type type-name='adventure_option_put_itemst' inherits-from='adventure_optionst'>
        <pointer name='item' type-name='item'/>
        <pointer name='invitem' type-name='unit_inventory_item'/>
        <stl-vector name='put_option' pointer-type='adventure_optionst'/>
    </class-type>

    <class-type type-name='adventure_option_eat_drink_itemst' inherits-from='adventure_optionst'>
        <pointer name='item' type-name='item'/>
        <pointer name='invitem' type-name='unit_inventory_item'/>
    </class-type>

    <class-type type-name='adventure_option_interact_with_itemst' inherits-from='adventure_optionst'>
        <pointer name='item' type-name='item'/>
        <pointer name='invitem' type-name='unit_inventory_item'/>
        <stl-vector name='interact_option' pointer-type='adventure_optionst'/>
    </class-type>

    <class-type type-name='adventure_option_eat_unit_contaminantst' inherits-from='adventure_optionst'>
        <pointer name='unit' type-name='unit'/>
        <pointer name='spatter' type-name='unit_spatter'/>
    </class-type>

    <class-type type-name='adventure_option_eat_item_contaminantst' inherits-from='adventure_optionst'>
        <pointer name='unit' type-name='unit'/>
        <pointer name='inv_item' type-name='unit_inventory_item'/>
        <pointer name='spatter' type-name='spatter'/>
    </class-type>

    <class-type type-name='adventure_option_view_contaminantst' inherits-from='adventure_optionst'>
        <pointer name='unit' type-name='unit'/>
        <pointer name='spatter' type-name='unit_spatter'/>
    </class-type>

    <class-type type-name='adventure_environment_optionst' inherits-from='adventure_optionst'>
        <compound name='target_pos' type-name='coord'/>
        <compound name='player_pos' type-name='coord'/>
    </class-type>

    <class-type type-name='adventure_environment_unit_suck_bloodst' inherits-from='adventure_environment_optionst'>
        <int32_t name='unit_id' ref-target='unit'/>
    </class-type>

    <class-type type-name='adventure_environment_ingest_from_containerst' inherits-from='adventure_environment_optionst'>
        <pointer type-name='item' name='container'/>
        <pointer type-name='item' name='food'/>
    </class-type>

    <class-type type-name='adventure_environment_place_on_pack_animalst' inherits-from='adventure_environment_optionst'>
        <pointer name='item' type-name='item'/>
        <pointer name='pack_animal' type-name='unit'/>
    </class-type>

    <class-type type-name='adventure_environment_place_in_bld_containerst' inherits-from='adventure_environment_optionst'>
        <pointer name='item' type-name='item'/>
        <pointer name='building' type-name='building'/>
    </class-type>

    <class-type type-name='adventure_environment_place_in_it_containerst' inherits-from='adventure_environment_optionst'>
        <pointer type-name='item' name='item'/>
        <pointer type-name='item' name='container'/>
    </class-type>

    <class-type type-name='adventure_environment_take_from_pack_animalst' inherits-from='adventure_environment_optionst'>
        <pointer type-name='unit' name='pack_animal'/>
        <pointer type-name='item' name='item'/>
    </class-type>

    <class-type type-name='adventure_environment_pick_up_ground_itemst' inherits-from='adventure_environment_optionst'>
        <pointer type-name='item' name='item'/>
    </class-type>

    <class-type type-name='adventure_environment_pick_up_building_itemst' inherits-from='adventure_environment_optionst'>
        <pointer type-name='item' name='item'/>
        <pointer type-name='building' name='building'/>
    </class-type>

    <class-type type-name='adventure_environment_pick_up_building_item_contentsst' inherits-from='adventure_environment_optionst'>
        <pointer type-name='item' name='item'/>
        <pointer type-name='item' name='container'/>
        <pointer type-name='building' name='building'/>
    </class-type>

    <class-type type-name='adventure_environment_take_item_from_containerst' inherits-from='adventure_environment_optionst'>
        <pointer type-name='item' name='item'/>
        <pointer type-name='item' name='container'/>
    </class-type>

    <class-type type-name='adventure_environment_pick_vegetationst' inherits-from='adventure_environment_optionst'>
        <pointer type-name='item' name='item'/>
    </class-type>

    <class-type type-name='adventure_environment_pick_up_environmentst' inherits-from='adventure_environment_optionst'>
        <pointer type-name='item' name='item'/>
    </class-type>

    <class-type type-name='adventure_environment_ingest_materialst' inherits-from='adventure_environment_optionst'>
        <int16_t name='mat_type'/>
        <int32_t name='mat_index'/>
        <enum name='mat_state' type-name='matter_state'/>
    </class-type>

    <class-type type-name='adventure_environment_pickup_vermin_eventst' inherits-from='adventure_environment_optionst'>
        <int32_t name='vermin_idx'/>
    </class-type>

    <class-type type-name='adventure_environment_pickup_ignite_vegst' inherits-from='adventure_environment_optionst'>
        <int32_t name='plant_idx'/>
    </class-type>

    <class-type type-name='adventure_environment_pickup_make_campfirest' inherits-from='adventure_environment_optionst'/>

    <class-type type-name='adventure_environment_pickup_chop_treest' inherits-from='adventure_environment_optionst'/>

    <class-type type-name='adventure_movement_optionst' inherits-from='adventure_optionst'>
        <compound name='dest' type-name='coord'/>
        <compound name='source' type-name='coord'/>
    </class-type>

    <class-type type-name='adventure_movement_shoot_creaturest' inherits-from='adventure_movement_optionst'>
        <bool name='from_direct_click'/>
        <int32_t name='target' ref-target='unit'/>
        <pointer type-name='item' name='weapon'/>
        <pointer type-name='item' name='ammo'/>
    </class-type>

    <class-type type-name='adventure_movement_shoot_tilest' inherits-from='adventure_movement_optionst'>
        <bool name='from_direct_click'/>
        <pointer type-name='item' name='weapon'/>
        <pointer type-name='item' name='ammo'/>
    </class-type>

    <class-type type-name='adventure_movement_throw_item_at_creaturest' inherits-from='adventure_movement_optionst'>
        <bool name='from_direct_click'/>
        <int32_t name='target' ref-target='unit'/>
        <pointer type-name='item' name='item'/>
    </class-type>

    <class-type type-name='adventure_movement_throw_item_at_tilest' inherits-from='adventure_movement_optionst'>
        <bool name='from_direct_click'/>
        <pointer type-name='item' name='item'/>
    </class-type>

    <class-type type-name='adventure_movement_attack_creaturest' inherits-from='adventure_movement_optionst'>
        <stl-vector name='targets' type-name='int32_t' ref-target='unit'/>
        <bool name='always_do_something'/>
    </class-type>

    <class-type type-name='adventure_movement_combat_menu_creaturest' inherits-from='adventure_movement_optionst'>
        <int32_t name='target' ref-target='unit'/>
    </class-type>

    <class-type type-name='adventure_movement_jumpst' inherits-from='adventure_movement_optionst'>
        <bool name='from_direct_click'/>
    </class-type>

    <class-type type-name='adventure_movement_building_interactst' inherits-from='adventure_movement_optionst'>
        <int32_t name='building_id' ref-target='building'/>
    </class-type>

    <class-type type-name='adventure_movement_building_interact_raise_well_bucketst' inherits-from='adventure_movement_building_interactst'/>

    <class-type type-name='adventure_movement_building_interact_lower_well_bucketst' inherits-from='adventure_movement_building_interactst'/>

    <class-type type-name='adventure_movement_building_interact_pull_leverst' inherits-from='adventure_movement_building_interactst'/>

    <class-type type-name='adventure_movement_building_interact_break_in_hatchst' inherits-from='adventure_movement_building_interactst'/>

    <class-type type-name='adventure_movement_building_interact_pick_hatch_lockst' inherits-from='adventure_movement_building_interactst'/>

    <class-type type-name='adventure_movement_building_interact_bash_down_doorst' inherits-from='adventure_movement_building_interactst'/>

    <class-type type-name='adventure_movement_building_interact_pick_door_lockst' inherits-from='adventure_movement_building_interactst'/>

    <class-type type-name='adventure_movement_building_interact_topple_statuest' inherits-from='adventure_movement_building_interactst'/>

    <class-type type-name='adventure_movement_item_interactst' inherits-from='adventure_movement_optionst'>
        <int32_t name='item_id' ref-target='item'/>
    </class-type>

    <class-type type-name='adventure_movement_item_interact_ridest' inherits-from='adventure_movement_item_interactst'/>

    <class-type type-name='adventure_movement_item_interact_pushst' inherits-from='adventure_movement_item_interactst'/>

    <class-type type-name='adventure_movement_item_interact_guidest' inherits-from='adventure_movement_item_interactst'/>

    <class-type type-name='adventure_movement_movest' inherits-from='adventure_movement_optionst'>
        <bitfield type-name='pathfinding_flags' name='override_permit'/>
        <uint32_t name='aim_attack_flag' comment='which flags?'/>
    </class-type>

    <class-type type-name='adventure_movement_hold_tilest' inherits-from='adventure_movement_optionst'>
        <compound name='grab' type-name='coord'/>
    </class-type>

    <class-type type-name='adventure_movement_release_hold_tilest' inherits-from='adventure_movement_optionst'/>

    <class-type type-name='adventure_movement_hold_itemst' inherits-from='adventure_movement_optionst'>
        <int32_t name='item_id' ref-target='item'/>
    </class-type>

    <class-type type-name='adventure_movement_release_hold_itemst' inherits-from='adventure_movement_optionst'/>

    <class-type type-name='adventure_movement_claim_petst' inherits-from='adventure_movement_optionst'>
        <pointer name='animal' type-name='unit'/>
    </class-type>

    <class-type type-name='adventure_movement_lead_animalst' inherits-from='adventure_movement_optionst'>
        <pointer name='animal' type-name='unit'/>
    </class-type>

    <class-type type-name='adventure_movement_pathst' inherits-from='adventure_movement_optionst'>
        <int16_t name='vpz'/>
        <bool name='is_acrobatic'/>
        <bool name='is_down_through_hatch'/>
    </class-type>

    <class-type type-name='adventure_movement_stop_lead_animalst' inherits-from='adventure_movement_optionst'>
        <pointer name='animal' type-name='unit'/>
    </class-type>

    <class-type type-name='adventure_movement_mountst' inherits-from='adventure_movement_optionst'>
        <pointer name='animal' type-name='unit'/>
        <int16_t name='riderposition'/>
    </class-type>

    <class-type type-name='adventure_movement_dismountst' inherits-from='adventure_movement_optionst'/>

    <class-type type-name='adventure_movement_climbst' inherits-from='adventure_movement_optionst'>
        <compound name='grab' type-name='coord'/>
    </class-type>

    <struct-type type-name='reaction_moment_interfacest'>
        <bool name='open'/>

        <stl-vector name='no_attacker_move' pointer-type='unit_action'/>
        <int32_t name='scroll_no_attacker_move'/>
        <bool name='scrolling_no_attacker_move'/>
        <int32_t name='player_unit_projectile_x'/>
        <int32_t name='player_unit_projectile_y'/>
        <int32_t name='player_unit_projectile_z' comment='Corrected Z-coordinate of the player when travelling as a unit projectile after falling or jumping. This value is obtained by adding df.global.world.map.region_z to the local z coordinate.'/>
    </struct-type>

    -- Unused: talk_list_optionst

    <struct-type type-name='adventure_conversation_choice_infost'>
        <pointer name="choice" type-name='talk_choice'/>
        <stl-vector name="keywords" pointer-type='stl-string'/>
        <compound name="title" type-name='curses_text_boxst'/>
        <int32_t name="orig_index"/>
        <int32_t name="ranking"/>
    </struct-type>

    <struct-type type-name='color_text_linest'>
        <static-string name='text' size='769'/>
        <static-string name='color' size='769'/>
    </struct-type>

    <struct-type type-name='color_text_boxst'>
        <stl-vector pointer-type='color_text_linest' name='line'/>
        <int32_t name='width' init-value='76'/>
    </struct-type>

    <struct-type type-name='assume_identity_menu_choicest'>
        <stl-string name='print_name'/>
        <stl-string name='list_name'/>
        <stl-string name='simple_filter_name'/>

        <pointer name='iden' type-name='identity'/>
        <pointer name='worship_hf' type-name='historical_figure'/>
        <enum name='prof' type-name='profession'/>
        <pointer name='entity' type-name='historical_entity'/>
    </struct-type>

    <enum-type type-name='adventure_work_type' base-type='int32_t'> bay12: AdventureWorkType
        <enum-item name='NONE' value='-1'/>
        <enum-item name='CHOP_TREE'/>
        <enum-item name='BUILD_SITE'/>
    </enum-type>

    <struct-type type-name='adventure_workingst'>
        <enum name='type' type-name='adventure_work_type'/>
        <int32_t name='abs_x'/>
        <int32_t name='abs_y'/>
        <int32_t name='abs_z'/>
        <pointer name='target_site' type-name='world_site'/>
    </struct-type>

    <enum-type type-name='adventure_construction_mode_type' base-type='int32_t'> bay12: AdventureConstructionModeType
        <enum-item name='NONE' value='-1'/>
        <enum-item name='CONSTRUCTION'/>
        <enum-item name='MATERIAL'/>
        <enum-item name='BUILDING'/>
        <enum-item name='ZONE_LIST'/>
        <enum-item name='ZONE_NEW_EDIT'/>
        <enum-item name='ZONE_ASSIGN'/>
        <enum-item name='ZONE_LOCATION'/>
    </enum-type>

    <bitfield-type type-name='ac_edit_zone_flag' base-type='uint8_t'> bay12: AC_EDIT_ZONE_FLAG_*
        <flag-bit name='in_zone'/>
        <flag-bit name='current_flow'/>
        <flag-bit name='flow_block'/>
    </bitfield-type>

    <struct-type type-name='adventure_constructionst'>
        <int16_t name='min_x'/>
        <int16_t name='max_x'/>
        <int16_t name='min_y'/>
        <int16_t name='max_y'/>
        <compound name='start' type-name='coord'/>

        <pointer name='site' type-name='world_site'/>

        <int32_t name='building_type'/>
        <int32_t name='building_subtype'/>
        <int32_t name='building_subcat1'/>
        <int32_t name='building_subcat2'/>
        <uint32_t name='building_jobitemflag'/>

        <int32_t name='selected_build_phase'/>

        <enum type-name='adventure_construction_mode_type' name='mode'/>
        <enum type-name='adventure_construction_mode_type' name='material_mode'/>
        <bool name='removing_planned'/>
        <bool name='removing_existing'/>

        <bool name='choosing_workshop'/>

        <stl-vector name='civzone' pointer-type='building_civzonest'/>
        <int32_t name='selected_civzone'/>
        <static-array name='edit_zone_flag' count='144'>
            <static-array count='144'>
                <bitfield base-type='uint8_t' type-name='ac_edit_zone_flag'/>
            </static-array>
        </static-array>
        <bool name='doing_zone_flow'/>
        <bool name='removing_zone'/>
        <compound name='zone' type-name='coord'/>
        <pointer name='editing_zone' type-name='building_civzonest'/>
        <stl-vector name='zone_assign_hf' pointer-type='historical_figure'/>
        <int32_t name='selected_zone_assign'/>

        <stl-vector name='valid_ab' pointer-type='abstract_building'/>
        <int32_t name='selected_ab'/>
        <stl-vector name='valid_religious_practice' type-name='religious_practice_type'/>
        <stl-vector name='valid_religious_practice_id' type-name='religious_practice_data'/>
        <int32_t name='selected_religious_practice'/>
        <bool name='choosing_location_type'/>
        <bool name='choosing_temple_religious_practice'/>
        <bool name='choosing_craft_guild'/>
        <stl-vector name='valid_craft_guild_type' type-name='profession'/>
        <int32_t name='selected_craft_guild'/>

        <stl-vector name='material' type-name='int16_t'/>
        <stl-vector name='matgloss' type-name='int32_t'/>
        <stl-vector name='mat_jobitemflag' type-name='uint32_t'/>
        <stl-vector name='material_count' type-name='int32_t'/>
        <stl-vector name='material_master' type-name='int16_t'/>
        <stl-vector name='matgloss_master' type-name='int32_t'/>
        <stl-vector name='mat_jobitemflag_master' type-name='uint32_t'/>
        <stl-vector name='material_count_master' type-name='int32_t'/>
        <int32_t name='material_select'/>
        <stl-string name='material_filter'/>
        <bool name='material_doing_filter'/>

        <bool name='doing_start_menu'/>

        <bool name='start_menu_you_will_work'/>
        <stl-vector name='start_menu_worker' pointer-type='unit'/>
        <stl-bit-vector name='start_menu_can_work'/>
        <stl-bit-vector name='start_menu_will_work'/>
        <int32_t name='start_menu_selected_worker'/>

        <stl-vector name='start_menu_used_mat_item' type-name='int32_t'/>
        <stl-vector name='start_menu_used_mat_item_st' type-name='int32_t'/>
        <stl-vector name='start_menu_used_mat_item_tool_use' type-name='int32_t'/>
        <stl-vector name='start_menu_used_material' type-name='int16_t'/>
        <stl-vector name='start_menu_used_matgloss' type-name='int32_t'/>
        <stl-vector name='start_menu_used_mat_job_item_flag' type-name='uint32_t'/>
        <stl-vector name='start_menu_used_mat_state' type-name='matter_state'/>
        <stl-vector name='start_menu_used_mat_count' type-name='int32_t'/>
        <stl-vector name='start_menu_have_mat_count' type-name='int32_t'/>
        <int32_t name='start_menu_selected_mat'/>

        <int32_t name='start_menu_total_hours'/>
        <int32_t name='start_menu_you_hours'/>
        <int32_t name='start_menu_you_max_hours'/>
    </struct-type>

    -- Unused: AdventureTravelCheckType

    <bitfield-type type-name='adventure_rumor_data_flag' base-type='uint32_t'> bay12: ADVENTURE_RUMOR_DATA_FLAG_*
        <flag-bit name='priority'/>
        <flag-bit name='starting_rumor'/>
    </bitfield-type>

    <struct-type type-name='adventure_rumor_datast'>
        <compound name='rumor' type-name='entity_event'/>

        <bitfield name='flags' base-type='uint32_t' type-name='adventure_rumor_data_flag'/>

        <int32_t name='last_told_visual_hfid'/>
        <int32_t name='last_told_year'/>
        <int32_t name='last_told_season_count'/>
        <int32_t name='last_told_click_per_click'/>
        <int32_t name='last_told_abs_tile_x'/>
        <int32_t name='last_told_abs_tile_y'/>
        <int32_t name='last_told_abs_tile_z'/>

        <int32_t name='first_told_visual_hfid'/>
        <int32_t name='first_told_year'/>
        <int32_t name='first_told_season_count'/>
        <int32_t name='first_told_click_per_click'/>
        <int32_t name='first_told_abs_tile_x'/>
        <int32_t name='first_told_abs_tile_y'/>
        <int32_t name='first_told_abs_tile_z'/>
    </struct-type>

    <struct-type type-name='adventure_rumor_infost'>
        <stl-vector name='base_data' pointer-type='adventure_rumor_datast' since='v0.44.10'/>
        <static-array name='data' count='34' index-enum='entity_event_type'>
            <stl-vector pointer-type='adventure_rumor_datast'/>
        </static-array>
    </struct-type>

    <bitfield-type type-name='tracking_flag' base-type='uint32_t'> bay12: TRACKING_FLAG_*
        <flag-bit name='display_latest'/>
        <flag-bit name='display_travel'/>
        <flag-bit name='display_odor'/>
    </bitfield-type>

    <bitfield-type type-name='adventure_flag' base-type='uint32_t'> bay12: ADVENTURE_FLAG_*
        <flag-bit name='building_action_list'/>
        <flag-bit name='always_prompt'/>
    </bitfield-type>

    <bitfield-type type-name='adventure_chosen_flag' base-type='uint32_t'> bay12: ADVENTURE_CHOSEN_FLAG_*
        <flag-bit name='did_deity_start_talk'/>
        <flag-bit name='did_exit_castle_advice'/>
        <flag-bit name='initial_temple_follow_compass_advice'/>
        <flag-bit name='temple_talk_have_talked_to_priest'/>
        <flag-bit name='temple_talk_have_taught_how_to_talk'/>
        <flag-bit name='get_to_quest_first_log_advice'/>
        <flag-bit name='get_to_quest_highlight_start_travel'/>
        <flag-bit name='get_to_quest_highlight_end_travel'/>
        <flag-bit name='on_quest_follow_compass_advice'/>
        <flag-bit name='on_quest_combat_warning_advice'/>
        <flag-bit name='on_quest_have_item_congratulations'/>
        <flag-bit name='finish_quest_find_return_location_advice'/>
        <flag-bit name='finish_quest_at_temple_with_item_advice'/>
        <flag-bit name='finish_quest_success'/>
        <flag-bit name='finish_quest_wrong_religion'/>
        <flag-bit name='finish_quest_wrong_deity'/>
        <flag-bit name='did_popup_check'/>
        <flag-bit name='finish_quest_announced_success'/>
        <flag-bit name='finish_quest_announced_wrong_religion'/>
        <flag-bit name='finish_quest_announced_wrong_deity'/>
        <flag-bit name='chosen_quest_completed'/>
    </bitfield-type>

    <enum-type type-name='adventure_travel_exception_type' base-type='int32_t'> bay12: AdventureTravelExceptionType
        <enum-item name='GENERIC'/>
        <enum-item name='UNDERGROUND_NO_TUNNEL'/>
        <enum-item name='NO_LEGAL_SITE_REALIZATION_DIRECTION'/>
        <enum-item name='NEAR_RIVER'/>
        <enum-item name='BOGEYMEN'/>
        <enum-item name='ENCOUNTER'/>
        <enum-item name='STOLEN_GOODS'/>
        <enum-item name='BLEEDING'/>
        <enum-item name='CANT_BREATHE'/>
        <enum-item name='THIRST'/>
        <enum-item name='HUNGER'/>
        <enum-item name='DROWNING'/>
        <enum-item name='SWIMMING'/>
        <enum-item name='IN_AIR'/>
        <enum-item name='WATER_BIOME'/>
        <enum-item name='MOUNTAIN_BIOME'/>
        <enum-item name='ON_VEHICLE'/>
        <enum-item name='ON_PROJECTILE'/>
        <enum-item name='MUST_LEAVE_SITE'/>
        <enum-item name='NUM'/>
        <enum-item name='NONE'/> NOT -1
    </enum-type>

    <enum-type type-name='adventure_game_loop_type' base-type='int32_t'> bay12: AdventureGameLoopType
        <enum-item name='NONE' value='-1'/>
        <enum-item name='TAKING_INPUT'/>
        <enum-item name='ENTER'/>
        <enum-item name='INITIAL_PROCESSING'/>
        <enum-item name='SUBSEQUENT_PROCESSING'/>
        <enum-item name='MOVE_UNIT_PROCESSING'/>
        <enum-item name='FINAL_PROCESSING'/>
        <enum-item name='TAKING_TOO_LONG_INPUT'/>
    </enum-type>

    <struct-type type-name='adventurest'>
        <enum base-type='int16_t' name='menu' type-name='ui_advmode_menu'/>

        <pointer name='dungeon_screen' type-name='viewscreen_dungeonmodest'/>

        <int8_t name='site_level_zoom' comment='bay12: viewmode; when set, the travel map is zoomed in to show site details'/>
        <int32_t name='travel_origin_x' comment='bay12: local_apparent_abs_smm_x'/>
        <int32_t name='travel_origin_y' comment='bay12: local_apparent_abs_smm_y'/>  Coordinates of the player on the map when the travel screen is opened. Determine the displayed position whilst travel_not_moved is set
        <int32_t name='travel_origin_z' comment='bay12: local_apparent_layer_depth'/>

        <int8_t name='travel_clouds'/>
        <enum base-type='int8_t' name='travel_right_map' comment='bay12: travel_map; is an int8_t'>
            <enum-item name='MapNone'/>
            <enum-item name='MapSite'/>
            <enum-item name='MapWorld'/>
        </enum>
        <stl-string name='message' comment='bay12: travel_exception; you must move from surrounding obstacles'/>
        <int16_t name='message_color' comment='bay12: travel_exception_color'/>
        <int8_t name='message_brightness' comment='bay12: travel_exception_bright'/>
        <enum name='travel_exception_type' type-name='adventure_travel_exception_type'/>
        <int32_t name='travel_exception_id'/>
        <int8_t name='travel_not_moved' comment='bay12: still_local'/>
        <int8_t name='local_sleep_origination'/>

        <compound name='local_working' type-name='adventure_workingst'/>
        <enum name='local_composing_writing_form' type-name='written_content_type'/>
        <int32_t name='local_composing_writing_form_id'/>
        <int32_t name='local_write_target_itid'/>
        <enum name='local_write_writing_form' type-name='written_content_type'/>
        <int32_t name='local_write_wcid'/>

        <int8_t name='offload_timer' comment='bay12: offloading_site; Set to 10 when actions which offload the map are undertaken, such as sleeping and making the first fast travel movement. Decreases by 1 each frame thereafter until it reaches 0. Forcing a constant value above 0 prevents progression of the action beyond the Offloading Map message.'/>

        <int32_t name='tick_counter' comment='bay12: click_per_click; goes up to XXX'/>
        <int32_t name='frame_counter' comment='bay12: transient_phase; goes up to 10000 (ticks?)'/>

        <int16_t name='last_hour' comment='Appears to increment by 2 every 144 advmode ticks.'/>

        <int8_t name='sleeping'/>
        <int8_t name='sleep_interrupt'/>

        <int32_t name='bogeymen_ambush_size' comment='bay12: bogeymen_number; Setting this to a number greater than 0 causes a bogeyman ambush to begin, spawning the specified number of bogeymen around the adventurer. Normally initialized to 4-7 when the cackling starts.'/>
        <int32_t name='bogeymen_killed' comment='bay12: bogeymen_killed_this_attack; Keeps track of the number of bogeymen killed during a bogeyman ambush. The cackling ends when this is equal to bogeymen_ambush_size.'/>
        <int32_t name='bogeymen_ambush_delay' comment='bay12: bogeymen_season_timer; Initialized to 60 when the cackling starts, preventing later bogeyman ambushes until it decreases to 0.'/>

        <int32_t name='fake_ambush_timer'/>

        <stl-vector type-name='int32_t' name='searched_x' comment='bay12: searched_location_x'/>
        <stl-vector type-name='int32_t' name='searched_y' comment='bay12: searched_location_y'/>
        <stl-vector type-name='int32_t' name='searched_z' comment='bay12: searched_location_z'/>
        <stl-vector type-name='int32_t' name='searched_timeout'  comment='bay12: searched_location_timer'/>

        <int32_t name='total_move'/>
        <int32_t name='start_skill_total'/>
        <int8_t name='need_start_skill_total'/>

        <stl-vector name='sleep_permission_stid' type-name='int32_t' ref-target='world_site'/>
        <stl-vector name='sleep_permission_srbid' type-name='int32_t'/>
        <stl-vector name='sleep_permission_timer' type-name='int32_t'/>

        <int32_t name='player_army_id' ref-target='army' comment='bay12: your_army_id'/>

        <static-array name='tracks_x' type-name='int32_t' count='1000' comment='bay12: latest_tract_abs_x; X coordinates of spoors encountered by the player. The coordinate system used counts local tiles from the upper left most tile of the world map, so df.global.world.map.region_x*48 is added to the local x coordinate.'/>
        <static-array name='tracks_y' type-name='int32_t' count='1000' comment='bay12: latest_tract_abs_y; Y coordinates of spoors encountered by the player. The coordinate system used counts local tiles from the upper left most tile of the world map, so df.global.world.map.region_y*48 is added to the local y coordinate.'/>
        <static-array name='tracks_z' type-name='int32_t' count='1000' comment='bay12: latest_tract_abs_z; Z coordinates of spoors encountered by the player. The local z coordinate is corrected by adding df.global.world.map.region_z to it.'/>
        <int32_t name='tracks_next_idx' comment='bay12: latest_track_pos; Index of the next entry in tracks_x, tracks_y, tracks_z'/>
        <bitfield name='tracks_flags' type-name='tracking_flag'/>
        <int32_t name='tracks_visible' comment='bay12: lit_latest_track_count; The quantity of spoors currently visible to the player.'/>
        <static-array name='travel_exemplar_x' type-name='int16_t' count='9'/>
        <static-array name='travel_exemplar_y' type-name='int16_t' count='9'/>
        <static-array name='travel_exemplar_z' type-name='int16_t' count='9'/>
        <static-array count='9' name='exemplar_track_data'> bay12: bse_spoor_datast
            <bitfield name='flag' type-name='spoor_flag'/>
            <enum name='type' type-name='spoor_type'/>
            <int32_t name='id1'/>
            <int32_t name='id2'/>
            <int32_t name='id3'/>
        </static-array>

        <static-array name='travel_exemplar_valid' type-name='uint8_t' count='9'/>
        <static-array name='travel_exemplar_tile' type-name='uint8_t' count='9'/>
        <static-array name='travel_exemplar_num' type-name='int32_t' count='9'/>
        <static-array name='travel_exemplar_dir' type-name='uint8_t' count='9'/>

        <int32_t name='odor_race' ref-target='creature_raw' comment='bay12: latest_smell_race; race ID of strongest odor creature'/>
        <int32_t name='odor_caste' ref-target='caste_raw' aux-value='$$.odor_race' comment='bay12: latest_smell_caste; caste ID of strongest odor creature'/>
        <bool name='odor_death' comment='bay12: latest_smell_death; Overrides creature odor with odor of Death'/>

        <int32_t name='travel_odor_race' ref-target='creature_raw' comment='bay12: travel_smell_race; race ID of strongest odor creature in fast travel mode'/>
        <int32_t name='travel_odor_caste' ref-target='caste_raw' aux-value='$$.travel_odor_race' comment='bay12: travel_smell_caste; caste ID of strongest odor creature in fast travel mode'/>
        <bool name='travel_odor_death'/>

        <bitfield name='flags' type-name='adventure_flag'/>

        <bitfield name='chosen_flags' base-type='uint32_t' type-name='adventure_chosen_flag'/>
        <int32_t name='chosen_deity_hfid' ref-target='historical_figure'/>
        <int32_t name='chosen_religion_enid' ref-target='historical_entity'/>
        <int32_t name='chosen_temple_stid' ref-target='world_site'/>
        <int32_t name='chosen_temple_abid' ref-target='abstract_building'/>
        <int32_t name='chosen_priest_hfid' ref-target='historical_figure'/>

        <compound name='rumor_info' type-name='adventure_rumor_infost'/>

        <bool name='tactical_mode'/>

        <compound name='construction' type-name='adventure_constructionst'/>

        <int32_t name='wait_timer' comment='bay12: dungeon_waiting; A_WAIT sets this to 10. It subsequently decreases by 1 every advmode tick, preventing the player from controlling their adventurer (by setting player_control_state) until it reaches 0.'/>

        <int32_t name='world_debug_pass_time'/>
        <int32_t name='world_debug_loaded_center_abs_smm_x'/>?
        <int32_t name='world_debug_loaded_center_abs_smm_y'/>?
        <stl-vector name='world_debug_army' pointer-type='army'/>
        <int32_t name='world_debug_army_scroll'/>?
        <bool name='world_debug_viewing_army_details'/>

        <int16_t name='long_action_duration' comment='bay12: travel_goal_count; Set at the beginning of a long action which unloads the map, such as sleeping, making the first fast travel move, composing, etc. For sleeping, it is set to 800*(hours of sleep). For making the first fast travel move, seems to always be set to 17. 3200 for composing poetry. Resets to 0 after 10 frames.'/>
        <int16_t name='travel_start_x' comment='bay12: travel_goal_abs_smm_x'/>
        <int16_t name='travel_start_y' comment='bay12: travel_goal_abs_smm_y'/>  Coordinates of the player on the map right after their first fast travel move
        <int16_t name='travel_start_z' comment='bay12: travel_goal_layer_depth'/>
        <int32_t name='player_id' ref-target='nemesis_record' comment='bay12: your_nem_index; name suggests this is a nemesis index, not a nemesis ID, though in practice they should be the same'/>

        <compound name='viewing_spoor' type-name='coord'/>
        <pointer name='viewing_spoor_bse' type-name='block_square_event_spoorst'/>

        <stl-vector name='commands' pointer-type='adventure_optionst'/>
        <stl-vector name='movements' pointer-type='adventure_movement_optionst'/>
        <stl-vector name='movement_item_interact' pointer-type='adventure_movement_optionst'/>
        <int32_t name='sleep_hours'/>
        <bool name='sleep_until_dawn'/>
        <bool name='started_sleep_at_dawn'/>
        <bool name='sleep_sleep'/>
        <bool name='sleeping_indoors'/>
        <bool name='sleeping_underground'/>
        <enum name='player_control_state' type-name='adventure_game_loop_type'/>
        <int8_t name='item_projectiles_state' comment='Observed to be set to 1 when an item is thrown or fired, or a limb is sent flying after being severed off. Over a number of frames (dependent on the distance travelled by the projectile) this eventually changes to 2 and then finally back to 0 (a number of frames after the projectile has reached its final destination). Sometimes (seemingly when the distance travelled is long) it changes from 1 to 2 and back to 1 immediately midway into this process. The player_control_state is set to 2 until this is complete. Forcing a constant item_projectiles_state of 0 causes item projectiles to hang in the air.'/>
        <uint32_t name='projsubloop_last_visible_animation_tick'/>
        <bool name='projsubloop_visible_projectile'/>
        <int32_t name='game_loop_move_unit'/>
        <static-array count='10' name='game_loop_animation_type' type-name='combat_animation_swish_type'/>
        <static-array count='10' name='game_loop_animation_dir' type-name='combat_animation_swish_direction_type'/>
        <static-array count='10' name='game_loop_animation_color' type-name='int32_t'/>
        <static-array count='10' name='game_loop_animation_mx' type-name='int16_t'/>
        <static-array count='10' name='game_loop_animation_my' type-name='int16_t'/>
        <static-array count='10' name='game_loop_animation_mz' type-name='int16_t'/>
        <uint32_t name='game_loop_animation_timer_start'/>
        <int32_t name='game_loop_animation_num'/>

        <int32_t name='old_target_page'/>

        <compound name='interactions'> not a compound
            <stl-vector name='party_core_members' type-name='int32_t' ref-target='historical_figure' since='v0.47.01' comment='Contains IDs of the non-pet historical figures that the player party started off with. Figures in this list are eligible for control via tactical mode.'/>
            <stl-vector name='party_pets' type-name='int32_t' ref-target='historical_figure' since='v0.47.01' comment='Contains historical figure IDs of pets owned by the party, both those that the player started off with as well as others claimed later on.'/>
            <stl-vector name='party_extra_members' type-name='int32_t' ref-target='historical_figure' comment='Contains IDs of non-pet historical figures who joined the player party later on.'/>
            <stl-vector name='party_extra_pets' type-name='int32_t' ref-target='historical_figure' comment='Contains IDs of pet historical figures who joined the player party later on.'/>

            <stl-vector name='it_list' pointer-type='interaction_target_instance_listst'/>
            <stl-vector name='it_list_target_choice' pointer-type='general_ref' since='v0.47.01'/>
            <pointer name='current_interaction_info_ptr' type-name='interaction_informationst'/>
            <int32_t name='selected_ability' init-value='-1' comment='natural ability'/>
            <int32_t name='selected_power' init-value='-1' comment='acquired power'/>
            <pointer name='selected_item_power' type-name='item_powerst'/>
            <pointer name='current_it_list_itt' type-name='interaction_target'/>
            <int32_t name='max_target_number' init-value='-1'/>
            <int32_t name='target_range'/>
            <bitfield name='target_flags' type-name='creature_interaction_target_flags' base-type='int32_t'/>
            <pointer name='current_it_list_itil' type-name='interaction_target_instance_listst'/>
        </compound>

        <stl-string name='pickup_amount_str'/>
        <int32_t name="pickup_amount_max"/>
        <int32_t name="pickup_amount_i"/>

        <compound name='reaction_moment' type-name='reaction_moment_interfacest'/>

        <compound name='sound_indicator' type-name='sound_indicator_handlerst'/>

        <int16_t name='move_direction_x' comment='x-axis direction for the last attempted player unit movement: -1 = west, 0 = none, 1 = east'/>
        <int16_t name='move_direction_y' comment='y-axis direction for the last attempted player unit movement: -1 = north, 0 = none, 1 = south'/>
        <int16_t name='move_direction_z' comment='z-axis direction for the last attempted player unit movement: -1 = down, 0 = none, 1 = up'/>
        <bool name='move_do_mid_move'/>
        <bool name='move_carefully' comment='Is set when the player prepares to move carefully (via the Alt + movement key combo)'/>
        <int16_t name='careful_direction_x' comment='x-axis direction for the last attempted careful player unit movement: -1 = west, 0 = none, 1 = east'/>
        <int16_t name='careful_direction_y' comment='y-axis direction for the last attempted careful player unit movement: -1 = north, 0 = none, 1 = south'/>
        <stl-string name='interrupt_performance_warning' comment='the message displayed when the player attempts to move while their unit is performing'/>

        <int32_t name='last_took_input_year'/>
        <int32_t name='last_took_input_season_count'/>
        <int32_t name='last_took_input_precise_phase'/>
    </struct-type>
</data-definition>

<!--
Local Variables:
indent-tabs-mode: nil
nxml-child-indent: 4
End:
-->
