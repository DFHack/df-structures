<data-definition>
    -- Data types defined specifically for DFHack, as well as others that don't have a good place to live

    <struct-type type-name='global_table_entry'>
        <ptr-string name='name'/>
        <pointer name='address'/>
        <size_t name='size'/>
    </struct-type>

    <global-object name='global_table'>
        <static-array type-name='global_table_entry' count='363'/>
    </global-object>

    <struct-type type-name='tile_bitmask' custom-methods='true' comment='not in DF, 16x16 bitmask'>
        <static-array name='bits' count='16' type-name='uint16_t'/>
        <custom-methods>
            <cmethod name='clear'/>
            <cmethod name='set_all'/>
            <cmethod name='has_assignments'/>
        </custom-methods>
    </struct-type>

    <enum-type type-name='dfhack_room_quality_level'>
        <comment>
        Not in DF

        Royal Throne Room   | Royal Bedroom   | Royal Dining Room  | Royal Mausoleum
        Opulent Throne Room | Grand Bedroom   | Grand Dining Room  | Grand Mausoleum
        Throne Room         | Great Bedroom   | Great Dining Room  | Mausoleum
        Splendid Office     | Fine Quarters   | Fine Dining Room   | Fine Tomb
        Decent Office       | Decent Quarters | Decent Dining Room | Tomb
        Office              | Quarters        | Dining Room        | Burial Chamber
        Modest Office       | Modest Quarters | Modest Dining Room | Servant's Burial Chamber
        Meager Office       | Meager Quarters | Meager Dining Room | Grave
        </comment>

        <enum-attr name='min_value' type-name='int32_t'/>
        <enum-attr name='office'/>
        <enum-attr name='bedroom'/>
        <enum-attr name='dining_room'/>
        <enum-attr name='burial'/>

        <enum-item name='Meager'>
            <item-attr name='min_value' value='0'/>
            <item-attr name='office' value="Meager Office"/>
            <item-attr name='bedroom' value="Meager Quarters"/>
            <item-attr name='dining_room' value="Meager Dining Room"/>
            <item-attr name='burial' value="Grave"/>
        </enum-item>
        <enum-item name='Modest'>
            <item-attr name='min_value' value='100'/>
            <item-attr name='office' value="Modest Office"/>
            <item-attr name='bedroom' value="Modest Quarters"/>
            <item-attr name='dining_room' value="Modest Dining Room"/>
            <item-attr name='burial' value="Servant's Burial Chamber"/>
        </enum-item>
        <enum-item name='Normal'>
            <item-attr name='min_value' value='250'/>
            <item-attr name='office' value="Office"/>
            <item-attr name='bedroom' value="Quarters"/>
            <item-attr name='dining_room' value="Dining Room"/>
            <item-attr name='burial' value="Burial Chamber"/>
        </enum-item>
        <enum-item name='Decent'>
            <item-attr name='min_value' value='500'/>
            <item-attr name='office' value="Decent Office"/>
            <item-attr name='bedroom' value="Decent Quarters"/>
            <item-attr name='dining_room' value="Decent Dining Room"/>
            <item-attr name='burial' value="Tomb"/>
        </enum-item>

        <enum-item name='Fine'>
            <item-attr name='min_value' value='1000'/>
            <item-attr name='office' value="Splendid Office"/>
            <item-attr name='bedroom' value="Fine Quarters"/>
            <item-attr name='dining_room' value="Fine Dining Room"/>
            <item-attr name='burial' value="Fine Tomb"/>
        </enum-item>
        <enum-item name='Great'>
            <item-attr name='min_value' value='1500'/>
            <item-attr name='office' value="Throne Room"/>
            <item-attr name='bedroom' value="Great Bedroom"/>
            <item-attr name='dining_room' value="Great Dining Room"/>
            <item-attr name='burial' value="Mausoleum"/>
        </enum-item>
        <enum-item name='Grand'>
            <item-attr name='min_value' value='2500'/>
            <item-attr name='office' value="Opulent Throne Room"/>
            <item-attr name='bedroom' value="Grand Bedroom"/>
            <item-attr name='dining_room' value="Grand Dining Room"/>
            <item-attr name='burial' value="Grand Mausoleum"/>
        </enum-item>
        <enum-item name='Royal'>
            <item-attr name='min_value' value='10000'/>
            <item-attr name='office' value="Royal Throne Room"/>
            <item-attr name='bedroom' value="Royal Bedroom"/>
            <item-attr name='dining_room' value="Royal Dining Room"/>
            <item-attr name='burial' value="Royal Mausoleum"/>
        </enum-item>
    </enum-type>

    <enum-type type-name='curses_color' base-type='uint8_t'>
        Using the color names without "dark" or "light", favoring primaries.
        <enum-item name='Black'/>
        <enum-item name='Blue'/>
        <enum-item name='Green'/>
        <enum-item name='Cyan'/>
        <enum-item name='Red'/>
        <enum-item name='Magenta'/>
        <enum-item name='Yellow'/>
        <enum-item name='White'/>
    </enum-type>

    <bitfield-type type-name='cmv_attribute' base-type='uint8_t'>
        <flag-bit name='fg' count='3' type-name='curses_color'/>
        <flag-bit name='bg' count='3' type-name='curses_color'/>
        <flag-bit name='bright'/>
    </bitfield-type>

    <enum-type type-name='item_quality' base-type='int16_t'> DFHack-only
        <enum-item name='Ordinary'/>
        <enum-item name='WellCrafted'/>
        <enum-item name='FinelyCrafted'/>
        <enum-item name='Superior'/>
        <enum-item name='Exceptional'/>
        <enum-item name='Masterful'/>
        <enum-item name='Artifact'/>
    </enum-type>

    <bitfield-type type-name='dfhack_material_category' base-type='uint32_t'>
        <comment>
            An extended version of job_material_category,
            for use in some plugins, like workflow.
        </comment>
        <!-- The start must be identical to job_material_category -->
        <flag-bit name='plant'/>
        <flag-bit name='wood'/>
        <flag-bit name='cloth'/>
        <flag-bit name='silk'/>
        <flag-bit name='leather'/>
        <flag-bit name='bone'/>
        <flag-bit name='shell'/>
        <flag-bit name='wood2'/>
        <flag-bit name='soap'/>
        <flag-bit name='tooth'/>
        <flag-bit name='horn'/>
        <flag-bit name='pearl'/>
        <flag-bit name='yarn'/>
        <flag-bit name='strand'/>
        <!-- DFHack-specific fields -->
        <flag-bit name='metal'/>
        <flag-bit name='stone'/>
        <flag-bit name='sand'/>
        <flag-bit name='glass'/>
        <flag-bit name='clay'/>
        <flag-bit name='milk'/>
        <flag-bit name='gem'/>
    </bitfield-type>

    <enum-type type-name='job_type_class' comment='not in DF'>
        <enum-item name='Misc'/>
        <enum-item name='Digging'/>
        <enum-item name='Building'/>
        <enum-item name='Hauling'/>
        <enum-item name='LifeSupport'/>
        <enum-item name='TidyUp'/>
        <enum-item name='Leisure'/>
        <enum-item name='Gathering'/>
        <enum-item name='Manufacture'/>
        <enum-item name='Improvement'/>
        <enum-item name='Crime'/>
        <enum-item name='LawEnforcement'/>
        <enum-item name='StrangeMood'/>
        <enum-item name='UnitHandling'/>
        <enum-item name='SiegeWeapon'/>
        <enum-item name='Medicine'/>
        <enum-item name='Carving'/>
    </enum-type>

    <struct-type type-name='knowledge_scholar_category_flag' comment='not a real structure'>
        <extra-include type-name='dfhack_knowledge_scholar_flag'/>
        <enum name='flag_type' base-type='int32_t' comment='clone of research_project_type; determines which bitflags to use'>
            <enum-item name='flags_0'/>
            <enum-item name='flags_1'/>
            <enum-item name='flags_2'/>
            <enum-item name='flags_3'/>
            <enum-item name='flags_4'/>
            <enum-item name='flags_5'/>
            <enum-item name='flags_6'/>
            <enum-item name='flags_7'/>
            <enum-item name='flags_8'/>
            <enum-item name='flags_9'/>
            <enum-item name='flags_10'/>
            <enum-item name='flags_11'/>
            <enum-item name='flags_12'/>
            <enum-item name='flags_13'/>
        </enum>
        <compound name='flag_data' is-union='true'>
            <bitfield name='flags_0' type-name='knowledge_scholar_flags_0'/>
            <bitfield name='flags_1' type-name='knowledge_scholar_flags_1'/>
            <bitfield name='flags_2' type-name='knowledge_scholar_flags_2'/>
            <bitfield name='flags_3' type-name='knowledge_scholar_flags_3'/>
            <bitfield name='flags_4' type-name='knowledge_scholar_flags_4'/>
            <bitfield name='flags_5' type-name='knowledge_scholar_flags_5'/>
            <bitfield name='flags_6' type-name='knowledge_scholar_flags_6'/>
            <bitfield name='flags_7' type-name='knowledge_scholar_flags_7'/>
            <bitfield name='flags_8' type-name='knowledge_scholar_flags_8'/>
            <bitfield name='flags_9' type-name='knowledge_scholar_flags_9'/>
            <bitfield name='flags_10' type-name='knowledge_scholar_flags_10'/>
            <bitfield name='flags_11' type-name='knowledge_scholar_flags_11'/>
            <bitfield name='flags_12' type-name='knowledge_scholar_flags_12'/>
            <bitfield name='flags_13' type-name='knowledge_scholar_flags_13'/>
            <uint32_t name='whole'/>
        </compound>

        <custom-methods>
            <cmethod name='value'/>
        </custom-methods>
    </struct-type>

    <enum-type type-name='dfhack_knowledge_scholar_flag' base-type='int32_t' comment='not in DF'>
        <enum-item name='philosophy_logic_formal_reasoning' value='0'/>
        <enum-item name='philosophy_logic_deductive_reasoning'/>
        <enum-item name='philosophy_logic_syllogistic_logic'/>
        <enum-item name='philosophy_logic_hypothetical_syllogisms'/>
        <enum-item name='philosophy_logic_propositional_logic'/>
        <enum-item name='philosophy_logic_dialectic_reasoning'/>
        <enum-item name='philosophy_logic_analogical_inference'/>
        <enum-item name='philosophy_ethics_applied_medical'/>

        <enum-item name='philosophy_ethics_individual_value'/>
        <enum-item name='philosophy_ethics_state_consequentialism'/>
        <enum-item name='philosophy_epistemology_truth'/>
        <enum-item name='philosophy_epistemology_perception'/>
        <enum-item name='philosophy_epistemology_justification'/>
        <enum-item name='philosophy_epistemology_belief'/>
        <enum-item name='philosophy_metaphysics_existence'/>
        <enum-item name='philosophy_metaphysics_time'/>

        <enum-item name='philosophy_metaphysics_mind_body'/>
        <enum-item name='philosophy_metaphysics_objects_and_properties'/>
        <enum-item name='philosophy_metaphysics_wholes_and_parts'/>
        <enum-item name='philosophy_metaphysics_events'/>
        <enum-item name='philosophy_metaphysics_processes'/>
        <enum-item name='philosophy_metaphysics_causation'/>
        <enum-item name='philosophy_ethics_applied_military'/>
        <enum-item name='philosophy_ethics_applied_interpersonal_conduct'/>

        <enum-item name='philosophy_specialized_law'/>
        <enum-item name='philosophy_specialized_education'/>
        <enum-item name='philosophy_specialized_language_grammar'/>
        <enum-item name='philosophy_specialized_language_etymology'/>
        <enum-item name='philosophy_specialized_politics_diplomacy'/>
        <enum-item name='philosophy_specialized_politics_government_forms'/>
        <enum-item name='philosophy_specialized_politics_economic_policy'/>
        <enum-item name='philosophy_specialized_politics_social_welfare'/>

        <enum-item name='philosophy_logic_inductive_reasoning' value='32'/>
        <enum-item name='philosophy_logic_direct_inference'/>
        <enum-item name='philosophy_aesthetics_nature_of_beauty'/>
        <enum-item name='philosophy_aesthetics_value_of_art'/>
        <enum-item name='philosophy_specialized_language_dictionary'/>

        <enum-item name='mathematics_method_proof_by_contradiction' value='64'/>
        <enum-item name='mathematics_notation_zero'/>
        <enum-item name='mathematics_notation_negative_numbers'/>
        <enum-item name='mathematics_notation_large_numbers'/>
        <enum-item name='mathematics_notation_positional'/>
        <enum-item name='mathematics_geometry_basic_objects'/>
        <enum-item name='mathematics_method_exhaustion'/>
        <enum-item name='mathematics_geometry_similar_and_congruent_triangles'/>

        <enum-item name='mathematics_geometry_geometric_mean_theorem'/>
        <enum-item name='mathematics_geometry_isosceles_base_angles_equal'/>
        <enum-item name='mathematics_geometry_inscribed_triangle_on_diameter_is_right'/>
        <enum-item name='mathematics_geometry_pythagorean_theorem'/>
        <enum-item name='mathematics_geometry_pythagorean_triples_small'/>
        <enum-item name='mathematics_geometry_pythagorean_triples_3_digit'/>
        <enum-item name='mathematics_geometry_pythagorean_triples_4_digit'/>
        <enum-item name='mathematics_geometry_existence_of_incommensurable_ratios'/>

        <enum-item name='mathematics_method_axiomatic_reasoning'/>
        <enum-item name='mathematics_numbers_unique_prime_factorization'/>
        <enum-item name='mathematics_numbers_algorithm_for_computing_gcd'/>
        <enum-item name='mathematics_geometry_volume_of_pyramid'/>
        <enum-item name='mathematics_geometry_volume_of_cone'/>
        <enum-item name='mathematics_geometry_volume_of_sphere'/>
        <enum-item name='mathematics_geometry_pi_to_4_digits'/>
        <enum-item name='mathematics_numbers_division_algorithm'/>

        <enum-item name='mathematics_geometry_table_of_chord_values'/>
        <enum-item name='mathematics_geometry_area_of_triangle_from_side_lengths'/>
        <enum-item name='mathematics_geometry_area_of_circle'/>
        <enum-item name='mathematics_geometry_pi_to_6_digits'/>
        <enum-item name='mathematics_geometry_definitions_and_basic_properties_of_conic_sections'/>
        <enum-item name='mathematics_numbers_chinese_remainder_algorithm'/>
        <enum-item name='mathematics_geometry_area_enclosed_by_line_and_parabola'/>
        <enum-item name='mathematics_numbers_sieve_algorithm_for_primes'/>

        <enum-item name='mathematics_numbers_root_2_to_5_digits' value='96'/>
        <enum-item name='mathematics_numbers_infinite_primes'/>
        <enum-item name='mathematics_numbers_root_2_irrational'/>
        <enum-item name='mathematics_geometry_surface_area_of_sphere'/>
        <enum-item name='mathematics_algebra_finite_summation_formulas'/>
        <enum-item name='mathematics_algebra_solving_linear_systems'/>
        <enum-item name='mathematics_algebra_balancing_and_completion'/>
        <enum-item name='mathematics_algebra_quadratic_by_completing_square'/>

        <enum-item name='mathematics_algebra_quadratic_formula'/>
        <enum-item name='mathematics_notation_syncopated_algebra'/>
        <enum-item name='mathematics_geometry_law_of_sines'/>
        <enum-item name='mathematics_geometry_angle_sum_difference_trig_identities'/>
        <enum-item name='mathematics_algebra_pascals_triangle'/>
        <enum-item name='mathematics_algebra_solving_higher_order_polynomials'/>
        <enum-item name='mathematics_notation_early_symbols_for_operations'/>
        <enum-item name='mathematics_algebra_divergence_of_harmonic_series'/>

        <enum-item name='mathematics_geometry_properties_of_chords'/>

        <enum-item name='history_sourcing_basic_reliability' value='128'/>
        <enum-item name='history_sourcing_role_of_systemic_bias'/>
        <enum-item name='history_sourcing_role_of_state_bias_and_propaganda'/>
        <enum-item name='history_sourcing_personal_interviews'/>
        <enum-item name='history_theory_historical_causation'/>
        <enum-item name='history_theory_historical_cycles'/>
        <enum-item name='history_theory_social_cohesion'/>
        <enum-item name='history_theory_social_conflict'/>

        <enum-item name='history_form_biography'/>
        <enum-item name='history_form_comparative_biography'/>
        <enum-item name='history_form_biographical_dictionaries'/>
        <enum-item name='history_form_autobiographical_adventure'/>
        <enum-item name='history_form_genealogy'/>
        <enum-item name='history_form_encyclopedia'/>
        <enum-item name='history_form_cultural_history'/>
        <enum-item name='history_form_cultural_comparison'/>

        <enum-item name='history_sourcing_role_of_cultural_differences'/>
        <enum-item name='history_form_alternate_history'/>
        <enum-item name='history_sourcing_basic_archaeology'/>
        <enum-item name='history_form_treatise_on_tech_evolution'/>

        <enum-item name='astronomy_phases_of_the_moon' value='160'/>
        <enum-item name='astronomy_summer_winter_moon'/>
        <enum-item name='astronomy_path_of_the_moon'/>
        <enum-item name='astronomy_tides_and_the_moon'/>
        <enum-item name='astronomy_height_of_tides_vs_moon_and_sun'/>
        <enum-item name='astronomy_summer_winter_sun'/>
        <enum-item name='astronomy_relationship_between_lunar_solar_year'/>
        <enum-item name='astronomy_daylight_variation_with_solar_year'/>

        <enum-item name='astronomy_geocentric_model'/>
        <enum-item name='astronomy_heliocentric_model'/>
        <enum-item name='astronomy_dates_of_lunar_and_solar_eclipses'/>
        <enum-item name='astronomy_star_charts'/>
        <enum-item name='astronomy_star_catalogues_100'/>
        <enum-item name='astronomy_star_catalogues_1000'/>
        <enum-item name='astronomy_star_color_classification'/>
        <enum-item name='astronomy_star_magnitude_classification'/>

        <enum-item name='astronomy_shape_of_the_world'/>
        <enum-item name='astronomy_precession_of_equinoxes'/>
        <enum-item name='astronomy_method_empirical_observation'/>
        <enum-item name='astronomy_method_path_models'/>

        <enum-item name='naturalist_method_dissection' value='192'/>
        <enum-item name='naturalist_observation_anatomy'/>
        <enum-item name='naturalist_theory_comparative_anatomy'/>
        <enum-item name='naturalist_theory_classification_by_physical_features'/>
        <enum-item name='naturalist_observation_migration_patterns'/>
        <enum-item name='naturalist_observation_reproductive_behavior'/>
        <enum-item name='naturalist_observation_foraging_behavior_and_diet'/>
        <enum-item name='naturalist_theory_food_chain'/>

        <enum-item name='naturalist_observation_social_behavior'/>
        <enum-item name='naturalist_observation_diseases'/>
        <enum-item name='naturalist_theory_climactic_adaptation'/>
        <enum-item name='naturalist_observation_embriological_development'/>
        <enum-item name='naturalist_theory_struggle_for_existence'/>

        <enum-item name='chemistry_classification_combustibles' value='224'/>
        <enum-item name='chemistry_classification_ores'/>
        <enum-item name='chemistry_metallurgy_alloys'/>
        <enum-item name='chemistry_classification_scratch_test'/>
        <enum-item name='chemistry_classification_elemental_theory'/>
        <enum-item name='chemistry_chemicals_adhesives'/>
        <enum-item name='chemistry_laboratory_blast_furnace'/>
        <enum-item name='chemistry_laboratory_alembic'/>

        <enum-item name='chemistry_laboratory_theory_of_liquid_liquid_extraction'/>
        <enum-item name='chemistry_laboratory_theory_of_distillation'/>
        <enum-item name='chemistry_laboratory_theory_of_evaporation'/>
        <enum-item name='chemistry_classification_alkali_and_acids'/>
        <enum-item name='chemistry_laboratory_systematic_experiments'/>
        <enum-item name='chemistry_laboratory_glass_flask'/>
        <enum-item name='chemistry_laboratory_glass_beaker'/>
        <enum-item name='chemistry_laboratory_glass_vial'/>

        <enum-item name='chemistry_laboratory_glass_funnel'/>
        <enum-item name='chemistry_laboratory_crucible'/>
        <enum-item name='chemistry_chemicals_nitric_acid'/>
        <enum-item name='chemistry_chemicals_sulfuric_acid'/>
        <enum-item name='chemistry_chemicals_aqua_regia'/>
        <enum-item name='chemistry_laboratory_glass_ampoule'/>
        <enum-item name='chemistry_laboratory_glass_retort'/>
        <enum-item name='chemistry_laboratory_lab_ovens'/>

        <enum-item name='geography_surveying_basic' value='256'/>
        <enum-item name='geography_surveying_staff'/>
        <enum-item name='geography_cartography_basic'/>
        <enum-item name='geography_surveying_triangulation'/>
        <enum-item name='geography_surveying_cartographical'/>
        <enum-item name='geography_surveying_land'/>
        <enum-item name='geography_surveying_military'/>
        <enum-item name='geography_surveying_engineering'/>

        <enum-item name='geography_cartography_geological'/>
        <enum-item name='geography_cartography_grid_system'/>
        <enum-item name='geography_cartography_distance_scale'/>
        <enum-item name='geography_cartography_height_measurements'/>
        <enum-item name='geography_method_economic_data_collection'/>
        <enum-item name='geography_cartography_economic'/>
        <enum-item name='geography_form_atlas'/>
        <enum-item name='geography_theory_delta_formation'/>

        <enum-item name='geography_theory_wind_patterns'/>
        <enum-item name='geography_theory_origin_of_rainfall_from_evap_condense'/>
        <enum-item name='geography_theory_water_cycle'/>
        <enum-item name='geography_theory_latitude_climate_zones'/>
        <enum-item name='geography_cartography_accurate_maps'/>
        <enum-item name='geography_cartography_map_projections'/>

        <enum-item name='medicine_theory_disease_and_fouled_water' value='288'/>
        <enum-item name='medicine_method_physical_examination'/>
        <enum-item name='medicine_method_autopsy'/>
        <enum-item name='medicine_theory_prognosis'/>
        <enum-item name='medicine_tool_herbal_remedies'/>
        <enum-item name='medicine_tool_animal_remedies'/>
        <enum-item name='medicine_tool_mineral_remedies'/>
        <enum-item name='medicine_tool_bandages'/>

        <enum-item name='medicine_theory_disease_classification'/>
        <enum-item name='medicine_theory_toxicology'/>
        <enum-item name='medicine_theory_acute_and_chronic_conditions'/>
        <enum-item name='medicine_theory_endemic_disease'/>
        <enum-item name='medicine_theory_epidemic_disease'/>
        <enum-item name='medicine_theory_exacerbation'/>
        <enum-item name='medicine_theory_paroxysm'/>
        <enum-item name='medicine_theory_relapse'/>

        <enum-item name='medicine_theory_convalescence'/>
        <enum-item name='medicine_method_treatment_of_traumatic_injuries'/>
        <enum-item name='medicine_method_fracture_treatment'/>
        <enum-item name='medicine_theory_fracture_classification'/>
        <enum-item name='medicine_tool_traction_bench'/>
        <enum-item name='medicine_method_fracture_immobilization'/>
        <enum-item name='medicine_tool_orthopedic_cast'/>
        <enum-item name='medicine_method_surgery_excision'/>

        <enum-item name='medicine_method_surgery_incision'/>
        <enum-item name='medicine_method_hernia_surgery'/>
        <enum-item name='medicine_method_tracheotomy_surgery'/>
        <enum-item name='medicine_method_lithotomy_surgery'/>
        <enum-item name='medicine_method_surgery_scraping'/>
        <enum-item name='medicine_method_surgery_draining'/>
        <enum-item name='medicine_method_surgery_probing'/>
        <enum-item name='medicine_method_surgery_suturing'/>

        <enum-item name='medicine_method_surgery_ligature' value='320'/>
        <enum-item name='medicine_theory_surgical_models'/>
        <enum-item name='medicine_tool_mud_bags_as_surgical_models'/>
        <enum-item name='medicine_tool_plants_as_surgical_models'/>
        <enum-item name='medicine_tool_animals_as_surgical_models'/>
        <enum-item name='medicine_theory_specialized_surgical_instruments'/>
        <enum-item name='medicine_tool_forceps'/>
        <enum-item name='medicine_tool_scalpel'/>

        <enum-item name='medicine_tool_surgical_scissors'/>
        <enum-item name='medicine_tool_surgical_needles'/>
        <enum-item name='medicine_method_cataract_surgery'/>
        <enum-item name='medicine_method_cauterization'/>
        <enum-item name='medicine_method_anesthesia'/>
        <enum-item name='medicine_theory_pulmonary_medicine'/>
        <enum-item name='medicine_theory_anatomical_studies'/>
        <enum-item name='medicine_theory_classification_of_bodily_fluids'/>

        <enum-item name='medicine_theory_eye_anatomy'/>
        <enum-item name='medicine_theory_motor_vs_sensory_nerves'/>
        <enum-item name='medicine_theory_nervous_system_function'/>
        <enum-item name='medicine_theory_reaction_time'/>
        <enum-item name='medicine_theory_blood_vessels'/>
        <enum-item name='medicine_theory_pulmonary_circulation'/>
        <enum-item name='medicine_theory_comparative_anatomy'/>
        <enum-item name='medicine_theory_the_voice'/>

        <enum-item name='medicine_theory_classification_of_muscles'/>
        <enum-item name='medicine_theory_classification_of_mental_illnesses'/>
        <enum-item name='medicine_theory_treatment_of_mental_illnesses'/>
        <enum-item name='medicine_tool_dedicated_hospitals'/>
        <enum-item name='medicine_method_professional_hospital_staff'/>
        <enum-item name='medicine_method_specialized_wards'/>
        <enum-item name='medicine_method_hospital_lab'/>
        <enum-item name='medicine_method_medical_school'/>

        <enum-item name='medicine_method_asylum_for_mentally_ill' value='352'/>

        <enum-item name='engineering_horology_shadow_clock' value='384'/>
        <enum-item name='engineering_horology_water_clock'/>
        <enum-item name='engineering_horology_conical_water_clock'/>
        <enum-item name='engineering_horology_water_clock_reservoir'/>
        <enum-item name='engineering_horology_astrarium'/>
        <enum-item name='engineering_horology_hourglass'/>
        <enum-item name='engineering_horology_mechanical_clock'/>
        <enum-item name='engineering_machine_theory_of_pulley'/>

        <enum-item name='engineering_machine_pulley'/>
        <enum-item name='engineering_machine_theory_of_screw'/>
        <enum-item name='engineering_machine_screw'/>
        <enum-item name='engineering_machine_theory_of_wheel_and_axle'/>
        <enum-item name='engineering_machine_windlass'/>
        <enum-item name='engineering_machine_theory_of_wedge'/>
        <enum-item name='engineering_machine_theory_of_lever'/>
        <enum-item name='engineering_machine_lever'/>

        <enum-item name='engineering_machine_straight_beam_balance'/>
        <enum-item name='engineering_machine_theory_of_gears'/>
        <enum-item name='engineering_machine_warded_lock'/>
        <enum-item name='engineering_machine_tumbler_lock'/>
        <enum-item name='engineering_machine_padlock'/>
        <enum-item name='engineering_machine_camshaft'/>
        <enum-item name='engineering_machine_crankshaft'/>
        <enum-item name='engineering_machine_water_powered_sawmill'/>

        <enum-item name='engineering_machine_chariot_odometer'/>
        <enum-item name='engineering_machine_chain_drive'/>
        <enum-item name='engineering_machine_mechanical_compass'/>
        <enum-item name='engineering_machine_differential_gear'/>
        <enum-item name='engineering_machine_combination_lock'/>
        <enum-item name='engineering_machine_verge_escapement'/>
        <enum-item name='engineering_machine_balance_wheel'/>
        <enum-item name='engineering_fluid_theory_of_siphon'/>

        <enum-item name='engineering_fluid_valves' value='416'/>
        <enum-item name='engineering_fluid_force_pump'/>
        <enum-item name='engineering_optics_crystal_lens'/>
        <enum-item name='engineering_optics_water_filled_spheres'/>
        <enum-item name='engineering_optics_glass_lens'/>
        <enum-item name='engineering_optics_camera_obscura'/>
        <enum-item name='engineering_optics_parabolic_mirror'/>
        <enum-item name='engineering_optics_theory_of_color'/>

        <enum-item name='engineering_optics_theory_of_rainbows'/>
        <enum-item name='engineering_optics_law_of_refraction'/>
        <enum-item name='engineering_design_models_and_templates'/>
        <enum-item name='engineering_construction_wood_lamination'/>
        <enum-item name='engineering_astronomy_dioptra'/>
        <enum-item name='engineering_astronomy_astrolabe'/>
        <enum-item name='engineering_astronomy_armillary_sphere'/>
        <enum-item name='engineering_astronomy_spherical_astrolabe'/>

        <enum-item name='engineering_astronomy_mural_instrument'/>
        <enum-item name='engineering_astronomy_orrery'/>
        <enum-item name='engineering_machine_water_powered_trip_hammer'/>
        <enum-item name='engineering_machine_double_acting_piston_bellows'/>
        <enum-item name='engineering_fluid_archimedes_principle'/>
        <enum-item name='engineering_optics_atmospheric_refraction'/>
        <enum-item name='engineering_optics_cause_of_twilight'/>
        <enum-item name='engineering_optics_height_of_atmosphere'/>

        <enum-item name='engineering_machine_piston'/>
        <enum-item name='engineering_machine_crank'/>
        <enum-item name='engineering_machine_bellows'/>
        <enum-item name='engineering_machine_water_powered_piston_bellows'/>
        <enum-item name='engineering_machine_water_wheel'/>
        <enum-item name='engineering_machine_trip_hammer'/>
    </enum-type>

    <struct-type type-name='coord2d' custom-methods='true' comment='not a real structure'>
        <int16_t name='x' init-value='-30000'/>
        <int16_t name='y' init-value='-30000'/>

        <custom-methods>
            <cmethod name='isValid'/>
            <cmethod name='clear'/>
        </custom-methods>

        <code-helper name='describe'>(fmt "(~A,~A)" $.x $.y)</code-helper>
    </struct-type>

    <struct-type type-name='coord2d_path' custom-methods='true' comment='not a real structure'>
        <stl-vector type-name='int16_t' name='x'/>
        <stl-vector type-name='int16_t' name='y'/>

        <custom-methods>
            <cmethod name='size'/>
            <cmethod name='erase'/>
        </custom-methods>
        <code-helper name='describe'>
            (fmt "[~A]" $.x.count)
            (loop for i from 0 below (min $.x.count 3)
              collect (fmt "(~A,~A)" $.x[i] $.y[i]))
            (when (> $.x.count 3) "...")
        </code-helper>
    </struct-type>

    <struct-type type-name='coord' custom-methods='true' comment='not a real structure'>
        <int16_t name='x' init-value='-30000'/>
        <int16_t name='y' init-value='-30000'/>
        <int16_t name='z' init-value='-30000'/>

        <extra-include type-name='coord2d'/>
        <custom-methods>
            <cmethod name='isValid'/>
            <cmethod name='clear'/>
        </custom-methods>

        <code-helper name='describe'>(fmt "(~A,~A,~A)" $.x $.y $.z)</code-helper>
    </struct-type>

    <struct-type type-name='coord_path' custom-methods='true' comment='not a real structure'>
        <stl-vector type-name='int16_t' name='x'/>
        <stl-vector type-name='int16_t' name='y'/>
        <stl-vector type-name='int16_t' name='z'/>

        <custom-methods>
            <cmethod name='empty'/>
            <cmethod name='size'/>
            <cmethod name='clear'/>
            <cmethod name='erase'/>
        </custom-methods>

        <code-helper name='describe'>
            (fmt "[~A]" $.x.count)
            (loop for i from 0 below (min $.x.count 3)
              collect (fmt "(~A,~A,~A)" $.x[i] $.y[i] $.z[i]))
            (when (> $.x.count 3) "...")
        </code-helper>
    </struct-type>

    -- Not an actual DF enum
    <enum-type type-name='layer_type' base-type='int16_t'>
        <enum-item name='Surface' value='-1'/>
        <enum-item name='Cavern1'/>
        <enum-item name='Cavern2'/>
        <enum-item name='Cavern3'/>
        <enum-item name='MagmaSea'/>
        <enum-item name='Underworld'/>
    </enum-type>

    <enum-type type-name='craft_material_class' comment='not in DF'>
        <enum-attr name='make_skill' type-name='job_skill' default-value='NONE'/>
        <enum-attr name='improve_skill' type-name='job_skill' default-value='NONE'/>

        <enum-item name='None' value='-1'/>

        <enum-item name='Metal'>
            <item-attr name='make_skill' value='FORGE_FURNITURE'/>
            <item-attr name='improve_skill' value='METALCRAFT'/>
        </enum-item>
        <enum-item name='Wood'>
            <item-attr name='make_skill' value='CARPENTRY'/>
            <item-attr name='improve_skill' value='WOODCRAFT'/>
        </enum-item>
        <enum-item name='Gem'>
            <item-attr name='make_skill' value='CUTGEM'/>
            <item-attr name='improve_skill' value='ENCRUSTGEM'/>
        </enum-item>
        <enum-item name='Glass'>
            <item-attr name='make_skill' value='GLASSMAKER'/>
        </enum-item>
        <enum-item name='Stone'>
            <item-attr name='make_skill' value='MASONRY'/>
        </enum-item>

        <enum-item name='Bone'>
            <item-attr name='make_skill' value='BONECARVE'/>
            <item-attr name='improve_skill' value='BONECARVE'/>
        </enum-item>
        <enum-item name='Ivory'>
            <item-attr name='make_skill' value='BONECARVE'/>
            <item-attr name='improve_skill' value='BONECARVE'/>
        </enum-item>
        <enum-item name='Horn'>
            <item-attr name='make_skill' value='BONECARVE'/>
            <item-attr name='improve_skill' value='BONECARVE'/>
        </enum-item>
        <enum-item name='Pearl'>
            <item-attr name='make_skill' value='BONECARVE'/>
            <item-attr name='improve_skill' value='BONECARVE'/>
        </enum-item>
        <enum-item name='Shell'>
            <item-attr name='make_skill' value='BONECARVE'/>
            <item-attr name='improve_skill' value='BONECARVE'/>
        </enum-item>

        <enum-item name='Leather'>
            <item-attr name='make_skill' value='LEATHERWORK'/>
            <item-attr name='improve_skill' value='LEATHERWORK'/>
        </enum-item>
        <enum-item name='Cloth'>
            <item-attr name='make_skill' value='CLOTHESMAKING'/>
            <item-attr name='improve_skill' value='CLOTHESMAKING'/>
        </enum-item>
    </enum-type>

    <struct-type type-name='material_vec_ref' comment='not a real structure, only used for convenience'>
        <stl-vector name='mat_type'>
            <int16_t ref-target='material' aux-value='$$._parent.mat_index[$._key]'/>
        </stl-vector>
        <stl-vector name='mat_index' type-name='int32_t'/>
    </struct-type>

    <enum-type type-name='job_skill_class' comment='not in DF'>
        <enum-item name='Normal'/>
        <enum-item name='Medical'/>
        <enum-item name='Personal'/>
        <enum-item name='Social'/>
        <enum-item name='Cultural'/>
        <enum-item name='MilitaryWeapon'/>
        <enum-item name='MilitaryUnarmed'/>
        <enum-item name='MilitaryAttack'/>
        <enum-item name='MilitaryDefense'/>
        <enum-item name='MilitaryMisc'/>
    </enum-type>

    <enum-type type-name='skill_rating' base-type='int32_t'> Not in DF
        <enum-attr name='xp_threshold' type-name='uint32_t'/>
        <enum-attr name='caption'/>

        <enum-item name='Dabbling'>
            <item-attr name='xp_threshold' value='500'/>
            <item-attr name='caption' value='Dabbling'/>
        </enum-item>
        <enum-item name='Novice'>
            <item-attr name='xp_threshold' value='600'/>
            <item-attr name='caption' value='Novice'/>
        </enum-item>
        <enum-item name='Adequate'>
            <item-attr name='xp_threshold' value='700'/>
            <item-attr name='caption' value='Adequate'/>
        </enum-item>
        <enum-item name='Competent'>
            <item-attr name='xp_threshold' value='800'/>
            <item-attr name='caption' value='Competent'/>
        </enum-item>
        <enum-item name='Skilled'>
            <item-attr name='xp_threshold' value='900'/>
            <item-attr name='caption' value='Skilled'/>
        </enum-item>
        <enum-item name='Proficient'>
            <item-attr name='xp_threshold' value='1000'/>
            <item-attr name='caption' value='Proficient'/>
        </enum-item>
        <enum-item name='Talented'>
            <item-attr name='xp_threshold' value='1100'/>
            <item-attr name='caption' value='Talented'/>
        </enum-item>
        <enum-item name='Adept'>
            <item-attr name='xp_threshold' value='1200'/>
            <item-attr name='caption' value='Adept'/>
        </enum-item>
        <enum-item name='Expert'>
            <item-attr name='xp_threshold' value='1300'/>
            <item-attr name='caption' value='Expert'/>
        </enum-item>
        <enum-item name='Professional'>
            <item-attr name='xp_threshold' value='1400'/>
            <item-attr name='caption' value='Professional'/>
        </enum-item>
        <enum-item name='Accomplished'>
            <item-attr name='xp_threshold' value='1500'/>
            <item-attr name='caption' value='Accomplished'/>
        </enum-item>
        <enum-item name='Great'>
            <item-attr name='xp_threshold' value='1600'/>
            <item-attr name='caption' value='Great'/>
        </enum-item>
        <enum-item name='Master'>
            <item-attr name='xp_threshold' value='1700'/>
            <item-attr name='caption' value='Master'/>
        </enum-item>
        <enum-item name='HighMaster'>
            <item-attr name='xp_threshold' value='1800'/>
            <item-attr name='caption' value='High Master'/>
        </enum-item>
        <enum-item name='GrandMaster'>
            <item-attr name='xp_threshold' value='1900'/>
            <item-attr name='caption' value='Grand Master'/>
        </enum-item>
        <enum-item name='Legendary'>
            <item-attr name='xp_threshold' value='2000'/>
            <item-attr name='caption' value='Legendary'/>
        </enum-item>
        <enum-item name='Legendary1'>
            <item-attr name='xp_threshold' value='2100'/>
            <item-attr name='caption' value='Legendary+1'/>
        </enum-item>
        <enum-item name='Legendary2'>
            <item-attr name='xp_threshold' value='2200'/>
            <item-attr name='caption' value='Legendary+2'/>
        </enum-item>
        <enum-item name='Legendary3'>
            <item-attr name='xp_threshold' value='2300'/>
            <item-attr name='caption' value='Legendary+3'/>
        </enum-item>
        <enum-item name='Legendary4'>
            <item-attr name='xp_threshold' value='2400'/>
            <item-attr name='caption' value='Legendary+4'/>
        </enum-item>
        <enum-item name='Legendary5'>
            <item-attr name='caption' value='Legendary+5'/>
        </enum-item>
    </enum-type>

    <enum-type type-name='unit_action_type_group' comment='for the action timer API, not in DF'>
        <enum-item name='All'/>
        <enum-item name='Movement'/>
        <enum-item name='MovementFeet'/>
        <enum-item name='Combat'/>
        <enum-item name='Work'/>
    </enum-type>

    <enum-type type-name='cmv_version' base-type='int32_t'>
        <enum-item name='CMV_0' value='10000'/>
        <enum-item name='CMV_1' value='10001' comment='adds support for sound'/>
    </enum-type>

    <enum-type type-name='save_version' base-type='int32_t'>
        <enum-item name='v0_21_93_19a' value='1107'/>
        <enum-item name='v0_21_93_19c' value='1108'/>
        <enum-item name='v0_21_95_19a' value='1108'/>
        <enum-item name='v0_21_95_19b' value='1108'/>
        <enum-item name='v0_21_95_19c' value='1110'/>
        <enum-item name='v0_21_104_19d' value='1121'/>
        <enum-item name='v0_21_104_21a' value='1123'/>
        <enum-item name='v0_21_104_21b' value='1125'/>
        <enum-item name='v0_21_105_21a' value='1128'/>
        <enum-item name='v0_22_107_21a' value='1128'/>
        <enum-item name='v0_22_110_22e' value='1134'/>
        <enum-item name='v0_22_110_22f' value='1137'/>
        <enum-item name='v0_22_110_23a' value='1148'/>
        <enum-item name='v0_22_120_23a' value='1151'/>
        <enum-item name='v0_22_121_23b' value='1161'/>
        <enum-item name='v0_22_123_23a' value='1165'/>
        <enum-item name='v0_23_130_23a' value='1169'/>

        <enum-item name='v0_27_169_32a' value='1205'/>
        <enum-item name='v0_27_169_33a' value='1206'/>
        <enum-item name='v0_27_169_33b' value='1209'/>
        <enum-item name='v0_27_169_33c' value='1211'/>
        <enum-item name='v0_27_169_33d' value='1212'/>
        <enum-item name='v0_28_181_39b' value='1255'/>
        <enum-item name='v0_28_181_39c' value='1256'/>
        <enum-item name='v0_28_181_39d' value='1259'/>
        <enum-item name='v0_28_181_39e' value='1260'/>
        <enum-item name='v0_28_181_39f' value='1261'/>
        <enum-item name='v0_28_181_40a' value='1265'/>
        <enum-item name='v0_28_181_40b' value='1266'/>
        <enum-item name='v0_28_181_40c' value='1267'/>
        <enum-item name='v0_28_181_40d' value='1268'/>

        <enum-item name='v0_31_01' value='1287'/>
        <enum-item name='v0_31_02' value='1288'/>
        <enum-item name='v0_31_03' value='1289'/>
        <enum-item name='v0_31_04' value='1292'/>
        <enum-item name='v0_31_05' value='1295'/>
        <enum-item name='v0_31_06' value='1297'/>
        <enum-item name='v0_31_08' value='1300'/>
        <enum-item name='v0_31_09' value='1304'/>
        <enum-item name='v0_31_10' value='1305'/>
        <enum-item name='v0_31_11' value='1310'/>
        <enum-item name='v0_31_12' value='1311'/>
        <enum-item name='v0_31_13' value='1323'/>
        <enum-item name='v0_31_14' value='1325'/>
        <enum-item name='v0_31_15' value='1326'/>
        <enum-item name='v0_31_16' value='1327'/>
        <enum-item name='v0_31_17' value='1340'/>
        <enum-item name='v0_31_18' value='1341'/>
        <enum-item name='v0_31_19' value='1351'/>
        <enum-item name='v0_31_20' value='1353'/>
        <enum-item name='v0_31_21' value='1354'/>
        <enum-item name='v0_31_22' value='1359'/>
        <enum-item name='v0_31_23' value='1360'/>
        <enum-item name='v0_31_24' value='1361'/>
        <enum-item name='v0_31_25' value='1362'/>

        <enum-item name='v0_34_01' value='1372'/>
        <enum-item name='v0_34_02' value='1374'/>
        <enum-item name='v0_34_03' value='1376'/>
        <enum-item name='v0_34_04' value='1377'/>
        <enum-item name='v0_34_05' value='1378'/>
        <enum-item name='v0_34_06' value='1382'/>
        <enum-item name='v0_34_07' value='1383'/>
        <enum-item name='v0_34_08' value='1400'/>
        <enum-item name='v0_34_09' value='1402'/>
        <enum-item name='v0_34_10' value='1403'/>
        <enum-item name='v0_34_11' value='1404'/>

        <enum-item name='v0_40_01' value='1441'/>
        <enum-item name='v0_40_02' value='1442'/>
        <enum-item name='v0_40_03' value='1443'/>
        <enum-item name='v0_40_04' value='1444'/>
        <enum-item name='v0_40_05' value='1445'/>
        <enum-item name='v0_40_06' value='1446'/>
        <enum-item name='v0_40_07' value='1448'/>
        <enum-item name='v0_40_08' value='1449'/>
        <enum-item name='v0_40_09' value='1451'/>
        <enum-item name='v0_40_10' value='1452'/>
        <enum-item name='v0_40_11' value='1456'/>
        <enum-item name='v0_40_12' value='1459'/>
        <enum-item name='v0_40_13' value='1462'/>
        <enum-item name='v0_40_14' value='1469'/>
        <enum-item name='v0_40_15' value='1470'/>
        <enum-item name='v0_40_16' value='1471'/>
        <enum-item name='v0_40_17' value='1472'/>
        <enum-item name='v0_40_18' value='1473'/>
        <enum-item name='v0_40_19' value='1474'/>
        <enum-item name='v0_40_20' value='1477'/>
        <enum-item name='v0_40_21' value='1478'/>
        <enum-item name='v0_40_22' value='1479'/>
        <enum-item name='v0_40_23' value='1480'/>
        <enum-item name='v0_40_24' value='1481'/>

        <enum-item name='v0_42_01' value='1531'/>
        <enum-item name='v0_42_02' value='1532'/>
        <enum-item name='v0_42_03' value='1533'/>
        <enum-item name='v0_42_04' value='1534'/>
        <enum-item name='v0_42_05' value='1537'/>
        <enum-item name='v0_42_06' value='1542'/>

        <enum-item name='v0_43_01' value='1551'/>
        <enum-item name='v0_43_02' value='1552'/>
        <enum-item name='v0_43_03' value='1553'/>
        <enum-item name='v0_43_04' value='1555'/>
        <enum-item name='v0_43_05' value='1556'/>

        <enum-item name='v0_44_01' value='1596'/>
        <enum-item name='v0_44_02' value='1597'/>
        <enum-item name='v0_44_03' value='1600'/>
        <enum-item name='v0_44_04' value='1603'/>
        <enum-item name='v0_44_05' value='1604'/>
        <enum-item name='v0_44_06' value='1611'/>
        <enum-item name='v0_44_07' value='1612'/>
        <enum-item name='v0_44_08' value='1613'/>
        <enum-item name='v0_44_09' value='1614'/>
        <enum-item name='v0_44_10' value='1620'/>
        <enum-item name='v0_44_11' value='1623'/>
        <enum-item name='v0_44_12' value='1625'/>

        <enum-item name='v0_47_01' value='1710'/>
        <enum-item name='v0_47_02' value='1711'/>
        <enum-item name='v0_47_03' value='1713'/>
        <enum-item name='v0_47_04' value='1715'/>
        <enum-item name='v0_47_05' value='1716'/>
        <!-- LAST_SAVE_VERSION (leave this comment here for automated updates) -->
    </enum-type>
</data-definition>

<!--
Local Variables:
indent-tabs-mode: nil
nxml-child-indent: 4
End:
-->
