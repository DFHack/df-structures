<data-definition>
    <enum-type type-name='worldgen_region_type'>
        <enum-item name='SWAMP'/>
        <enum-item name='DESERT'/>
        <enum-item name='FOREST'/>
        <enum-item name='MOUNTAINS'/>
        <enum-item name='OCEAN'/>
        <enum-item name='LAKE'/>
        <enum-item name='GLACIER'/>
        <enum-item name='TUNDRA'/>
        <enum-item name='GRASSLAND'/>
        <enum-item name='HILLS'/>
    </enum-type>

    <enum-type type-name='worldgen_range_type'>
        <enum-item name='ELEVATION'/>
        <enum-item name='RAINFALL'/>
        <enum-item/>
        <enum-item name='TEMPERATURE'/>
        <enum-item/>
        <enum-item name='DRAINAGE'/>
        <enum-item name='VOLCANISM'/>
        <enum-item name='SAVAGERY'/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
    </enum-type>

    <enum-type type-name='units_other_id'>
        <enum-item name='ANY_RIDER'/>
        <enum-item name='ANY_BABY2'/>
    </enum-type>

    <df-other-vectors-type type-name='units_other' index-enum='units_other_id' item-type='unit'>
    </df-other-vectors-type>

    <enum-type type-name='conflict_level'>
        <enum-item name='None' value='-1'/>
        <enum-item name='Encounter'/>
        <enum-item name='Horseplay'/>
        <enum-item name='Training'/>
        <enum-item name='Brawl'/>
        <enum-item name='Nonlethal'/>
        <enum-item name='Lethal'/>
        <enum-item name='NoQuarter'/>
    </enum-type>

    <struct-type type-name='incident_hfid'>
        <int32_t name="hfid" ref-target='historical_figure' since='v0.40.01'/>
        <int32_t name='unk_hfid' ref-target='historical_figure' since='v0.44.01' comment="same as hfid seen"/>
        <int32_t name='unk_hfid2' ref-target='historical_figure' since='v0.44.01' comment="same as hfid seen"/>
        <stl-vector name='unk_3' type-name='int32_t' ref-target='identity' since='v0.44.01'/>
    </struct-type>

    <struct-type type-name='incident'
                 instance-vector='$global.world.incidents.all' key-field='id'>
        dtor 0x8C1AE10

        <int32_t name='id'/>
        <enum name='type' base-type='int32_t'>
            <enum-item name='Combat'/>
            <enum-item name='Crime' comment="Visible indirectly through convictions or crime effects (e.g. killing/maiming someone)"/>
            <enum-item name='t2'/>
            <enum-item name='t3'/>
            <enum-item name='t4'/>
            <enum-item name='t5'/>
            <enum-item name='Performance'/>
            <enum-item name='t7' comment="Looks like quester, i.e. mercs looking for an artifact. Base on a single correlation of activities seen, though."/>
            <enum-item name='t8'/>
            <enum-item name='t9'/>
            <enum-item name='t10'/>
        </enum>

        <stl-vector name="witnesses" type-name='int32_t' ref-target='unit'/>

        <int32_t name='unk_year'/>
        <int32_t name='unk_year_tick'/>

        <int32_t name="victim" ref-target='unit'/>
        <compound type-name='incident_hfid' name='victim_hf'/>
        <int32_t name="victim_race" ref-target='creature_raw' since='v0.40.01'/>
        <int32_t name="victim_caste" ref-target='caste_raw' aux-value='$$.victim_race' since='v0.40.01'/>

        <int32_t name='entity2' ref-target='historical_entity' since='v0.40.01' comment="Seen with Crime"/>
        <int32_t name='unk_v40_1c' init-value='-1' since='v0.40.01'/>

        <int32_t name='criminal' ref-target='unit'/>
        <compound name='criminal_hf' type-name='incident_hfid'/>
        <int32_t name='criminal_race' ref-target='creature_raw' since='v0.40.01'/>
        <int32_t name='criminal_caste' ref-target='caste_raw' aux-value='$$.killer_race' since='v0.40.01'/>

        <int32_t name='entity1' ref-target='historical_entity' since='v0.40.01'/>
        <compound type-name='incident_hfid' name='unk_v40_2c'/>

        <int32_t name="crime_id" ref-target='crime'/>

        <int32_t name='site' ref-target='world_site'/>
        <int32_t name='unk_v40_3a' init-value='-1' since='v0.40.01' comment="41 seen on witnessed thief, 37 on interrogation target. Only one of each, though."/>
        <int32_t name='unk_v40_3b' init-value='-1' since='v0.40.01'/>
        <int32_t name='entity' ref-target='historical_entity'/>

        <int32_t name='event_year'/>
        <int32_t name='event_time'/>

        <bitfield name='flags'>
            <flag-bit name='announced_missing'/>
            <flag-bit name='discovered'/>
            <flag-bit name='unk2' since='v0.40.01'/>
        </bitfield>

        <enum base-type='int16_t' name='death_cause' type-name='death_type'/>

        -- v0.40.01
        <enum name='conflict_level' type-name='conflict_level'/>
        <int32_t name='activity_id' ref-target='activity_entry'/>
        <int32_t name='world_x' comment="Location appears to be in in-game tiles world wide"/>
        <int32_t name='world_y'/>
        <int32_t name='world_z'/>
        <int32_t name="unk_80"/>

        <compound name='data' is-union='true'>
            <pointer type-name='incident_sub6_performance' name='t6_performance'/>
            <pointer type-name='incident_sub7' name='t7'/>
            <pointer type-name='incident_sub8' name='t8'/>
            <pointer type-name='incident_sub9' name='t9'/>
            <pointer type-name='incident_sub10' name='t10'/>
        </compound>
    </struct-type>

    <struct-type type-name='incident_sub6_performance'>
        <enum name='performance_event' base-type='int32_t' type-name='performance_event_type'/>
        <stl-vector name='participants'>
            <pointer>
                <enum name='performance_event' base-type='int32_t' type-name='performance_event_type' comment='can e.g. be music for a dance musician'/>
                <int32_t name='role_index' comment='index into the instruments vector for music, with corresponding roles for other forms, possibly a dance_form_sub1 entry for dances'/>
                <compound type-name='incident_hfid'/>
                <int32_t/>
            </pointer>
        </stl-vector>
        <int32_t name='reference_id' comment='history_event id/poetic_form id/musical_form id/dance_form_id or -1'/>
        <int32_t name='written_content_id' comment='-1 if not used'/>
        <int32_t name='abstract_location' comment="location at which the performance was held"/>
        <int32_t name='poetic_form_id'  ref-target='poetic_form' comment='More than one form can be used in a performance, e.g. dance to music'/>
        <int32_t name='musical_form_id' ref-target='musical_form'/>
        <int32_t name='dance_form_id' ref-target='dance_form'/>
    </struct-type>
    --  There ought to be either a type specific reference or a written content one. Not both.
    --  Story has only been seen with a history event id, not a written content one, but the sample was small.
    --  Poem has been seen with either a poetic form or a written content reference.
    --  Music has been seen only with a music form reference, but the sample was small.
    --    Music has been seen to be "sang" and "spoke" in DF displayed thoughts, but no instrument playing
    --    or simulation. It's still unknown how to determine what action participants took.
    --  Dance has been seen only with a dance form reference, but the sample was small.

    <struct-type type-name='incident_sub7'>
        <int32_t name='unk_1'/>
        <int32_t name='unk_2'/>
        <compound name='unk_3' type-name='incident_hfid'/>
        <compound name='unk_4' type-name='incident_hfid'/>
        <int32_t name='site_id' ref-target='world_site'/>
        <int32_t name='unk_5'/>
        <int32_t name='unk_6'/>
        <int32_t name='unk_7'/>
        <stl-vector name='unk_8' type-name='int32_t'/>
        <int32_t name='unk_9'/>
    </struct-type>

    <struct-type type-name='incident_sub8'>
        <int32_t/>
        <int32_t/>
        <compound type-name='incident_hfid'/>
        <compound type-name='incident_hfid'/>
        <int32_t/>
        <int32_t/>
        <int32_t/>
        <int32_t/>
        <stl-vector type-name='int32_t'/>
        <int32_t/>
    </struct-type>

    <struct-type type-name='incident_sub9'>
        <stl-vector pointer-type='incident_hfid'/>
    </struct-type>

    <struct-type type-name='incident_sub10'>
        <stl-vector pointer-type='incident_hfid'/>
    </struct-type>


    <struct-type type-name='crime'
                 instance-vector='$global.world.crimes.all' key-field='id'>
        dtor 0x8C166D0

        <int32_t name='id'/>

        <enum name='mode' base-type='int32_t'>
            <enum-item name='ProductionOrderViolation'/>
            <enum-item name='ExportViolation'/>
            <enum-item name='JobOrderViolation'/>
            <enum-item name='ConspiracyToSlowLabor'/>
            <enum-item name='Murder'/>
            <enum-item name='DisorderlyBehavior'/>
            <enum-item name='BuildingDestruction'/>
            <enum-item name='Vandalism'/>
            <enum-item name='Theft'/>
            <enum-item name='Robbery'/>
            <enum-item name='BloodDrinking'/>
            <enum-item name='Embezzlement' since='v0.47.01'/>
            <enum-item name='AttemptedMurder' since='v0.47.01'/>
            <enum-item name='Kidnapping' since='v0.47.01'/>
            <enum-item name='AttemptedKidnapping' since='v0.47.01'/>
            <enum-item name='AttemptedTheft' since='v0.47.01'/>
            <enum-item name='Treason' since='v0.47.01'/>
            <enum-item name='Espionage' since='v0.47.01'/>
            <enum-item name='Bribery' since='v0.47.01'/>
        </enum>

        <compound name='punishment'>
            <int32_t name='hammerstrikes'/>
            <int32_t name='prison_time'/>
            <int32_t name='give_beating'/>
        </compound>

        <int32_t name='criminal' ref-target='unit'/>
        <int32_t name='criminal_hf' ref-target='historical_figure'/>
        <int32_t name='criminal_hf_2' ref-target='historical_figure' comment="Usually all 3 same value, but Espionage gave different HF for 2/3, probably boss"/>
        <int32_t name='criminal_hf_3' ref-target='historical_figure'/>
        <compound name='convict_data'>
            <stl-vector name='unk_v47_vector_1' type-name='int32_t' since='v0.47.01' comment="don't know what the number refers to"/>
            <int32_t name='convicted' ref-target='unit'/>
        </compound>
        <int32_t name='convicted_hf' ref-target='historical_figure'/>
        <int32_t name='convicted_hf_2' ref-target='historical_figure' comment="the two additional copies probably refers to some other roles"/>
        <int32_t name='convicted_hf_3' ref-target='historical_figure' comment="-1 seen in case of convicted but not yet punished. Tossed in prison has -1, so it might be 'punishment finished'"/>

        <compound name='victim_data'>
            <stl-vector name='unk_v47_vector_2' type-name='int32_t' since='v0.47.01'/>
            <int32_t name='victim' ref-target='unit'/>
        </compound>
        <int32_t name='victim_hf' ref-target='historical_figure'/>
        <int32_t name='victim_hf_2' ref-target='historical_figure' comment="the two additional copies probably refers to some other roles, but all 3 are identical in cases seen"/>
        <int32_t name='victim_hf_3' ref-target='historical_figure'/>

        <stl-vector name='unk_v47_vector_3' type-name='int32_t' since='v0.47.01' comment="this vector hasn't been seen, but is guessed at based on the pattern above"/>
        <bitfield name='flags'>
            <flag-bit name='sentenced'/>
            <flag-bit name='discovered'/>
            <flag-bit name='needs_trial'
                      comment='i.e. the player chooses whom to convict'/>
        </bitfield>

        <int32_t name='incident_id' ref-target='incident'/>

        <int32_t name='event_year'/>
        <int32_t name='event_time'/>
        <int32_t name='discovered_year'/>
        <int32_t name='discovered_time'/>

        <int32_t name='site' ref-target='world_site'/>
        <int32_t name='entity' ref-target='historical_entity'/>

        <int32_t name='item_id' ref-target='item' comment="seen with crime of theft"/>

        <stl-vector name='reports'>
            <pointer>
                <int32_t name='death_id' ref-target='incident' comment="-1..."/>
                <int32_t name='accused_id' ref-target='historical_figure' comment="hfid of accused"/>
                <int32_t name='accused_id_2' ref-target='historical_figure' comment="copy of accused_id?"/>
                <stl-vector name='unk_vec'/> judging by sizes and padding, haven't seen populated
            </pointer>
        </stl-vector>

        <stl-vector name='counterintelligence' since='v0.47.01'>
            <pointer>
                <int32_t name='unk_1' init-value='-1' comment="suspect entity, as counterintelligence shows organization unknown for examined cases. Also -1 when there is no organization"/>
                <int32_t name="identified_hf" ref-target='historical_figure'/>
                <int32_t name="identified_hf_2" ref-target='historical_figure' comment="same as the one above or -1 only ones seen."/>
                <stl-vector name='unk_vec'/> judging by sizes and padding, haven't seen populated
            </pointer>
        </stl-vector>

        <stl-vector name='witnesses' pointer-type='crime_witness'/>
        <int32_t name='agreement_id' ref-target='agreement'/>
    </struct-type>

    <struct-type type-name='crime_witness'>
        <int32_t name='incident_id' ref-target='incident'/>
        <int32_t name='crime_id' ref-target='crime'/>
        <enum name='witness_claim'>
            <enum-item name='SawDisorderlyConduct'/>
            <enum-item name='FoundTheBody'/>
            <enum-item name='SawObjectWasMissing'/>
            <enum-item name='SawObjectWasDisturbed'/>
            <enum-item name='SawSomebodyAdmireObject'/>
            <enum-item name='Confessed'/>
            <enum-item name='ImplicatesSomeone'/>
            <enum-item name='AccusesSomeone'/>
        </enum>
        <int32_t name='year'/>
        <int32_t name='tick'/>
        <int32_t name='witness_id' ref-target='unit'/>
        <compound name='witness_data' type-name='incident_hfid'/>
        <int32_t name='accused_id' ref-target='unit'/>
        <int32_t name='accused_identity_id' ref-target='identity'/>
        <compound name='accused_data' type-name='incident_hfid'/>
        <int32_t name='reported_year'/>
        <int32_t name='reported_tick'/>
    </struct-type>

    <struct-type type-name='mission_campaign_report'>
        <static-array name='travel_x' type-name='int32_t' count='64'/>
        <static-array name='travel_y' type-name='int32_t' count='64'/>
        <static-array name='travel_year' type-name='int32_t' count='64'/>
        <static-array name='travel_year_tick' type-name='int32_t' count='64'/>
        <int32_t name='travel_count'/>
        <static-array name='event_id' type-name='int32_t' count='64' ref-target='history_event'/>
        <static-array name='event_year' type-name='int32_t' count='64'/>
        <static-array name='event_year_tick' type-name='int32_t' count='64'/>
        <int32_t name='events_count'/>
    </struct-type>

    <struct-type type-name='mission_report'>
        <stl-vector name='campaigns' pointer-type='mission_campaign_report' />
        <int32_t name='current_campaign'/>
        <int32_t name='origin_x'/>
        <int32_t name='origin_y'/>
        <int32_t name='unk_5'/>

        <stl-string name="title"/>
        <int32_t name='unk_7'/>
        <int32_t name='year'/>
        <int32_t name='year_tick'/>
        <stl-vector name='unk_10'/>
        <int32_t name='unk_11'/>
        <int32_t name='unk_12'/>
    </struct-type>

    <struct-type type-name='spoils_report'>
        <stl-string name="title"/>
        <int32_t name='unk_1'/>
        <int32_t name='year'/>
        <int32_t name='year_tick'/>

        <stl-vector name='item_types'>
            <enum base-type='int16_t' type-name='item_type'/>
        </stl-vector>
        <stl-vector name='item_subtypes'>
            <int16_t refers-to='(item-subtype-target $$._parent._parent.item_types[$$._key] $)'/>
        </stl-vector>
        <stl-vector name='mat_types' type-name='int16_t' ref-target='material'/>
        <stl-vector name='mat_indices' type-name='int32_t'/>
        <stl-vector name='item_counts' type-name='int32_t'/>

        <stl-vector name='creature_races' type-name='int32_t' ref-target='creature_raw'/>
        <stl-vector name='creature_castes' type-name='int32_t' ref-target='caste_raw' aux-value='$$._parent.creature_races[$._key]'/>
        <stl-vector name='creature_counts' type-name='int32_t'/>
    </struct-type>

    <struct-type type-name='interrogation_report'>
        <stl-string name='title'/>
        <int32_t name='officer_hf' ref-target='historical_figure'/>
        <int32_t name='subject_hf' ref-target='historical_figure'/>
        <stl-string name='officer_name'/>
        <int32_t name='unk_3'/>
        <int32_t name='year'/>
        <int32_t name='tick'/>
        <compound name='unk'>
            <int32_t name='officer_hf2' ref-target='historical_figure' comment='appears identical to officer_hf'/>
            <int32_t name='subject_hf2' ref-target='historical_figure' comment='appears identical to subject_hf'/>
            <int16_t name='unk_8'/>
            <int32_t name='unk_9'/>
            <int32_t name='unk_10' init-value='-1'/>
            <int32_t name='unk_11' init-value='-1000000'/>
            <int32_t name='unk_12' init-value='-1000000'/>
            <int32_t name='unk_13'/>
            <int16_t name='unk_14'/>
            <int32_t name='unk_15'/>
            <int32_t name='unk_16'/>
            <int32_t name='unk_17'/>
            <int32_t name='unk_18'/>
            <int32_t name='unk_19'/>
            <int32_t name='unk_20'/>
            <int32_t name='unk_21'/>
            <bitfield name='flags'>
                <flag-bit/>
            </bitfield>
        </compound>

        <int32_t name='unk_23'/>
        <int32_t name='unk_24'/>
        <int32_t name='unk_25'/>
        <int32_t name='unk_26'/>

        <stl-vector name='unk_27' type-name='int32_t'/> ?

        <int32_t name='subject_identity_id' ref-target='identity'/>

        <stl-vector name='unk_29'/> ?
        <stl-vector name='unk_30' type-name='int32_t'/>
        <stl-vector name='unk_31' type-name='int32_t' ref-target='history_event' comment='seen hfs_formed_intrigue_relationship'/>
        <stl-vector name='details' pointer-type='stl-string'/>
    </struct-type>

    <struct-type type-name='world_unk_20'>
        <int8_t/>
        <stl-vector type-name='int32_t'/>
        <int32_t/>
        <stl-vector type-name='int32_t'/>
        <int32_t/>
        <int32_t/>
        <stl-vector>
            <pointer>
                <int32_t/>
                <int32_t/>
                <int32_t/>
                <int32_t/>
                <int32_t/>
                <int32_t/>
            </pointer>
        </stl-vector>
        <int16_t/>
        <int16_t/>
        <int16_t/>
    </struct-type>

    <struct-type type-name='world_unk_6c'>
        <compound type-name='coord'/>
        <int8_t/>
        <stl-vector type-name='int16_t'/>
        <stl-vector type-name='int16_t'/>
        <stl-vector type-name='int16_t'/>
        <stl-vector type-name='int16_t'/>
    </struct-type>

    <struct-type type-name='coord_rect'>
        <int16_t name='x1'/>
        <int16_t name='y1'/>
        <int16_t name='x2'/>
        <int16_t name='y2'/>
        <int16_t name='z'/>
    </struct-type>

    <struct-type type-name='embark_feature' comment="layers plus river seen">
        <compound type-name='coord2d' name='world_tile'/>
        <compound type-name='coord2d' name='mid_level_tile' comment="the MLT the feature resides in"/>
        <int16_t name='local_feature_idx'/>
        <int32_t name='global_feature_idx' ref-target='world_underground_region'/>
        <int32_t name='unk10'/>
        <enum name='layer' type-name='layer_type' base-type='int16_t'/>
        <compound type-name='coord2d' name='local' comment="the top left corner of the MLT, in embark relative coordinates"/>
        <int16_t name='z_min'/>
        <int16_t name='z_max'/>
    </struct-type>

    <struct-type type-name='world_unk_a8'>
        <int8_t/>
        <int32_t/>
        <stl-vector type-name='int32_t'/>
        <int16_t/>
        <int16_t/>
        <int16_t/>
    </struct-type>

    <struct-type type-name='world_unk_b4'>
        <int8_t/>
        <int32_t/>
        <stl-vector type-name='int16_t'/>
        <stl-vector type-name='int16_t'/>
        <stl-vector type-name='int16_t'/>
        <int16_t/>
        <int16_t/>
        <int16_t/>
    </struct-type>

    <struct-type type-name='world_unk_c0'>
        <int8_t/>
        <stl-vector type-name='int32_t'/>
        <int32_t/>
        <stl-vector type-name='int32_t'/>
        <int32_t/>
        <int32_t/>
        <stl-vector>
            <pointer>
                <int32_t/>
                <int32_t/>
                <int32_t/>
                <int32_t/>
                <int32_t/>
                <int32_t/>
            </pointer>
        </stl-vector>
        <int16_t/>
        <int16_t/>
        <int16_t/>
    </struct-type>

    <enum-type type-name='combat_report_event_type' base-type='int16_t'>
        <enum-item/>
        <enum-item name='Deflected'/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item name='Unconscious'/>
        <enum-item name='Stunned'/>
        <enum-item name='MoreStunned'/>
        <enum-item name='Winded'/>
        <enum-item name='MoreWinded'/>
        <enum-item name='Nausea'/>
        <enum-item name='MoreNausea'/>
        <enum-item/>
        <enum-item/>
        <enum-item name='ExtractInjected'/>
        <enum-item name='ExtractSprayed'/>
        <enum-item name='BloodSucked'/>
        <enum-item name='SeveredPart'/>
        <enum-item/>
        <enum-item name='KnockedBack'/>
        <enum-item name='StuckIn'/>
        <enum-item name='LatchOnPart'/>
        <enum-item name='LatchOn'/>
        <enum-item name='Enraged'/>
        <enum-item name='PassThrough'/>
        <enum-item name='GlancesAway'/>
        <enum-item/>
        <enum-item/>
        <enum-item name='MajorArtery'/>
        <enum-item name='Artery'/>
        <enum-item name='MotorNerve'/>
        <enum-item name='SensoryNerve'/>
        <enum-item name='NoForce'/>
        <enum-item name='Interrupted'/>
    </enum-type>

    <struct-type type-name='glowing_barrier'>
        <bool name='triggered' comment='set when the glowing barrier vanishes, preventing later HFS events'/>
        <int32_t/>
        <stl-vector name='buildings' type-name='int32_t' ref-target='building' comment='when building is deconstructed, causes glowing barrier at pos to vanish and (in fort mode) spawns HFS one z-level below if it has not been set off already'/>
        <compound name='pos' type-name='coord' comment='coordinates of a GlowingBarrier or GlowingFloor tiletype'/>
    </struct-type>

    <struct-type type-name='deep_vein_hollow'>
        <bool name='triggered' comment='set when the underworld spire is breached, preventing subsequent HFS events'/>
        <int32_t/>
        <compound name='tiles' type-name='coord_path' comment='tile coordinates correspond to open spaces within an underworld spire; revealing one of these tiles triggers the HFS demon wave'/>
        <compound name='pos' type-name='coord' comment='seemingly unused'/>
    </struct-type>

    <struct-type type-name='campfire'>
        <compound type-name='coord' name='pos'/>
        <int32_t name='timer'/>
    </struct-type>

    <struct-type type-name='web_cluster'>
        <stl-vector type-name='int16_t' name='x'/>
        <stl-vector type-name='int16_t' name='y'/>
        <int16_t name='z'/>
        <int16_t name='race' ref-target='creature_raw'/>
        <int16_t name='caste' ref-target='caste_raw' aux-value='$$.race' />
        <compound type-name='coord2d' name='pos_min'/>
        <compound type-name='coord2d' name='pos_max'/>
        <stl-vector type-name='int32_t' name='ambushers' ref-target='unit'/>
    </struct-type>

    <struct-type type-name='fire'>
        <compound type-name='coord' name='pos'/>
        <int16_t name='timer'/>
        <uint16_t name='temperature'/>
        <uint16_t name='temp_unk1' comment='10000'/>
        <uint16_t name='temp_unk2'/>
        <uint16_t name='temp_unk3'/>
    </struct-type>

    <struct-type type-name='ocean_wave'>
        <int16_t name='x1'/>
        <int16_t name='y1'/>
        <int16_t name='x2'/>
        <int16_t name='y2'/>
        <int16_t name='z'/>
        <int8_t/>
        <int8_t/>
        <int8_t/>
    </struct-type>

    <struct-type type-name='coin_batch' instance-vector='$global.world.coin_batches'>
        <int32_t name='year'/>
        <int16_t name='mat_type' ref-target='material' aux-value='$$.mat_index'/>
        <int32_t name='mat_index'/>
        <int32_t name='entity' ref-target='historical_entity'/>
        <int32_t name='ruler' ref-target='historical_figure'/>
        <compound name='image_front'>
            <int32_t name='id' ref-target='art_image_chunk'/>
            <int16_t name='subid' ref-target='art_image' aux-value='$$.id'/>
        </compound>
        <compound name='image_back'>
            <int32_t name='id' ref-target='art_image_chunk'/>
            <int16_t name='subid' ref-target='art_image' aux-value='$$.id'/>
        </compound>
    </struct-type>

    <class-type type-name='job_handler' original-name='job_handlerst' custom-methods='true'>
        <df-linked-list name='list' type-name='job_list_link'/>
        <stl-vector name='postings' comment='entries never removed'>
            <pointer>
                <int32_t name='idx' comment='equal to position in vector'/>
                <pointer type-name='job' name='job' comment='bad if dead flag is set'/>
                <bitfield name='flags' base-type='int32_t'>
                    <flag-bit name='dead'/>
                </bitfield>
                <int32_t comment='not saved'/>
            </pointer>
        </stl-vector>

        <static-array count='2000'>
            <pointer type-name='unit' comment="List seems to be processed index 0 first and then removal swaps last to first"/>
            <int32_t comment="Seems to have very few bits set in lower half, (not copied with the pointer?)"/>
            <int32_t comment="Seems to have many bits set in lower half, (not copied with the pointer?)"/>
        </static-array>
        <int32_t comment='next slot'/>

        <virtual-methods>
            <vmethod name='cancel_job'><pointer type-name='job'/></vmethod>
        </virtual-methods>
    </class-type>

    <class-type type-name='building_handler' original-name='building_handlerst' custom-methods='true'>
        dtor 85316f0

        <stl-vector name='all' pointer-type='building'/>

        <compound name='other' type-name='buildings_other'/>

        <stl-vector name='bad' has-bad-pointers='true' pointer-type='building'/>

        <bool name='check_bridge_collapse'/>
        <bool name='check_machine_collapse' comment='?'/>

        <virtual-methods>
            <vmethod name='get_machine_hookup_list' comment='ToadyOnes name'>
                <pointer name='hookups'><stl-vector type-name='int16_t'/></pointer>
                <int16_t name='type'/>
                <int16_t name='subtype'/>
                <int16_t name='x1'/>
                <int16_t name='y1'/>
                <int16_t name='x2'/>
                <int16_t name='y2'/>
                <int16_t name='z'/>
                <int8_t name='is_vertical'/>
            </vmethod>
        </virtual-methods>
    </class-type>

    <class-type type-name='machine_handler' original-name='machine_handlerst' custom-methods='true'>
        <stl-vector name='all' pointer-type='machine'/>
        <stl-vector name='bad' has-bad-pointers='true' pointer-type='machine'/>
        <virtual-methods>
            <vmethod>
                <pointer type-name='building'/>
            </vmethod>
        </virtual-methods>
    </class-type>

    <struct-type type-name='mental_picture'>
        <compound name='unk'>
            <stl-vector name='elements' pointer-type='mental_picture_elementst'/>
            <int32_t/>
            <stl-vector name='properties' pointer-type='mental_picture_propertyst'/>
            <int32_t/>
        </compound>
        <int32_t init-value='-1'/>
        <int32_t init-value='-1'/>
    </struct-type>

    32bit size is 4 bytes more than should be
    <struct-type type-name='belief_system' key-field='id' instance-vector='$global.world.belief_systems.all'>
        <int32_t name='id'/>

        <stl-vector name='mental_pictures'>
            <pointer>
                <stl-vector pointer-type='mental_picture'/>
            </pointer>
        </stl-vector>
        <stl-vector name='deities' type-name='int32_t' ref-target="historical_figure" comment="historical figure ID of gods the belief system is concerned with"/>
        <stl-vector name='worship_levels' type-name='int32_t' comment="worship level for each god referenced in the deities field"/>

        <int32_t/>
        <int32_t/>
        <int32_t/>
        <int32_t/>
        <int32_t/>
        <int32_t/>
        <int32_t/>
        <int32_t/>
        <int32_t/>
        <int32_t/>

        <int32_t/>
        <int32_t/>
        <int32_t/>
        <int32_t/>
        <int32_t/>
        <int32_t/>
        <int32_t/>
        <int32_t/>
        <int32_t/>
        <int32_t/>

        <int32_t/>
        <int32_t/>
        <int32_t/>
        <int32_t/>
        <int32_t/>
        <int32_t/>
        <int32_t/>
        <int32_t/>
        <int32_t/>
        <int32_t/>

        <int32_t/>
        <int32_t/>
        <int32_t/>
        <int32_t/>
        <int32_t/>
        <int32_t/>
        <int32_t/>
        <int32_t/>
        <int32_t/>
        <int32_t/>

        <int32_t/>
        <int32_t/>
        <int32_t/>
        <int32_t/>
        <int32_t/>
        <int32_t/>
        <int32_t/>
        <int32_t/>
        <int32_t/>
        <int32_t/>

        <int32_t/>
        <int32_t/>
        <int32_t/>
        <int32_t/>
        <int32_t/>
        <int32_t/>
        <int32_t/>
        <int32_t/>
        <int32_t/>
        <int32_t/>

        <int32_t/>
        <int32_t/>
        <int32_t/>
        <int32_t/>
    </struct-type>

    <struct-type type-name='divination_set_roll'>
        <stl-vector name='result' type-name='int32_t' comment="if a single element, the value of the die or the sum of the dice. If two numbers the first is the result and the second the die"/>
        <int32_t name='effect_type' comment="Looks like enum 0-4, presumably controlling the interpretation of 'effect'"/>
        <int32_t name='effect' comment="Effect? 0-3: 697 - 11600 seen. 4: 0-119 seen"/>
    </struct-type>

    <struct-type type-name='divination_set' instance-vector='$global.world.divination_sets.all' key-field='id'>
        <int32_t name='id' comment="currently matches index into vector"/>
        <int32_t name='unk_v47_2' comment="seems to be mutually exclusive with owner_id, but what does it refer to?"/>
        <int32_t name='owner_id' ref-target='historical_entity' comment="religion owning the set"/>
        <stl-vector name='unk_v47_4' type-name='int32_t' comment="seems to increase slightly faster than id. Religion number?"/>
        <stl-vector name='rolls' pointer-type='divination_set_roll'/>
    </struct-type>

    <struct-type type-name='image_set' instance-vector='$global.world.image_sets.all' key-field='id'>
        <int32_t name='id'/>
        <int32_t name='unk_2'/>
        <stl-vector name='unk_vec1'>
            <pointer>
                <int32_t name='unk_1'/>
                <int32_t name='unk_2' init-value='-1'/>
                <int32_t name='unk_3' init-value='-1'/>
                <int32_t name='unk_4'/>
            </pointer>
        </stl-vector>
        <stl-vector name='unk_vec2' type-name='int16_t'/>
    </struct-type>

    <struct-type type-name='world'>
        dtor 89fff80
        <!-- <compound> -->
        <stl-vector name='glowing_barriers' pointer-type='glowing_barrier'/>
        <stl-vector name='deep_vein_hollows' pointer-type='deep_vein_hollow'/>

        <stl-vector name='unk_20' pointer-type='world_unk_20'/>

        <stl-vector name='engravings' pointer-type='engraving'/>

        <compound name='vermin'>
            <stl-vector name='all' pointer-type='vermin'/>
            <stl-vector name='colonies' pointer-type='vermin'/>
        </compound>
        <stl-vector name='flow_tiles' pointer-type='coord' comment="Matches subset of tiles water can flow through and has flown through, skipping teleport tiles. No ripples in checked embark. Haven't checked any flowing magma"/>
        <stl-vector name='campfires' pointer-type='campfire'/>
        <stl-vector name='web_clusters' pointer-type='web_cluster'/>
        <stl-vector name='fires' pointer-type='fire'/>
        <stl-vector name='unk_6C' pointer-type='world_unk_6c'/>
        <stl-vector name='ocean_waves' pointer-type='ocean_wave'/>
        <stl-vector name='constructions' pointer-type='construction'/>
        <stl-vector name='murky_pools' pointer-type='coord_rect'/>
        <stl-vector name='embark_features' pointer-type='embark_feature' comment="populated at embark"/>
        <stl-vector name='unk_A8' pointer-type='world_unk_a8'/>
        <stl-vector name='unk_B4' pointer-type='world_unk_b4'/>
        <stl-vector name='unk_C0' pointer-type='world_unk_c0'/>
        <stl-vector name='unk_CC' pointer-type='engraving'/>
        <stl-vector name='unk_D8' pointer-type='construction'/>
        <stl-vector name='unk_E4' pointer-type='embark_feature'/>
        <stl-vector name='unk_F0' pointer-type='world_unk_6c'/>
        <stl-vector name='unk_FC' pointer-type='coord_rect'/>
        <!-- </compound> -->
        <stl-vector name='effects' pointer-type='effect_info'/>

        <stl-vector name='coin_batches' pointer-type='coin_batch'/>
        <stl-vector name='populations' pointer-type='local_population'/>

        --

        <stl-vector name='manager_orders' pointer-type='manager_order'/>
        <int32_t name='manager_order_next_id'/>

        <stl-vector name='mandates' pointer-type='mandate'/>

        --  Entities

        <compound name='entities'>
            <stl-vector name='all' pointer-type='historical_entity'/>

            <stl-vector name='bad' has-bad-pointers='true' pointer-type='historical_entity'/>
        </compound>

        -- Apparently a temporary buffer for world construction stuff

        <compound name='worldgen_coord_buf'>
            <static-array count='20000' type-name='coord2d' name='slots'/>
            <int16_t name='next_slot'/>
        </compound>

        -- Units

        <compound name='units'>
            <stl-vector name='all' pointer-type='unit'/>

            <stl-vector name='active' pointer-type='unit' comment='not sorted, entry 0 is adventurer'/>

            <compound name='other' type-name='units_other'/>

            <stl-vector name='bad' has-bad-pointers='true' pointer-type='unit'/>
            <stl-vector name='unknown' since='v0.44.06'/>
        </compound>

        -- Unit and Art Chunks

        <stl-vector name='unit_chunks' pointer-type='unit_chunk'/>
        <stl-vector name='art_image_chunks' pointer-type='art_image_chunk'/>

        -- Nemesis

        <compound name='nemesis'>
            <stl-vector name='all' pointer-type='nemesis_record'/>
            <static-array name='other' count='28'>
                <stl-vector pointer-type='nemesis_record'/>
            </static-array>
            <stl-vector name='bad' has-bad-pointers='true' pointer-type='nemesis_record'/>
            <bool name='unk4'/>
        </compound>

        -- Items

        <compound name='items'>
            dtor 852f4b0

            <stl-vector name='all' pointer-type='item'/>

            <compound name='other' type-name='items_other'/>

            <stl-vector name='bad' has-bad-pointers='true' pointer-type='item'/>

            <stl-vector name='bad_tag' type-name='int32_t'/>
        </compound>

        -- Artifacts

        <compound name='artifacts'>
            <stl-vector name='all' pointer-type='artifact_record'/>

            <stl-vector name='bad' has-bad-pointers='true' pointer-type='artifact_record'/>
        </compound>

        -- Jobs and projectiles

        <compound name='jobs' type-name='job_handler'/>

        <df-linked-list name='proj_list' type-name='proj_list_link'/>

        -- Buildings

        <compound name='buildings' type-name='building_handler'/>

        -- Machines (connected groups of gears and so on)

        <compound name='machines' type-name='machine_handler'/>

        -- Flow guides (whatever those are)

        <compound name='flow_guides'>
            <stl-vector name='all' pointer-type='flow_guide'/>
            <stl-vector name='bad' pointer-type='flow_guide' has-bad-pointers='true'/>
        </compound>

        -- Stockpile classifier

        <compound name='stockpile'>
            <static-array type-name='int32_t' name='num_jobs' count='10' index-enum='hauler_type'/>
            <static-array type-name='int32_t' name='num_haulers' count='10' index-enum='hauler_type'/>

            -- Pointers used as tokens; data never accessed by the look of it:

            <compound name='simple1'>
                <int8_t/>
                <int8_t name='food'/>
                <int8_t/>
                <int8_t/>
            </compound>
            <stl-vector name='seeds' type-name='int8_t'
                        index-refers-to='(find-plant-raw $)'/>
            <stl-vector name='plants' type-name='int8_t'
                        index-refers-to='(find-plant-raw $)'/>
            <stl-vector name='cheese' type-name='int8_t'
                        index-refers-to='(find-creature $)'/>
            <stl-vector name='meat_fish' type-name='int8_t'
                        index-refers-to='(find-creature $)'/>
            <stl-vector name='eggs' type-name='int8_t'
                        index-refers-to='(find-creature $)'/>
            <stl-vector name='leaves' type-name='int8_t'
                        index-refers-to='(find-plant-raw $)'/>
            <stl-vector name='plant_powder' type-name='int8_t'
                        index-refers-to='(find-plant-raw $)'/>
            <compound name='simple2'>
                <int8_t name='seeds'/>
                <int8_t name='plants'/>
                <int8_t name='cheese'/>
                <int8_t name='fish'/>
                <int8_t name='meat'/>
                <int8_t name='leaves'/>
                <int8_t name='powder'/>
                <int8_t name='eggs'/>
            </compound>
            <stl-vector name='liquid_plant' type-name='int8_t'
                        index-refers-to='(find-plant-raw $)'/>
            <stl-vector name='liquid_animal' type-name='int8_t'
                        index-refers-to='(find-creature $)'/>
            <stl-vector name='liquid_builtin' type-name='int8_t'
                        index-refers-to='(material-by-id $ -1)'/>
            <compound name='simple3'>
                <int8_t name='glob_fat'/>
                <int8_t name='glob_tallow'/>
                <int8_t name='glob_paste'/>
                <int8_t name='glob_pressed'/>

                <int8_t name='weapons'/>
                <int8_t name='shields'/>
                <int8_t name='ammo'/>
                <int8_t name='coins'/>

                <int8_t name='bar_blocks'/>
                <int8_t name='gems' comment='not large'/>
                <int8_t name='finished_goods'/>
                <int8_t name='tanned_skins'/>

                <int8_t name='thread_cloth'/>
                <int8_t/>
                <int8_t/>
                <int8_t/>
            </compound>
        </compound>

        -- Plants

        <compound name='plants'>
            <stl-vector name='all' pointer-type='plant'/>
            <stl-vector name='shrub_dry' pointer-type='plant'/>
            <stl-vector name='shrub_wet' pointer-type='plant'/>
            <stl-vector name='tree_dry' pointer-type='plant'/>
            <stl-vector name='tree_wet' pointer-type='plant'/>
            <stl-vector name='empty' pointer-type='plant'/>
        </compound>

        -- Adventure quests

        <!--
        <df-linked-list name='quests' type-name='quest_list_link'/>
        -->

        -- Unknown

        <compound name='enemy_status_cache' comment='?'>
            <static-array name='slot_used' type-name='bool' count='500'/>
            <static-array name='rel_map' count='500'>
                <static-array type-name='int32_t' count='500'/>
            </static-array>
            <int32_t name='next_slot'/>
        </compound>

        <compound name='schedules'>
            <stl-vector name='all' pointer-type='schedule_info' />
            <stl-vector name='bad' pointer-type='schedule_info' has-bad-pointers='true' />
        </compound>

        <compound name='squads'>
            <stl-vector name='all' pointer-type='squad'/>
            <stl-vector name='bad' has-bad-pointers='true' pointer-type='squad'/>
        </compound>

        <compound name='formations'>
            <stl-vector name='all'>
                <pointer>
                    <int32_t/>?
                </pointer>
            </stl-vector>
            <stl-vector name='bad' has-bad-pointers='true'>
                <pointer/>
            </stl-vector>
        </compound>

        -- Drills

        <compound name='activities'>
            <stl-vector name='all' pointer-type='activity_entry'/>
            <stl-vector name='bad' has-bad-pointers='true' pointer-type='activity_entry'/>
        </compound>

        -- Reports and announcements

        <compound name='status'>
            dtor 85356e0
            <stl-vector name='reports' pointer-type='report'/>
            <stl-vector name='announcements' pointer-type='report'/>
            <stl-vector name='popups' pointer-type='popup_message'/>

            <int32_t name='next_report_id'/>
            <bitfield name='flags'>
                <flag-bit name='combat'/>
                <flag-bit name='hunting'/>
                <flag-bit name='sparring'/>
            </bitfield>

            <static-array type-name='int32_t' count='9' since='v0.40.01'/>
            <stl-vector name='mission_reports' pointer-type='mission_report'/>
            <stl-vector name='spoils_reports' pointer-type='spoils_report' since='v0.44.06'/>
            <stl-vector name='interrogation_reports' pointer-type='interrogation_report' since='v0.47.01'/>
            <int32_t name='display_timer'/>

            <static-array name='slots' count='100'>
                <comment>Written to by code at 0x80fd7b0</comment>
                <enum type-name='combat_report_event_type' name='type'/>
                <int32_t name='item' comment='or body part layer'/>
                <int32_t name='unk1b'/>
                <int32_t name='unk1c'/>
                <int32_t name='unk1d'/>
                <int16_t name='body_part'/>
                <int16_t name='unk2b'/>
                <int16_t name='unk2c'/>
                <int16_t name='unk2d'/>
                <stl-string name='target_bp_name'/>
                <stl-string name='verb'/>
                <stl-string name='with_item_name'/>
                <stl-string name='unk3d'/>
                <bitfield name='flags' base-type='int32_t'>
                    <flag-bit name='behind'/>
                    <flag-bit name='side'/>
                    <flag-bit name='by'/>
                    <flag-bit name='item'/>
                    <flag-bit name='tap'/>
                    <flag-bit name='sever'/>
                </bitfield>
            </static-array>

            <static-array name='slot_id_used' type-name='int16_t' count='38' index-enum='combat_report_event_type'/>
            <static-array name='slot_id_idx1' type-name='int16_t' count='38' index-enum='combat_report_event_type'/>
            <static-array name='slot_id_idx2' type-name='int16_t' count='38' index-enum='combat_report_event_type'/>

            <int16_t name='slots_used'/>
        </compound>

        <compound name='interaction_instances'>
            <stl-vector name='all' pointer-type='interaction_instance'/>
            <stl-vector name='bad' has-bad-pointers='true' pointer-type='interaction_instance'/>
        </compound>

        <compound name='written_contents'>
            <stl-vector name='all' pointer-type='written_content'/>
            <stl-vector name='bad' has-bad-pointers='true' pointer-type='written_content'/>
        </compound>

        <compound name='identities'>
            <stl-vector name='all' pointer-type='identity'/>
            <stl-vector name='bad' has-bad-pointers='true' pointer-type='identity'/>
        </compound>

        <compound name='incidents'>
            <stl-vector name='all' pointer-type='incident'/>
            <stl-vector name='bad' has-bad-pointers='true' pointer-type='incident'/>
        </compound>

        <compound name='crimes'>
            <stl-vector name='all' pointer-type='crime'/>
            <stl-vector name='bad' has-bad-pointers='true' pointer-type='crime'/>
        </compound>

        <compound name='vehicles' since='v0.34.08'>
            <stl-vector name='all' pointer-type='vehicle'/>
            <stl-vector name='active' pointer-type='vehicle'/>
            <stl-vector name='bad' has-bad-pointers='true' pointer-type='vehicle'/>
        </compound>

        <compound name='armies' since='v0.40.01'>
            <stl-vector name='all' pointer-type='army'/>
            <stl-vector name='bad' pointer-type='army' has-bad-pointers='true'/>
        </compound>

        <compound name='army_controllers' since='v0.40.01'>
            <stl-vector name='all' pointer-type='army_controller'/>
            <stl-vector name='bad' pointer-type='army_controller' has-bad-pointers='true'/>
        </compound>

        <compound name='army_tracking_info' since='v0.40.01'>
            <stl-vector name='all'/>
            <stl-vector name='bad' has-bad-pointers='true'/>
        </compound>

        <compound name='cultural_identities' since='v0.40.01'>
            <stl-vector name='all' pointer-type='cultural_identity'/>
            <stl-vector name='bad' pointer-type='cultural_identity' has-bad-pointers='true'/>
        </compound>

        <compound name='agreements' since='v0.40.01'>
            <stl-vector name='all' pointer-type='agreement'/>
            <stl-vector name='bad' pointer-type='agreement' has-bad-pointers='true'/>
        </compound>

        <compound name='poetic_forms' since='v0.42.01'>
            <stl-vector name='all' pointer-type='poetic_form'/>
            <stl-vector name='bad' pointer-type='poetic_form' has-bad-pointers='true'/>
        </compound>

        <compound name='musical_forms' since='v0.42.01'>
            <stl-vector name='all' pointer-type='musical_form'/>
            <stl-vector name='bad' pointer-type='musical_form' has-bad-pointers='true'/>
        </compound>

        <compound name='dance_forms' since='v0.42.01'>
            <stl-vector name='all' pointer-type='dance_form'/>
            <stl-vector name='bad' pointer-type='dance_form' has-bad-pointers='true'/>
        </compound>

        <compound name='scales' since='v0.42.01'>
            <stl-vector name='all' pointer-type='scale'/>
            <stl-vector name='bad' pointer-type='scale' has-bad-pointers='true'/>
        </compound>

        <compound name='rhythms' since='v0.42.01'>
            <stl-vector name='all' pointer-type='rhythm'/>
            <stl-vector name='bad' pointer-type='rhythm' has-bad-pointers='true'/>
        </compound>

        <compound name='occupations' since='v0.42.01'>
            <stl-vector name='all' pointer-type='occupation'/>
            <stl-vector name='bad' pointer-type='occupation' has-bad-pointers='true'/>
        </compound>

        <compound name='belief_systems' since='v0.44.01'>
            <stl-vector name='all' pointer-type='belief_system'/>
            <stl-vector name='bad' pointer-type='belief_system' has-bad-pointers='true'/>
        </compound>

        <compound name='image_sets' since='v0.47.01'>
            <stl-vector name='all' pointer-type='image_set'/>
            <stl-vector name='bad' pointer-type='image_set' has-bad-pointers='true'/>
        </compound>

        <compound name='divination_sets' since='v0.47.01'>
            <stl-vector name='all' pointer-type='divination_set'/>
            <stl-vector name='bad' pointer-type='divination_set' has-bad-pointers='true'/>
        </compound>

        <pointer name='selected_building' type-name='building'/>
        <enum base-type='int16_t' name='selected_stockpile_type' type-name='stockpile_category'/>
        <bool name='update_selected_building'/>
        <int16_t name='building_width'/>
        <int16_t name='building_height'/>
        <enum name='selected_direction' base-type='int8_t' type-name='screw_pump_direction'/>

        <compound name='map'>
            52cdc
            <stl-vector name='map_blocks' pointer-type='map_block'/>
            <pointer name='block_index' is-array='true'>
                <pointer is-array='true'>
                    <pointer is-array='true'>
                        <pointer type-name='map_block'/>
                    </pointer>
                </pointer>
            </pointer>

            <stl-vector name='map_block_columns' pointer-type='map_block_column'/>
            <pointer name='column_index' is-array='true'>
                <pointer is-array='true'>
                    <pointer type-name='map_block_column'/>
                </pointer>
            </pointer>

            <int32_t name='x_count_block'/>
            <int32_t name='y_count_block'/>
            <int32_t name='z_count_block'/>
            <int32_t name='x_count'/>
            <int32_t name='y_count'/>
            <int32_t name='z_count'/>
            <int32_t name='region_x'/>
            <int32_t name='region_y'/>
            <int32_t name='region_z'/>
            <static-array name='distance_lookup' count='53'>
                <static-array count='53' type-name='int16_t'
                              comment='Appears to be precomputed rounded integer distances'/>
            </static-array>
        </compound>

        TODO: why did the alignment actually change here?

        <compound name='profession_skills'>
            <static-array name='primary' index-enum='profession' since='v0.40.01'>
                <stl-vector type-name='job_skill'/>
            </static-array>
            <static-array name='secondary' index-enum='profession' since='v0.40.01'>
                <stl-vector type-name='job_skill'/>
            </static-array>
        </compound>

        <compound name='math'>
            <static-array name='approx' count='40' since='v0.40.01' comment='10 * cosine/sine of the index in units of 1/40 of a circle, rounded towards 0'>
                <int32_t name='cos'/>
                <int32_t name='sin'/>
            </static-array>
            <static-array name='cos' count='181' type-name='d-float' since='v0.40.01' comment='100 * cosine of the index in degrees'/>
            <static-array name='hypot' count='11' since='v0.40.01' comment='square root of the sum of the squares of the indices'>
                <static-array count='11' type-name='d-float'/>
            </static-array>
        </compound>

        <compound name='map_extras'>
            <uint8_t name='rotation'/>

            <pointer type-name='z_level_flags' name='z_level_flags'
                     is-array='true' since='v0.34.05'/>

            <stl-vector name='unk_v40_3a' pointer-type='block_square_event' since='v0.40.01'/>
            <stl-vector name='unk_v40_3b' type-name='int16_t' since='v0.40.01'/>
            <stl-vector name='unk_v40_3c' type-name='int16_t' since='v0.40.01'/>
            <stl-vector name='unk_v40_3d' type-name='int16_t' since='v0.40.01'/>
        </compound>

        <pointer name='world_data' type-name='world_data'/>

        <compound name='worldgen_status'>
            <enum base-type='int16_t' name='state'>
                <enum-item name='None' value='-1'/>
                <enum-item name='Initializing'/>
                <enum-item name='PreparingElevation'/>
                <enum-item name='SettingTemperature'/>
                <enum-item name='RunningRivers'/>
                <enum-item name='FormingLakesAndMinerals'/>
                <enum-item name='GrowingVegetation'/>
                <enum-item name='VerifyingTerrain'/>
                <enum-item name='ImportingWildlife'/>
                <enum-item name='RecountingLegends'/>
                <enum-item name='Finalizing'/>
                <enum-item name='Done'/>
            </enum>
            <int32_t name='num_rejects'/>
            <static-array count='53' type-name='int32_t'/>
            <static-array count='53' type-name='int32_t'/>
            <int16_t name='rejection_reason'/>
            <int32_t name='lakes_total'/>
            <int32_t/>
            <int16_t/>
            <int32_t name='lakes_cur'/>
            <int32_t/>
            <int32_t/>
            <static-array name='geo_layers' count='100' pointer-type='world_geo_layer'/>
            <static-array count='100' type-name='int8_t'/>
            <static-array count='100' type-name='int16_t'/>
            <int32_t/>
            <int32_t name='finalized_civ_mats'/>
            <int32_t name='finalized_art'/>
            <int32_t name='finalized_uniforms'/>
            <int32_t name='finalized_sites'/>
            <int32_t/>
            <int32_t/>
            <int32_t/>
            <stl-vector name='entities' pointer-type='historical_entity'/>
            <stl-vector name='sites' pointer-type='world_site'/>
            <int32_t name='cursor_x'/>
            <int32_t name='cursor_y'/>
            <stl-vector type-name='pointer'/>
            <stl-vector type-name='pointer'/>
            <int32_t name='rivers_total'/>
            <int32_t name='rivers_cur'/>
            <int8_t/>
            <stl-string name='last_param_set'/>
            <stl-string name='last_seed'/>
            <stl-string name='last_name_seed'/>
            <stl-string name='last_history_seed'/>
            <stl-string name='last_creature_seed'/>
            <bool name='place_caves'/>
            <bool name='place_good_evil'/>
            <bool name='place_megabeasts'/>
            <bool name='place_other_beasts'/>
            <bool name='make_cave_pops'/>
            <bool name='make_cave_civs'/>
            <bool name='place_civs'/>
            <bool name='finished_prehistory'/>
            <stl-vector name='sites2' pointer-type='world_site'/>
            <stl-vector name='sites3' pointer-type='world_site'/>
            <int32_t/>
            <int8_t/>
            <int8_t/>
            <int8_t/>
            <int8_t/>
            <stl-vector name='entity_raws' pointer-type='entity_raw'/>
            <stl-vector type-name='int16_t'/>
            <int32_t name='civ_count'/>  --  Only valid during civ placement phase
            <int32_t name='civs_left_to_place'/>  --  Ditto
            <static-array name='regions1' count='10'>
                <stl-vector pointer-type='world_region'/>
            </static-array>
            <static-array name='regions2' count='10'>
                <stl-vector pointer-type='world_region'/>
            </static-array>
            <static-array name='regions3' count='10'>
                <stl-vector pointer-type='world_region'/>
            </static-array>
            <stl-vector type-name='int32_t'/>
            <stl-vector type-name='int32_t'/>
            <stl-vector type-name='int32_t'/>
            <stl-vector type-name='int32_t'/>
            <stl-vector type-name='int32_t'/>
            <stl-vector type-name='int32_t'/>
            <int32_t/>
            <int32_t/>
            <stl-vector name='unk_10d298' type-name='int16_t' since='v0.40.01'/>
            <stl-vector name='unk_10d2a4' type-name='int16_t' since='v0.40.01'/>
            <stl-vector name='libraries' pointer-type='abstract_building' since='v0.42.01'/>
            <int32_t since='v0.42.01'/>
            <stl-vector name='temples' pointer-type='abstract_building' since='v0.44.01'/>
            <stl-vector name='some_artifacts' pointer-type='artifact_record' since='v0.44.01'/>
            <stl-vector since='v0.47.01'/>
            <stl-vector type-name='int32_t' since='v0.47.01'/>
        </compound>

        <compound name='orphaned_flow_pool' type-name='flow_reuse_pool'/>

        -- raws

        <compound name='raws' type-name='world_raws'/>

        <compound name='area_grasses' comment="grasses in world tiles around embark. Populated at embark">
            <compound name='world_tiles' type-name='coord2d_path' comment="7*7 world tile area centered around embark, stunted at edges"/>
            <stl-vector name='layer_grasses' comment="one per layer per world tile">
                <pointer>
                    <compound name='ref' type-name='world_population_ref'/>
                    <stl-vector name='grasses'>
                        <int32_t ref-target='plant_raw'/>
                    </stl-vector>
                </pointer>
            </stl-vector>
        </compound>

        <compound name='flow_engine'>
            <int8_t name='rnd_16'/>
            <int16_t name='rnd_256'/>
            <int16_t name='rnd_pos'/>
            <static-array name='rnd_x' type-name='int16_t' count='16'/>
            <static-array name='rnd_y' type-name='int16_t' count='16'/>

            <int32_t name='block_idx' refers-to='$$._global.map.map_blocks[$]'/>

            <stl-vector name='unk7a' type-name='int16_t'/>
            <stl-vector name='unk7b' type-name='int16_t'/>
            <stl-vector name='unk7c' type-name='int16_t'/>
            <stl-vector name='unk7_cntdn' type-name='int16_t'/>
        </compound>

        <stl-vector name='busy_buildings' type-name='int32_t' ref-target='building'
                    comment='buildings with nonempty getUsers'/>

        <df-flagarray name='cavein_flags' comment='flag 0 means process cave columns'/>
        <int32_t name='original_save_version' comment='DF version on which the world was first created'/>

        <compound name='worldgen'>
            <stl-string name='version'/>
            <int32_t name="next_unit_chunk_id"/>
            <int16_t name="next_unit_chunk_offset"/>
            <int32_t name="next_art_image_chunk_id"/>
            <int16_t name="next_art_image_chunk_offset"/>
            ctor 87ae880
            <compound name='worldgen_parms'>
                <stl-string name='title'/>
                <stl-string name='seed' since='v0.34.01'/>
                <stl-string name='history_seed' since='v0.34.01'/>
                <stl-string name='name_seed' since='v0.34.01'/>
                <stl-string name='creature_seed' since='v0.34.01'/>
                <int32_t name='dim_x'/>
                <int32_t name='dim_y'/>
                <stl-string name='custom_name'/>
                <bool name='has_seed'/>
                <bool name='has_history_seed'/>
                <bool name='has_name_seed'/>
                <bool name='has_creature_seed'/>
                <int32_t name='embark_points'/>
                <int32_t name='peak_number_min'/>
                <int32_t name='partial_ocean_edge_min'/>
                <int32_t name='complete_ocean_edge_min'/>
                <int32_t name='volcano_min'/>
                <static-array name='region_counts' count='3'>
                    <static-array type-name='int32_t' count='10' index-enum='worldgen_region_type'/>
                </static-array>
                <static-array type-name='int32_t' name='river_mins' count='2'/>
                <int32_t name='subregion_max'/>
                <int32_t name='cavern_layer_count'/>
                <int32_t name='cavern_layer_openness_min'/>
                <int32_t name='cavern_layer_openness_max'/>
                <int32_t name='cavern_layer_passage_density_min'/>
                <int32_t name='cavern_layer_passage_density_max'/>
                <int32_t name='cavern_layer_water_min'/>
                <int32_t name='cavern_layer_water_max'/>
                <bool name='have_bottom_layer_1'/>
                <bool name='have_bottom_layer_2'/>
                <int32_t name='levels_above_ground'/>
                <int32_t name='levels_above_layer_1'/>
                <int32_t name='levels_above_layer_2'/>
                <int32_t name='levels_above_layer_3'/>
                <int32_t name='levels_above_layer_4'/>
                <int32_t name='levels_above_layer_5'/>
                <int32_t name='levels_at_bottom'/>
                <int32_t name='cave_min_size'/>
                <int32_t name='cave_max_size'/>
                <int32_t name='mountain_cave_min'/>
                <int32_t name='non_mountain_cave_min'/>
                <int32_t name='total_civ_number'/>
                <int32_t name='rain_ranges_1'/>
                <int32_t name='rain_ranges_0'/>
                <int32_t name='rain_ranges_2'/>
                <int32_t name='drainage_ranges_1'/>
                <int32_t name='drainage_ranges_0'/>
                <int32_t name='drainage_ranges_2'/>
                <int32_t name='savagery_ranges_1'/>
                <int32_t name='savagery_ranges_0'/>
                <int32_t name='savagery_ranges_2'/>
                <int32_t name='volcanism_ranges_1'/>
                <int32_t name='volcanism_ranges_0'/>
                <int32_t name='volcanism_ranges_2'/>
                <static-array count='4' name='ranges'>
                    <static-array type-name='int32_t' count='24' index-enum='worldgen_range_type'/>
                </static-array>
                <int32_t name='beast_end_year'/>
                <int32_t name='end_year'/>
                <int32_t name='beast_end_year_percent'/>
                <int32_t name='total_civ_population'/>
                <int32_t name='site_cap'/>
                <int32_t name='elevation_ranges_1'/>
                <int32_t name='elevation_ranges_0'/>
                <int32_t name='elevation_ranges_2'/>
                <int32_t name='mineral_scarcity'/>
                <int32_t name='megabeast_cap'/>
                <int32_t name='semimegabeast_cap'/>
                <int32_t name='titan_number'/>
                <static-array type-name='int32_t' name='titan_attack_trigger' count='3'/>
                <int32_t name='demon_number'/>
                <int32_t name='night_troll_number'/>
                <int32_t name='bogeyman_number'/>
                <int32_t name='nightmare_number' since='v0.47.01'/>
                <int32_t name='vampire_number'/>
                <int32_t name='werebeast_number'/>
                <static-array type-name='int32_t' name='werebeast_attack_trigger' count='3' since='v0.47.01'/>
                <int32_t name='secret_number'/>
                <int32_t name='regional_interaction_number'/>
                <int32_t name='disturbance_interaction_number'/>
                <int32_t name='evil_cloud_number'/>
                <int32_t name='evil_rain_number'/>
                <int8_t name='generate_divine_materials' since='v0.40.01'/>
                <int8_t name='allow_divination' since='v0.47.01'/>
                <int8_t name='allow_demonic_experiments' since='v0.47.01'/>
                <int8_t name='allow_necromancer_experiments' since='v0.47.01'/>
                <int8_t name='allow_necromancer_lieutenants' since='v0.47.01'/>
                <int8_t name='allow_necromancer_ghouls' since='v0.47.01'/>
                <int8_t name='allow_necromancer_summons' since='v0.47.01'/>
                <int32_t name='good_sq_counts_0'/>
                <int32_t name='evil_sq_counts_0'/>
                <int32_t name='good_sq_counts_1'/>
                <int32_t name='evil_sq_counts_1'/>
                <int32_t name='good_sq_counts_2'/>
                <int32_t name='evil_sq_counts_2'/>
                <static-array type-name='int32_t' name='elevation_frequency' count='6'/>
                <static-array type-name='int32_t' name='rain_frequency' count='6'/>
                <static-array type-name='int32_t' name='drainage_frequency' count='6'/>
                <static-array type-name='int32_t' name='savagery_frequency' count='6'/>
                <static-array type-name='int32_t' name='temperature_frequency' count='6'/>
                <static-array type-name='int32_t' name='volcanism_frequency' count='6'/>
                <pointer name='ps'/> dtor 83bed90
                <int32_t name='reveal_all_history'/>
                <int32_t name='cull_historical_figures'/>
                <int32_t name='erosion_cycle_count'/>
                <int32_t name='periodically_erode_extremes'/>
                <int32_t name='orographic_precipitation'/>
                <int32_t name='playable_civilization_required'/>
                <int32_t name='all_caves_visible'/>
                <int32_t name='show_embark_tunnel'/>
                <int32_t name='pole'/>
                <bool/>
            </compound>
        </compound>

        -- hist figures

        <compound name='history' type-name='world_history'/>

        <stl-vector name='entity_populations' pointer-type='entity_population'/>

        <compound name='unk_v40_6' comment="every value matches a nemesis, but unk2/3 have too few values to draw conclusions. Note that nemesis matches may just be a conincidence of falling within the nemesis range">
            <static-array name='unk1' since='v0.40.01' count='336'>
                <stl-vector type-name='int32_t' ref-target='nemesis_record'/>
            </static-array>
            <static-array name='unk2' since='v0.40.01' count='336'>
                <stl-vector type-name='int32_t'/>
            </static-array>
            <static-array name='unk3' since='v0.40.01' count='336'>
                <stl-vector type-name='int32_t'/>
            </static-array>
            <static-array name='unk4' since='v0.40.01' count='336'>
                <stl-vector type-name='int32_t' ref-target='nemesis_record'/>
            </static-array>
            <static-array name='unk5' since='v0.40.01' count='336'>
                <stl-vector type-name='int32_t' ref-target='nemesis_record'/>
            </static-array>
            <static-array name='unk6' since='v0.40.01' count='336'>
                <stl-vector type-name='int32_t' ref-target='nemesis_record' comment="same length as corresponding previous vector element. Not true for other pairs"/>
            </static-array>
        </compound>
        <stl-vector name='unk_131ec0' since='v0.42.01'>
            <pointer> The first value in a pair is always less/equal to the higher one, and the first value of the corresponding pair in the next vector
                      element is always greater/equal to the second one of the previous entry. Looks like first/last values for something.
                <int32_t name='unk_1'/>
                <int32_t name='unk_2'/>

                <int32_t name='unk_3'/>
                <int32_t name='unk_4'/>

                <int32_t name='unk_5'/>
                <int32_t name='unk_6'/>

                <int32_t name='unk_7'/>
                <int32_t name='unk_8'/>

                <int32_t name='unk_9'/>
                <int32_t name='unk_10'/>

                <int32_t name='unk_11'/>
                <int32_t name='unk_12'/>

                <int32_t name='unk_13'/>
                <int32_t name='unk_14'/>

                <int32_t name='unk_15'/>
                <int32_t name='unk_16'/>
            </pointer>
        </stl-vector>
        <stl-vector name='languages' since='v0.40.01'> DWARF ELF GOBLIN HUMAN
            <pointer>
                <stl-string name='name'/>
                <int32_t name='unk_1'/>
                <int32_t name='unk_2'/>
            </pointer>
        </stl-vector>
        <stl-vector name='unk_131ef0' since='v0.44.01'>
            <pointer>
                <int32_t name='hfid' ref-target='historical_figure' comment="confusing. usually the creator, but sometimes completely unrelated or culled"/>
                <stl-vector name='claims'>
                    <pointer>
                        <int32_t name='artifact' ref-target='artifact_record'/>
                        <int32_t name='unk_1' comment="only seen 1, and only family heirloom..."/>
                        <int32_t name='year' comment="matches up with creation or a claim..."/>
                        <int32_t name='year_tick' init-value='-1'/>
                        <int32_t name='unk_2' init-value='-1' comment="only seen -1"/>
                    </pointer>
                </stl-vector>
                <int32_t name='unk_hfid' ref-target='historical_figure' comment="hfid or completely unrelated hf seen?"/>
                <int32_t name='unk_1' init-value='0' comment="only seen 0"/>
                <int32_t name='unk_2' init-value='0' comment="only seen 0"/>
            </pointer>
        </stl-vector>

        <int32_t name='unk_131f08' since='v0.44.01'/>

        <bool name="reindex_pathfinding" comment='forces map_block.passable to be recomputed'/>

        <int32_t name='frame_counter' comment='increases by 1 every time . is pressed'/>

        <stl-vector name='orphaned_flows' pointer-type='flow_info' comment='flows that are not tied to a map_block'/>

        <compound name='pathfinder'>
            <static-array name='boundary_heap' count='80000'>
                <comment>A heap of current boundary tiles.</comment>
                <int32_t name='total_cost'/>
                <int32_t name='local_cost'/>
                <int16_t name='x'/>
                <int16_t name='y'/>
                <int32_t name='z'/>
            </static-array>
            <int32_t name='heap_count'/>

            <compound name='pos1' type-name='coord'/>
            <compound name='pos2' type-name='coord'/>

            -- Not quite simple distance, it seems:
            <int32_t name='dist_x'/>
            <int32_t name='dist_y'/>
            <int32_t name='dist_z'/>

            <int32_t name='next_path_cost'/>
            <bool name='wipe_path_cost'/>
            <uint16_t name='next_path_tag'/>
            <bool name='wipe_path_tag'/>

            <int16_t name='next_walkable_id'/>

            <int16_t name='plant_update_step'/>
            <bool/>
        </compound>

        <int32_t name='save_version'/>

        <compound name='cur_savegame'>
            <stl-string name='save_dir'/>
            <int32_t name='unk_v40_0s'/> was padding
            <enum base-type='int32_t' name='load_stage' since='v0.40.01'>
                <enum-item name='LoadingObjectFiles'/>
                <enum-item name='SortingMaterialTemplates'/>
                <enum-item name='SortingInorganics'/>
                <enum-item name='SortingPlants'/>
                <enum-item name='SortingTissueTemplates'/>
                <enum-item name='SortingItems'/>
                <enum-item name='SortingBuildings'/>
                <enum-item name='SortingBodyDetailPlans'/>
                <enum-item name='SortingCreatureBodies'/>
                <enum-item name='SortingCreatureVariations'/>
                <enum-item name='SortingCreatures'/>
                <enum-item name='SortingEntities'/>
                <enum-item name='SortingLanguages'/>
                <enum-item name='SortingDescriptions'/>
                <enum-item name='SortingReactions'/>
                <enum-item name='SortingInteractions'/>
                <enum-item name='FinalizingLanguages'/>
                <enum-item name='FinalizingDescriptors'/>
                <enum-item name='FinalizingMaterialTemplates'/>
                <enum-item name='FinalizingInorganics'/>
                <enum-item name='FinalizingPlants'/>
                <enum-item name='FinalizingTissueTemplates'/>
                <enum-item name='FinalizingItems'/>
                <enum-item name='FinalizingBuildings'/>
                <enum-item name='FinalizingBodyDetailPlans'/>
                <enum-item name='FinalizingCreatureVariations'/>
                <enum-item name='FinalizingCreatures'/>
                <enum-item name='FinalizingEntities'/>
                <enum-item name='FinalizingReactions'/>
                <enum-item name='FinalizingInteractions'/>
                <enum-item name='PreparingMaterialData'/>
                <enum-item name='GeneratingInorganics'/>
                <enum-item name='GeneratingPlants'/>
                <enum-item name='GeneratingItems'/>
                <enum-item name='GeneratingCreatures'/>
                <enum-item name='GeneratingEntities'/>
                <enum-item name='GeneratingReactions'/>
                <enum-item name='GeneratingInteractions'/>
                <enum-item name='FinalizingGeneratedObjects'/>
                <enum-item name='PreparingTextObjects'/>
                <enum-item name='PreparingGraphics'/>
                <enum-item name='Finishing'/>
            </enum>
            <int32_t name='unk_v40_2s' since='v0.40.01'/>
        </compound>

        <compound name='loading' since='v0.40.01'>
            <enum base-type='int32_t' name='state'>
                <enum-item name='Initializing'/>
                <enum-item name='Languages'/>
                <enum-item name='Shapes'/>
                <enum-item name='Colors'/>
                <enum-item name='Patterns'/>
                <enum-item name='MaterialTemplates'/>
                <enum-item name='Inorganics'/>
                <enum-item name='Plants'/>
                <enum-item name='TissueTemplates'/>
                <enum-item name='Items'/>
                <enum-item name='Buildings'/>
                <enum-item name='BodyDetailPlans'/>
                <enum-item name='CreatureBodies'/>
                <enum-item name='CreatureVariations'/>
                <enum-item name='Creatures'/>
                <enum-item name='Entities'/>
                <enum-item name='Reactions'/>
                <enum-item name='Interactions'/>
                <enum-item name='Finishing'/>
            </enum>
            <int32_t name='progress' comment='0..19' since='v0.40.01'/>

            <stl-vector name='object_files' since='v0.40.01' type-name='ptr-string'/>
            <int32_t name='object_file_index' since='v0.40.01' refers-to='$$._parent.object_files[$]'/>
        </compound>

        <pointer name='unk_v40_7s' comment="mutated from 0.40.01. Generates 4 bytes of padding before it on 64 bit systems followed by an 8 byte pointer, but only a 4 byte pointer on 32 bit systems"/>

        <compound name='features'>
            <stl-vector name='unk_v47_1' pointer-type='world_site' since='v0.47.01'/>
            <stl-vector name='map_features' pointer-type='feature_init'/>
            <stl-vector type-name='int16_t' name='feature_x'/>
            <stl-vector type-name='int16_t' name='feature_y'/>
            <stl-vector type-name='int16_t' name='feature_local_idx' comment='same as map_block.local_feature'/>
            <stl-vector type-name='int32_t' name='feature_global_idx' ref-target='world_underground_region'/>
            <stl-vector pointer-type='feature_init' comment='from unk_9C'/>
            <stl-vector type-name='int16_t' comment='unk_9C.region.x'/>
            <stl-vector type-name='int16_t' comment='unk_9C.region.y'/>
            <stl-vector type-name='int16_t' comment='unk_9C.embark.x'/>
            <stl-vector type-name='int16_t' comment='unk_9C.embark.y'/>
            <stl-vector type-name='int16_t' comment='unk_9C.local_feature_idx'/>
            <stl-vector type-name='int32_t' comment='unk_9C.global_feature_idx'/>
            <stl-vector type-name='int32_t' comment='unk_9C.unk10'/>
            <stl-vector type-name='int16_t' comment='unk_9C.unk14'/>
            <stl-vector type-name='int16_t' comment='unk_9C.local.x'/>
            <stl-vector type-name='int16_t' comment='unk_9C.local.y'/>
            <stl-vector type-name='int16_t' comment='unk_9C.z_min'/>
            <stl-vector type-name='int16_t' comment='unk_9C.z_min; yes, seemingly duplicate'/>
            <stl-vector type-name='int16_t' comment='unk_9C.z_max'/>
            <stl-bit-vector since='v0.40.11'/>
        </compound>

        <bool name='unk_26a9a8'/>
        <bool name='unk_26a9a9'/>
        <bool name='unk_26a9aa' since='v0.42.01'/>

        <compound name='arena_spawn'>
            <stl-vector name='race' type-name='int16_t' ref-target='creature_raw'/>
            <stl-vector name='caste' type-name='int16_t' ref-target='caste_raw' aux-value='$$._parent.race[$._key]'/>

            <int32_t name='type' refers-to='$$._parent.caste[$].ref-target'/>

            <stl-string name='filter' since='v0.34.08'/>

            <static-array name='item_types' count='107' comment='true array'>
                <stl-vector>
                    <pointer>
                        <enum base-type='int16_t' name='item_type' type-name='item_type'/>
                        <int16_t name='item_subtype' refers-to='(item-subtype-target $$._parent.item_type $)'/>

                        <int16_t name='mattype' ref-target='material' aux-value='$$.matindex'/>
                        <int32_t name='matindex'/>

                        <bool/>
                    </pointer>
                </stl-vector>
            </static-array>

            <stl-vector name='unk_vec1'/>
            <stl-vector name='unk_vec2'/>
            <stl-vector name='unk_vec3'/>

            <compound name='equipment'>
                <stl-vector name='skills'>
                    <enum base-type='int16_t' type-name='job_skill'/>
                </stl-vector>
                <stl-vector name='skill_levels' type-name='int32_t'
                            index-refers-to='$$._parent.skills[$]'/>

                <stl-vector name='item_types'>
                    <enum base-type='int16_t' type-name='item_type'/>
                </stl-vector>
                <stl-vector name='item_subtypes'>
                    <int16_t refers-to='(item-subtype-target $$._parent._parent.item_types[$$._key] $)'/>
                </stl-vector>
                <compound name='item_materials' type-name='material_vec_ref'/>
                <stl-vector name='item_counts' type-name='int32_t'/>
            </compound>

            <int32_t name='side'/>
            <int32_t name='interaction' refers-to='$$._parent.interactions[$]'/>
            <enum name='tame' base-type='int32_t' since='v0.47.01' comment='sets tame-mountable status when the creature creation menu is opened'>
                <enum-item name='NotTame' value='0'/>
                <enum-item name='Tame'/>
            </enum>

            <stl-vector name='interactions' pointer-type='interaction_effect' since='v0.34.01'/>
            <stl-vector name='creature_cnt' type-name='int32_t'
                        index-refers-to='(find-instance $creature_raw $)'/>
            <int32_t name='unk_int1'/>
        </compound>

        <compound name='arena_settings'>
            <enum name='conflict_level' type-name='conflict_level'/>
            <bool name='morale_enable'/>
            <int16_t name='unk1'/>?
            <uint16_t name='temperature'/>
            <int16_t name='time'/>
            <int32_t name='weather_column'/>
            <int32_t name='weather_row'/>
            <stl-vector name='tree_types' pointer-type='plant_raw'/>
            <int32_t name='tree_cursor'/>
            <int32_t name='tree_age'/>
            <stl-string name='tree_filter'/>
            <stl-string name='tree_age_str'/>
        </compound>

        <int8_t name='unk_26b5b8'/>
        <int8_t name='unk_26b5b9'/>

        <compound name='unk_26c678' since='v0.47.01'>
            <stl-vector/>
            <stl-vector/>

            <int32_t/>
            <compound name='unk_38' type-name='world_unk26c678_unk38'/>

            <stl-vector/>
            <stl-vector/>
            <stl-vector/>
            <stl-vector/>
            <stl-vector/>
            <stl-vector/>
            <stl-vector/>
            <stl-vector/>
        </compound>

        <compound name='unk_19325c'>
            <stl-vector>
                <pointer>
                    <pointer/>
                    <int32_t/>
                    <int16_t/>
                    <int32_t/>
                    <int32_t/>
                    <int32_t/>
                </pointer>
            </stl-vector>
            <stl-vector>
                <pointer>
                    <pointer/>
                    <int32_t/>
                    <int32_t/>
                </pointer>
            </stl-vector>
            <stl-vector>
                <pointer>
                    <int16_t/>
                    <int32_t/>
                    <int32_t/>
                    <int32_t/>
                </pointer>
            </stl-vector>

            <int32_t/>
            <int32_t/>
            <int32_t/>
        </compound>

        <int32_t name='unk_26b618' since='v0.40.01'/>
    </struct-type>

    <struct-type type-name='world_unk26c678_unk38'>
        <static-array count='107'>
            <stl-vector/> contains 16-byte records on Win64
        </static-array>
        <stl-vector type-name='int32_t'/>
        <stl-vector type-name='int16_t'/>
        <stl-vector type-name='int16_t'/>
    </struct-type>

</data-definition>

<!--
Local Variables:
indent-tabs-mode: nil
nxml-child-indent: 4
End:
-->
